(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[144],{1045:function(e,t,i){"use strict";var s=i(2),a=i(1059),r=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let n=class extends s.f{constructor(){super(...arguments),this.file=null,this.uploading=!1,this.maxFileUploadSize=0}close(){}handleFile(e){this.file=e,this.upload?this.uploading=!0:this.$emit("upload-file",this.file,this.maxFileUploadSize)}handleCaption(e){e&&this.$emit("caption",e)}onUploadCancel(){this.close(),this.uploading=!1}onUploadDone(e,t){this.$emit("select",t)}beforeDestroy(){this.uploading=!1}};r([Object(s.e)({default:!0}),o("design:type",Boolean)],n.prototype,"upload",void 0),n=r([Object(s.a)({components:{InterstitialUploader:a.a}})],n),t.a=n},1046:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const s=e=>{const t=(new DOMParser).parseFromString(e,"text/html").querySelector("iframe,img");return t?t.src:null}},1047:function(e,t,i){"use strict";i.d(t,"e",(function(){return o})),i.d(t,"c",(function(){return d})),i.d(t,"a",(function(){return u})),i.d(t,"d",(function(){return v})),i.d(t,"b",(function(){return f})),i.d(t,"f",(function(){return g}));var s=i(1117),a=i.n(s),r=i(3);r.a.MediaRecorder&&r.a.MediaRecorder.prototype.pause||(r.a.MediaRecorder=a.a);const o="undefined"!==typeof MediaRecorder,n=["audio/webm","audio/ogg","audio/wav","audio/mp4"],c=['video/webm;codecs="vp9,opus"','video/webm;codecs="vp9,vorbis"','video/webm;codecs="vp8,opus"','video/webm;codecs="vp8,vorbis"','video/webm;codecs="h264"',"video/webm","video/mpeg","video/mp4"],l=o&&MediaRecorder.isTypeSupported?MediaRecorder.isTypeSupported.bind(MediaRecorder):()=>!1,d=(()=>{if(!o)return"";for(const e of c)if(l(e))return e;return""})(),u=(()=>{if(!o)return"";for(const e of n)if(l(e))return e;return""})(),[h]=d.split(";"),[,p]=h.split("/"),v=p,f=u.split("/").pop(),g=!!v},1051:function(e,t,i){},1052:function(e,t,i){},1053:function(e,t,i){"use strict";var s=i(219),a=i(260),r=i(698),o=i(1116),n=i.n(o),c=i(1047);const l={data:()=>({activeAudioDeviceId:null,activeVideoDeviceId:null,audioDevices:[],durationMs:0,maxDuration:60,bufferDuration:0,recordedChunks:[],recording:!1,recordingOptions:{},recordingStatus:"notstarted",recordingStartTimeMs:null,secondsElapsed:0,streaming:!1,videoDevices:[]}),computed:{constraints(){},hasChunks(){return"notstarted"!=this.recordingStatus},hasRecordedChunks(){return this.recordedChunks.length>0&&"notstarted"!=this.recordingStatus},hasReachedRecordingLimit(){return this.secondsElapsed>=this.maxDuration+this.bufferDuration},isReachingRecordingLimit(){},recordingButtonTitle(){return this.hasChunks?this.__("Resume recording"):this.__("Start recording")},recordingDurationText(){return Object(r.a)(this.secondsElapsed)}},watch:{hasReachedRecordingLimit(e){e&&this.pauseRecording()}},methods:{chooseAudioDevice(e){if(this.activeAudioDeviceId=e.target.value,"no_audio"!==e.target.value){const e=this.audioDevices.find(e=>e.id===this.activeAudioDeviceId).label;localStorage.setItem("activeAudioDeviceName",e)}this.streaming&&this.$nextTick(this.restartStreaming.bind(this))},chooseVideoDevice(e){this.activeVideoDeviceId=e.target.value;const t=this.videoDevices.find(e=>e.id===this.activeVideoDeviceId).label;localStorage.setItem("activeVideoDeviceName",t),this.$nextTick(this.restartStreaming.bind(this))},_gotRecordedData(e){this.recordingStatus="stopped",this.recordedChunks=this.recordedChunks.concat([e.data]),this.gotRecordedData()},gotRecordedData(){},gotDevices(e){const t=[],i=[];if(e)for(let o of e){let e=o.deviceId,s=o.label,a=o.kind;"videoinput"===a?t.push({id:e,label:s}):"audioinput"==a&&i.push({id:e,label:s})}this.videoDevices=t,this.audioDevices=i;let s=!1;const a=localStorage.getItem("activeVideoDeviceName")||null,r=localStorage.getItem("activeAudioDeviceName")||null;if(this.constraints.audio&&r){const e=i.find(e=>e.label===r);e&&(e.id===this.activeAudioDeviceId||(this.activeAudioDeviceId=e.id,s=!0))}if(this.constraints.video&&a){const e=t.find(e=>e.label===a);e&&(e.id===this.activeVideoDeviceId||(this.activeVideoDeviceId=e.id,s=!0))}s&&this.restartStreaming()},_gotStream(e){if(this.streaming=!0,this._stream=e,this.constraints.video){const t=e.getVideoTracks()[0];if(t.addEventListener("ended",()=>{this.stopRecording()}),t&&"function"==typeof t.getSettings){const e=t.getSettings();e.deviceId&&(this.activeVideoDeviceId=e.deviceId)}}if(this.constraints.audio){const t=e.getAudioTracks()[0];if(t&&"function"==typeof t.getSettings){const e=t.getSettings();e.deviceId&&(this.activeAudioDeviceId=e.deviceId)}}this.gotStream(e)},gotStream(e){},errorGettingStream(e){console.error(e)},mountRecording(e){this.recordingOptions="audio"==e?{mimeType:c.a}:{mimeType:c.c}},mountScreenStreaming(){if(this.isElectronApp){const e={audio:!1,video:this.constraints.video};navigator.mediaDevices.getUserMedia(e).then(e=>{if(!this.constraints.audio)return void this._gotStream(e);const t=Object(a.b)();t&&!this.audioDevices.length&&t.requestMic(),navigator.mediaDevices.getUserMedia({audio:this.constraints.audio}).then(t=>{e.addTrack(t.getAudioTracks()[0]),this._gotStream(e)})})}else if("chrome"===this.constraints.audio){let e={audio:!1,video:this.constraints.video};navigator.mediaDevices.getUserMedia(e).then(e=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{e.addTrack(t.getAudioTracks()[0]),this._gotStream(e)})})}else navigator.mediaDevices.getUserMedia(this.constraints).then(e=>{this._gotStream(e)}).catch(e=>{this.errorGettingStream(e)})},mountStreaming(){navigator.mediaDevices.getUserMedia(this.constraints).then(e=>(this._gotStream(e),navigator.mediaDevices.enumerateDevices())).then(this.gotDevices.bind(this))},mountToSetupAudioStreaming(){return navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{const t=e.getAudioTracks()[0];if("function"==typeof t.getSettings){const e=t.getSettings();e.deviceId&&(this.activeAudioDeviceId=e.deviceId)}return navigator.mediaDevices.enumerateDevices()}).catch(e=>{if("NotAllowedError"!==e.name)throw e;console.warn("Microphone permission not allowed")}).then(this.gotDevices.bind(this))},pauseRecording(){"recording"!=!this.recordingStatus&&(this._mediaRecorder.pause(),this.recordingStatus="paused",this.recording=!1,clearInterval(this._recordingTimer),this.durationMs+=Date.now()-this.recordingStartTimeMs)},async recordedBlob(){let e=new Blob(this.recordedChunks,{type:this.recordingOptions.mimeType});return this.recordingOptions.mimeType.startsWith("video/webm")&&(e=await n()(e,this.durationMs)),e},restartStreaming(){Object(s.a)("AV Recorder","Restarted"),this.stopStreaming(),this.startStreaming()},resumeRecording(){Object(s.a)("AV Recorder","Resumed"),this._mediaRecorder.resume(),this.recordingStatus="recording",this.recording=!0,this._recordingTimer=setInterval(()=>{this.secondsElapsed++},1e3),this.recordingStartTimeMs=Date.now()},discardRecording(){Object(s.a)("AV Recorder","Restarted"),this.secondsElapsed=0,this.recordedChunks=[],this._boundDataAvailableCallback&&this._mediaRecorder.removeEventListener("dataavailable",this._boundDataAvailableCallback),this.stopRecording(),this.durationMs=0},restartRecording(){this.discardRecording(),this.startRecording()},startRecording(){if(!this.hasReachedRecordingLimit&&"recording"!=this.recordingStatus){if("paused"==this.recordingStatus)return this.resumeRecording();"notstarted"==this.recordingStatus&&Object(s.a)("AV Recorder","Started"),this._mediaRecorder=new MediaRecorder(this._stream,this.recordingOptions),this._boundDataAvailableCallback||(this._boundDataAvailableCallback=this._gotRecordedData.bind(this)),this._mediaRecorder.addEventListener("dataavailable",this._boundDataAvailableCallback),this._mediaRecorder.start(),this.recording=!0,this.recordingStatus="recording",this._recordingTimer=setInterval(()=>{this.secondsElapsed++},1e3),this.recordingStartTimeMs=Date.now()}},startStreaming(){return navigator.mediaDevices.getUserMedia(this.constraints).then(this._gotStream.bind(this))},stopRecording(){this._mediaRecorder&&"stopped"!=this.recordingStatus&&"stopping"!=this.recordingStatus&&(this.recordingStatus="stopping",this.recording=!1,clearInterval(this._recordingTimer),0===this.durationMs&&(this.durationMs=Date.now()-this.recordingStartTimeMs),this.recordingStartTimeMs=null,this._mediaRecorder.stop())},stopStreaming(){this.streaming=!1,this._stream&&this._stream.getTracks().forEach(e=>e.stop())}}};t.a=l},1054:function(e,t,i){},1055:function(e,t,i){},1056:function(e,t,i){},1057:function(e,t,i){},1059:function(e,t,i){"use strict";var s=i(133),a=i(689),r={components:{OzLoadingSpinner:s.a},mixins:[a.a],props:{title:String,download:{type:Boolean,default:!1}},computed:{finalTitle(){return this.title?this.title:this.__("Uploading %{filename}",{filename:this.filename||this.__("file")})}}},o=(i(1097),i(5)),n=Object(o.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tv"},[e.error?[i("div",{staticClass:"tv-cell"},[i("p",{staticClass:"title-type"},[e._v(e._s(e.error))])]),e._v(" "),i("div",{staticClass:"tv-cell button-list"},[e.canRetryUpload?i("button",{staticClass:"text-button",on:{click:e.startUpload}},[e._v(e._s(e.__("Retry")))]):e._e(),e._v(" "),e.download?i("a",{staticClass:"text-button",attrs:{role:"button",href:e.fileUrl,download:""}},[e._v(e._s(e.__("Download")))]):e._e(),e._v(" "),i("button",{staticClass:"text-button",on:{click:e.cancelUpload}},[e._v(e._s(e.__("Cancel")))])])]:[i("div",{staticClass:"tv-cell"},[i("OzLoadingSpinner")],1),e._v(" "),i("div",{staticClass:"tv-cell"},[i("p",{staticClass:"title-type ellipsified-type"},[e._v(e._s(e.finalTitle))]),e._v(" "),i("p",{staticClass:"caption-type"},[e._v(e._s(e.__("Hang tight, we'll be done in a jiffy.")))])]),e._v(" "),i("div",{staticClass:"tv-cell"},[i("button",{staticClass:"text-button",on:{click:e.cancelUpload}},[e._v(e._s(e.__("Cancel")))])])]],2)}),[],!1,null,"7244b4be",null);t.a=n.exports},1060:function(e,t,i){"use strict";var s=i(233),a={components:{ProcessedImage:i(305).a},props:{provider:{type:String,required:!0}},computed:{href(){return s.b[this.provider].href},src(){return s.b[this.provider].src},width(){return s.b[this.provider].width},height(){return s.b[this.provider].height}}},r=(i(1103),i(5)),o=Object(r.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("a",{attrs:{href:this.href,target:"_blank"}},[t("processed-image",{staticClass:"attribution-image",attrs:{src:this.src,width:this.width,height:this.height,transforms:{width:this.width,height:this.height}}})],1)}),[],!1,null,"25f0b4e6",null);t.a=o.exports},1063:function(e,t,i){},1064:function(e,t,i){},1065:function(e,t,i){},1066:function(e,t,i){},1067:function(e,t,i){},1068:function(e,t,i){},1069:function(e,t,i){},1070:function(e,t,i){},1071:function(e,t,i){},1072:function(e,t,i){},1073:function(e,t,i){},1074:function(e,t,i){},1075:function(e,t,i){},1076:function(e,t,i){},1077:function(e,t,i){},1078:function(e,t,i){},1079:function(e,t,i){},1080:function(e,t,i){var s=i(1142);"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(78).default)("7e720ac0",s,!0,{})},1081:function(e,t,i){},1082:function(e,t,i){},1083:function(e,t,i){},1084:function(e,t,i){},1086:function(e,t,i){},1087:function(e,t,i){},1094:function(e,t,i){"use strict";var s=i(277),a=i(1111),r=i(31);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l={components:{RequireNotice:a.a},mixins:[s.a],props:["feature"],computed:n(n({},Object(r.e)(["isMac","isWindows","isMobile","isSafari","isIE","isEdge","isChrome"])),{},{browserName(){return this.isSafari?"Safari":this.isIE?"Internet Explorer":this.isEdge?"Edge":this.isChrome?"Chrome":"Your browser"}}),methods:{cancel(){this.$emit("close")},install(){this.isMac?window.open("http://sl.padlet.com/mac_app","_blank"):this.isWindows&&window.open("http://sl.padlet.com/windows_app","_blank"),this.$emit("close")}}},d=i(5),u=Object(d.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isMac?s("require-notice",{attrs:{header:e.__("macOS app required"),body:e.__("%{name} does not support %{feature}. But our macOS App does. Install it to enjoy audio, video, and screen recording.",{name:e.browserName,feature:e.feature}),"action-text":e.__("Install"),"cancel-text":e.__("No thanks")},on:{action:e.install,cancel:e.cancel}},[s("img",{attrs:{src:i(1122)}})]):e.isWindows?s("require-notice",{attrs:{header:e.__("Windows app required"),body:e.__("%{name} does not support %{feature}. But our Windows App does. Install it to enjoy audio, video, and screen recording.",{name:e.browserName,feature:e.feature}),"action-text":e.__("Install"),"cancel-text":e.__("No thanks")},on:{action:e.install,cancel:e.cancel}},[s("img",{attrs:{src:i(1123)}})]):e.isMobile?s("require-notice",{attrs:{header:e.__("Not supported"),body:e.__("Sorry, this feature is only available on desktop devices."),"cancel-text":e.__("Close")},on:{cancel:e.cancel}}):e._e()}),[],!1,null,null,null);t.a=u.exports},1096:function(e,t,i){"use strict";var s=i(22),a=i(8),r=i(2),o=i(44),n=i(230),c=i(1106),l=i.n(c),d=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},u=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let h=class extends s.a{get scale(){return this.height/37}get hexWidth(){return 32*this.scale}get hexHeight(){return this.height}get bgClasses(){switch(this.backgroundColor){case"pink":return["bg-padlet-pink"];case"green":return["bg-park"];case"orange":return["bg-tangerine"];case"blue":return["bg-oceanic"];case"yellow":return["bg-canary-500"];case"purple":return["bg-grape-500"];case"white":return["bg-light-ui-200"];case"black":return["bg-dark-ui-200"];case"monochrome":return["bg-light-ui-200","dark:bg-nightfall"];case"transparent":return["bg-transparent"];case"loadingColors":return["bg-grape-500","dark:bg-canary-500"]}return["bg-light-ui-200"]}get textClasses(){const e=this.color;switch(this.backgroundColor){case"pink":case"green":case"orange":case"blue":case"purple":case"black":return["primary"==e?"text-white-100":"","secondary"==e?"text-white-200":"","tertiary"==e?"text-white-300":"","disabled"==e?"text-white-400":""];case"yellow":case"white":return["primary"==e?"text-highway-100":"","secondary"==e?"text-highway-200":"","tertiary"==e?"text-highway-300":"","disabled"==e?"text-highway-400":""];case"monochrome":case"transparent":case"loadingColors":return["primary"==e?"text-highway-100 dark:text-white-100":"","secondary"==e?"text-highway-200 dark:text-white-200":"","tertiary"==e?"text-highway-300 dark:text-white-300":"","disabled"==e?"text-highway-400 dark:text-white-400":"","invertedPrimary"==e?"text-white-100 dark:text-highway-100":""]}return[]}get hoverColorClasses(){if(!this.isButton)return[];switch(this.backgroundColor){case"pink":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-padlet-pink-500","pulse-bg-to-padlet-pink-600","dark:pulse-bg-from-padlet-pink-500","dark:pulse-bg-to-padlet-pink-400"];case"green":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-park-500","pulse-bg-to-park-600","dark:pulse-bg-from-park-500","dark:pulse-bg-to-park-400"];case"orange":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-tangerine-500","pulse-bg-to-tangerine-600","dark:pulse-bg-from-tangerine-500","dark:pulse-bg-to-tangerine-400"];case"blue":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-oceanic-500","pulse-bg-to-oceanic-600","dark:pulse-bg-from-oceanic-500","dark:pulse-bg-to-oceanic-400"];case"purple":return["hover-hover:hover:animate-pulse-bg-color","pulse-bg-from-grape-500","pulse-bg-to-grape-600","dark:pulse-bg-from-grape-500","dark:pulse-bg-to-grape-400"];default:return[]}}get activeFocusColorClasses(){if(!this.isButton)return[];switch(this.backgroundColor){case"pink":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-padlet-pink-700","dark:active:bg-padlet-pink-400","focus:bg-padlet-pink-700","dark:focus:bg-padlet-pink-400"];case"green":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-park-700","dark:active:bg-park-400","focus:bg-park-700","dark:focus:bg-park-400"];case"orange":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-tangerine-700","dark:active:bg-tangerine-400","focus:bg-tangerine-700","dark:focus:bg-tangerine-400"];case"blue":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-oceanic-700","dark:active:bg-oceanic-400","focus:bg-oceanic-700","dark:focus:bg-oceanic-400"];case"purple":return["hover-hover:active:animate-none","hover-hover:focus:animate-none","active:bg-grape-700","dark:active:bg-grape-400","focus:bg-grape-700","dark:focus:bg-grape-400"];default:return[]}}get styles(){const e=this.isChrome&&this.isMac?{clipPath:"url(#rounded-hexagon-svg-clip-path)"}:{maskImage:this.hexMask,maskSize:"100% 100%"};return Object.assign({minWidth:this.hexWidth+"px",maxWidth:this.hexWidth+"px",minHeight:this.hexHeight+"px",maxHeight:this.hexHeight+"px"},e)}get iconStyle(){return{maxWidth:this.iconSize+"px",width:this.iconSize+"px",height:this.iconSize+"px",fontSize:` ${this.iconSize}px`,lineHeight:""+this.iconLineHeight}}get hexMask(){return`url(${l.a})`}click(e){this.isButton&&(this.$emit("click",e),this.shouldStopClickPropagation&&e.stopPropagation())}};d([Object(r.e)({default:48}),u("design:type",Number)],h.prototype,"height",void 0),d([Object(r.e)({default:"pink"}),u("design:type",String)],h.prototype,"backgroundColor",void 0),d([Object(r.e)({default:""}),u("design:type",String)],h.prototype,"iconName",void 0),d([Object(r.e)({default:"oricon"}),u("design:type",String)],h.prototype,"iconFont",void 0),d([Object(r.e)({default:24}),u("design:type",Number)],h.prototype,"iconSize",void 0),d([Object(r.e)({default:""}),u("design:type",String)],h.prototype,"text",void 0),d([Object(r.e)({default:"primary"}),u("design:type",String)],h.prototype,"color",void 0),d([Object(r.e)({default:1}),u("design:type",Number)],h.prototype,"iconLineHeight",void 0),d([Object(r.e)({default:!1}),u("design:type",Boolean)],h.prototype,"isButton",void 0),d([Object(r.e)({default:!1}),u("design:type",Boolean)],h.prototype,"shouldStopClickPropagation",void 0),d([Object(r.e)({default:""}),u("design:type",String)],h.prototype,"imageUrl",void 0),d([Object(r.e)({default:""}),u("design:type",String)],h.prototype,"imageAltText",void 0),d([a.c,u("design:type",Boolean)],h.prototype,"isChrome",void 0),d([a.c,u("design:type",Boolean)],h.prototype,"isMac",void 0),h=d([Object(r.a)({components:{OzIcon:o.default,OzAvatar:n.a}})],h);var p=h,v=i(5),f=Object(v.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["flex","items-center","justify-center","select-none"].concat(e.bgClasses,e.textClasses,e.hoverColorClasses,e.activeFocusColorClasses,[e.isButton&&"cursor-pointer"]),style:e.styles,attrs:{role:e.isButton&&"button",tabindex:e.isButton&&0},on:{click:e.click,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.click(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.click(t)}]}},[e.iconName?i("OzIcon",{class:["flex-auto","text-center"].concat(e.textClasses),style:e.iconStyle,attrs:{name:e.iconName,font:e.iconFont,size:e.iconSize}}):e.imageUrl?i("OzAvatar",{attrs:{height:e.height,width:e.height,src:e.imageUrl,"alt-text-name":e.imageAltText}}):e._e(),e._v("\n\n  "+e._s(e.text&&e.text)+"\n")],1)}),[],!1,null,null,null);t.a=f.exports},1097:function(e,t,i){"use strict";var s=i(1051);i.n(s).a},1098:function(e,t,i){e.exports=i.p+"media/images/add_attachment-cc32506c94bdce447ac94382cf3812cb.svg"},1099:function(e,t,i){"use strict";var s=i(1052);i.n(s).a},1100:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i(1101);const a=new Audio(i.n(s).a)},1101:function(e,t,i){e.exports=i.p+"media/audio/shutter-4770b3cf1bfa4a9d845ad36f7b36e9f2.mp3"},1102:function(e,t,i){"use strict";var s=i(1054);i.n(s).a},1103:function(e,t,i){"use strict";var s=i(1055);i.n(s).a},1104:function(e,t,i){"use strict";var s=i(1056);i.n(s).a},1105:function(e,t,i){"use strict";var s=i(1057);i.n(s).a},1106:function(e,t,i){e.exports=i.p+"media/images/rounded-hexagon-d06c029393fed206931352d962c06c5e.svg"},1107:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i(21);const a=function(e){const t="test-installed-chrome-extension-"+e,i=document.getElementById(t);i&&document.body.removeChild(i);return new Promise(i=>{const s=document.createElement("script");s.id=t,s.onload=()=>{i(!0)},s.onerror=()=>{i(!1)},s.src=`chrome-extension://${e}/screenshare.js`,document.body.appendChild(s)})};async function r(){return!!Object(s.b)("chromiumBased")&&(await a("kcljbbiddpoeaknnjaminoceoojdbikp")||await a("dkioigicbijecidbooccnhfafineggga"))}},1109:function(e,t,i){"use strict";var s=i(10),a=i(233),r=i(79),o=i(1046),n=i(135),c=i(101),l=i(252),d=i(102),u={components:{BaseImage:l.a},props:{result:Object,width:Number,aspectRatio:Number},computed:{url(){if(this.result.thumbnail_width&&this.result.thumbnail_width>500){const e={width:this.width,crop:"thumb"};return this.aspectRatio&&(e.ar=this.aspectRatio),Object(d.processedUrl)(this.result.thumbnail_url,e)}return Object(d.proxiedUrl)(this.result.thumbnail_url)},height(){const e=this.aspectRatio?this.aspectRatio:this.result.thumbnail_width/this.result.thumbnail_height;return Math.floor(this.width/e)}}},h=i(5),p=Object(h.a)(u,(function(){var e=this.$createElement;return(this._self._c||e)("base-image",{attrs:{src:this.url,alt:this.result.title,height:this.height,width:this.width,loading:"lazy"}})}),[],!1,null,null,null).exports,v=i(1060),f=i(133),g=i(219),b=i(34),m=i(4),y=i(277),_=i(424);const w={wallpaper:{allowedSources:["stock"],initialSearchMessage:Object(m.b)("Search wallpaper gallery.")},images:{allowedSources:["images"],initialSearchMessage:Object(m.b)("Search images.")},imagesAndGifs:{allowedSources:["images","gif"],initialSearchMessage:Object(m.b)("Search images and GIFs.")},all:{allowedSources:["images","videos","gif","audio","web"],initialSearchMessage:Object(m.b)("Search images, videos, GIFs, audio, websites, and more.")}};var k={components:{BaseIcon:c.a,BaseTextTabs:_.a,OzLoadingSpinner:f.a,WebBrowserThumbnail:p,WebBrowserAttribution:v.a},mixins:[y.a],props:{q:{type:String,default:""},preset:{type:String,default:"all",validator:e=>!!w[e]},xNewSurfaceShadows:{type:Boolean}},data:()=>({query:"",activeSearchFilter:n.a.getItem("activeContentSearchFilter")||"images",searchResults:[],nextSearchUrl:null,prevSearchUrl:null,searchProvider:null,isSearching:!1,error:!1,imageWidth:0,MAX_SEARCH_LENGTH:100}),computed:{allowedSources(){return w[this.preset].allowedSources},xTabs(){return this.allowedSources.length>1},tabsData:()=>[{text:Object(m.b)("Images"),key:"images"},{text:Object(m.b)("Videos"),key:"videos"},{text:Object(m.b)("Gifs"),key:"gif"},{text:Object(m.b)("Audio"),key:"audio"},{text:Object(m.b)("Web"),key:"web"}],status(){let e=null;if(this.isSearching)e="searching";else if(this.query)if(this.error)e="error";else{e=0===(this.searchResults.webpages||this.searchResults.images||this.searchResults.videos||this.searchResults.audio||[]).length?"noresults":"results"}else e="initial";return e},searchResultContentType(){let e=null;return e=this.searchResults.webpages?"webpages":this.searchResults.images?"images":this.searchResults.videos?"videos":this.searchResults.audio?"audio":"unknown",e},showAttribution(){return["giphy","spotify","tenor","unsplash","youtube"].includes(this.searchProvider)},initialSearchMessage(){return w[this.preset].initialSearchMessage}},watch:{preset:{handler(){this.allowedSources.includes(this.activeSearchFilter)||(n.a.setItem("activeContentSearchFilter",this.allowedSources[0]),this.activeSearchFilter=this.allowedSources[0])},immediate:!0},query(e){if(e)if(Object(r.f)(e))this.select(e);else{const t=Object(o.a)(e);t?this.select(t):this.search({query:e,filter:this.activeSearchFilter})}else this.searchResults=[]},activeSearchFilter(e){Object(g.a)("Web Browser","Changed Filter",e),n.a.setItem("activeContentSearchFilter",e),this.query&&(this.search({query:this.query,filter:e}),this.$refs.queryInput.focus())}},mounted(){Object(g.a)("Web Browser","Mounted",this.activeSearchFilter),this.$refs.queryInput.focus(),this.$refs.container.style.overflow="scroll",this.imageWidth=Math.floor(this.$refs.container.clientWidth/2-12),this.$refs.container.style.overflow="auto",!this.q||Object(r.f)(this.q)||Object(o.a)(this.q)||(this.query=this.q.substring(0,100),this.$nextTick(()=>{this.$refs.queryInput.select()}))},methods:{providerName:e=>e.provider_name?e.provider_name:Object(r.c)(e.url),audioDescription:e=>e.release_date?new Date(e.release_date).toLocaleDateString()+" \u2013 "+e.description:e.description,search(e){this.isSearching=!0,this.error=!1,Object(g.a)("Web Browser","Searched",e.query),e.query?Object(a.c)(e.query,e.filter).then(this.handleSearchResponse,this.handleErrorResponse):Object(a.d)(e.url).then(this.handleSearchResponse,this.handleErrorResponse)},handleSearchResponse(e){this.isSearching=!1,this.searchResults=e.data,e.links&&(this.prevSearchUrl=e.links.prev,this.nextSearchUrl=e.links.next),e.meta&&(this.searchProvider=e.meta.provider)},handleErrorResponse(e){Object(b.a)(e),this.isSearching=!1,this.error=!0},selectSearchType(e){this.activeSearchFilter=e},cancel(){this.close()},close(){this.$emit("close")},onSearch(){this.query=this.$refs.queryInput.value},select(e){this.$emit("select",e)},selectWithBeacon(e,t){t&&Object(s.fetchJson)(t,{cors:!0}),this.$emit("select",e)},searchNext(){this.search({url:this.nextSearchUrl})},searchPrev(){this.search({url:this.prevSearchUrl})}}},C=(i(1104),Object(h.a)(k,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"web-browser side-panel side-panel-with-curtain",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[i("div",{ref:"container",class:["panel-container","is-animated","slide-from-right",e.xNewSurfaceShadows?"shadow-elevation-3":"shadow-z3"]},[i("header",{staticClass:"panel-header panel-header-with-content"},[i("div",{staticClass:"panel-left-item"},[i("button",{staticClass:"text-button narrow-button",on:{click:e.close}},[e._v(e._s(e.__("Close")))])]),e._v(" "),i("div",{staticClass:"panel-title"},[e._v(e._s(e.__("Search")))]),e._v(" "),i("div",{staticClass:"panel-right-item"})]),e._v(" "),i("form",{class:["panel-header-content",{"panel-header-content-last":!e.xTabs}],on:{submit:function(t){return t.preventDefault(),e.onSearch(t)}}},[i("div",{staticClass:"web-browser-form-container"},[i("input",{ref:"queryInput",attrs:{type:"search",maxlength:e.MAX_SEARCH_LENGTH,autofocus:"",placeholder:e.__("Enter search term")},domProps:{value:e.query}}),e._v(" "),i("button",{staticClass:"icon-button",attrs:{type:"submit",title:e.__("Search")}},[i("base-icon",{attrs:{name:"arrow_forward"}})],1)])]),e._v(" "),e.xTabs?i("base-text-tabs",{staticClass:"web-browser-tabs panel-header-content-last",attrs:{tabs:e.tabsData,"active-key":e.activeSearchFilter,"click-handler":e.selectSearchType}}):e._e(),e._v(" "),"results"!=e.status?i("div",{staticClass:"web-browser-messages",attrs:{"data-status":e.status}},["initial"===e.status?i("div",{staticClass:"caption-type web-browser-padded-message"},[e._v("\n        "+e._s(e.initialSearchMessage)+"\n      ")]):"searching"==e.status?i("OzLoadingSpinner"):"noresults"==e.status?i("div",{staticClass:"caption-type web-browser-padded-message"},[i("p",[e._v(e._s(e.__("No results found for your search term.")))]),e._v(" "),i("p",[e._v(e._s(e.__("Hope you find what you are looking for!")))])]):"error"==e.status?i("div",{staticClass:"caption-type web-browser-padded-message"},[e._v("\n        "+e._s(e.__("Oops! Something went wrong. Please try again."))+"\n      ")]):e._e()],1):i("div",{staticClass:"web-browser-results",attrs:{"data-content-type":e.searchResultContentType}},[e.nextSearchUrl||e.prevSearchUrl?i("div",{staticClass:"web-browser-pagination-control web-browser-pagination-control-top"},[i("div",{staticClass:"web-browser-pagination-control-prev"},[e.prevSearchUrl?i("button",{staticClass:"caption-text-button narrow-button",on:{click:e.searchPrev}},[e._v("\n            "+e._s(e.__("Previous"))+"\n          ")]):e._e()]),e._v(" "),e.showAttribution?i("div",[i("web-browser-attribution",{attrs:{provider:e.searchProvider}})],1):e._e(),e._v(" "),i("div",{staticClass:"web-browser-pagination-control-next"},[e.nextSearchUrl?i("button",{staticClass:"caption-text-button narrow-button",on:{click:e.searchNext}},[e._v("\n            "+e._s(e.__("Next"))+"\n          ")]):e._e()])]):e._e(),e._v(" "),"webpages"==e.searchResultContentType?i("ul",{staticClass:"tv tv-list"},e._l(e.searchResults.webpages,(function(t){return i("li",{key:t.url,staticClass:"web-browser-webpage-result tv-cell tv-cell-actionable",on:{click:function(i){return e.select(t.url)}}},[i("h4",[e._v(e._s(t.title))]),e._v(" "),i("p",{staticClass:"small-type"},[e._v(e._s(t.description))]),e._v(" "),i("p",{staticClass:"small-caption-type ellipsified-type"},[e._v(e._s(t.url))])])})),0):"stock"===e.activeSearchFilter?i("ul",{staticClass:"tv tv-list"},e._l(e.searchResults.images,(function(t){return i("li",{key:t.url,staticClass:"web-browser-result",style:{width:e.imageWidth+"px"},on:{click:function(i){return e.selectWithBeacon(t.url,t.beacon_link)}}},[i("div",{staticClass:"web-browser-result-preview"},[i("web-browser-thumbnail",{attrs:{result:t,width:e.imageWidth,"aspect-ratio":1}})],1),e._v(" "),i("div",{staticClass:"web-browser-result-meta web-browser-result-meta-with-attribution"},[i("div",{staticClass:"web-browser-result-meta-text"},[i("div",{staticClass:"small-type"},[e._v(e._s(t.title))])]),e._v(" "),i("a",{staticClass:"caption-type",attrs:{href:t.attribution_link,target:"blank"},on:{click:function(e){e.stopPropagation()}}},[i("base-icon",{attrs:{name:"link",size:"small"}})],1)])])})),0):"images"==e.searchResultContentType?i("ul",{staticClass:"tv tv-list"},e._l(e.searchResults.images,(function(t){return i("li",{key:t.url,staticClass:"web-browser-result",style:{width:e.imageWidth+"px"},on:{click:function(i){return e.selectWithBeacon(t.url,t.beacon_link)}}},[i("div",{staticClass:"web-browser-result-preview"},[i("web-browser-thumbnail",{attrs:{result:t,width:e.imageWidth}})],1),e._v(" "),t.attribution_link?i("div",{staticClass:"web-browser-result-meta web-browser-result-meta-with-attribution"},[i("div",{staticClass:"web-browser-result-meta-text"},[i("div",{staticClass:"small-type ellipsified-type",attrs:{title:t.title}},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"small-caption-type ellipsified-type"},[e._v(e._s(e.providerName(t)))]),e._v(" "),i("div",{staticClass:"small-type muted-type ellipsified-type"},[e._v(e._s(t.width)+"x"+e._s(t.height))])]),e._v(" "),i("a",{staticClass:"caption-type",attrs:{href:t.attribution_link,target:"blank"},on:{click:function(e){e.stopPropagation()}}},[i("base-icon",{attrs:{name:"link",size:"small"}})],1)]):i("div",{staticClass:"web-browser-result-meta"},["images"==e.activeSearchFilter?i("div",{staticClass:"small-type"},[e._v(e._s(t.width)+"x"+e._s(t.height))]):e._e(),e._v(" "),i("div",{staticClass:"small-caption-type ellipsified-type"},[e._v(e._s(e.providerName(t)))])])])})),0):"audio"==e.searchResultContentType?i("ul",{staticClass:"tv tv-list"},e._l(e.searchResults.audio,(function(t){return i("li",{key:t.url,staticClass:"web-browser-result",style:{width:e.imageWidth+"px"},on:{click:function(i){return e.select(t.url)}}},[i("div",{staticClass:"web-browser-result-preview"},[i("web-browser-thumbnail",{attrs:{result:t,width:e.imageWidth,"aspect-ratio":1}}),e._v(" "),t.duration?i("div",{staticClass:"web-browser-result-duration"},[e._v(e._s(t.duration))]):e._e()],1),e._v(" "),i("div",{staticClass:"web-browser-result-meta"},[i("div",{staticClass:"small-type"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"small-caption-type ellipsified-type",attrs:{title:e.audioDescription(t)}},[e._v("\n              "+e._s(e.audioDescription(t))+"\n            ")])])])})),0):"videos"==e.searchResultContentType?i("ul",{staticClass:"tv tv-list"},e._l(e.searchResults.videos,(function(t){return i("li",{key:t.url,staticClass:"web-browser-result",style:{width:e.imageWidth+"px"},on:{click:function(i){return e.select(t.url)}}},[i("div",{staticClass:"web-browser-result-preview"},[i("web-browser-thumbnail",{attrs:{result:t,width:e.imageWidth}}),e._v(" "),t.duration?i("div",{staticClass:"web-browser-result-duration"},[e._v(e._s(t.duration))]):e._e()],1),e._v(" "),i("div",{staticClass:"web-browser-result-meta"},[i("div",{staticClass:"small-type"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"small-caption-type ellipsified-type"},[e._v(e._s(e.providerName(t)))])])])})),0):e._e(),e._v(" "),e.nextSearchUrl||e.prevSearchUrl?i("div",{staticClass:"web-browser-pagination-control"},[i("div",{staticClass:"web-browser-pagination-control-prev"},[e.prevSearchUrl?i("button",{staticClass:"caption-text-button narrow-button",on:{click:e.searchPrev}},[e._v("\n            "+e._s(e.__("Previous"))+"\n          ")]):e._e()]),e._v(" "),e.showAttribution?i("div",[i("web-browser-attribution",{attrs:{provider:e.searchProvider}})],1):e._e(),e._v(" "),i("div",{staticClass:"web-browser-pagination-control-next"},[e.nextSearchUrl?i("button",{staticClass:"caption-text-button narrow-button",on:{click:e.searchNext}},[e._v("\n            "+e._s(e.__("Next"))+"\n          ")]):e._e()])]):e.showAttribution?i("div",{staticClass:"web-browser-attribution-control"},[i("web-browser-attribution",{attrs:{provider:e.searchProvider}})],1):e._e()])],1)])}),[],!1,null,"1a4bdbc7",null));t.a=C.exports},1110:function(e,t,i){"use strict";var s=i(1045),a=i(277),r=i(692),o=i(1098),n=i.n(o),c=i(10),l=i(219),d={components:{AttachmentPreview:r.a},mixins:[s.a,a.a],props:{cabinet:{type:Boolean,default:!0},maxFileSize:{type:Number},xNewSurfaceShadows:{type:Boolean}},data:()=>({imageSrc:n.a,dragging:!1,fileWidth:175,lazyLoadingThreshold:20,existingFilesSubset:[],existingFiles:[]}),mounted(){this.cabinet&&(this.$refs.container.style.overflow="scroll",this.fileWidth=Math.floor(this.$refs.container.clientWidth/2-12),this.$refs.container.style.overflow="auto",Object(c.fetchJson)("/api/attachments?filter=files").then(e=>{this._intersectionObserver.observe(this.$refs.io),this.existingFiles=e,this.existingFilesSubset=this.existingFiles.slice(0,this.lazyLoadingThreshold)}),this._intersectionObserver=new IntersectionObserver(this.onIntersection.bind(this)))},beforeDestroy(){this._intersectionObserver.disconnect()},methods:{close(){this.$emit("close")},cancel(){this.uploading?window.confirm(this.__("You are in the middle of an upload. Are you sure you want to close the file browser?"))&&this.close():this.close()},onDragLeave(){this.dragging=!1},onDragOver(){this.uploading||(this.dragging=!0)},onDrop(e){if(!this.uploading&&(this.dragging=!1,e.dataTransfer)){Object(l.a)("File Browser","Dragged File");const t=e.dataTransfer.files;t&&t.length>0&&this.handleFile(t[0])}},onIntersection(e){if(e[0].intersectionRatio>0&&this.existingFiles.length>this.existingFilesSubset.length){const e=this.existingFilesSubset.length+this.lazyLoadingThreshold;this.existingFilesSubset=this.existingFiles.slice(0,e)}},onUploadCancel(){this.uploading=!1},onUploadReject(e,t){this.$emit("reject",e,t)},selectFileFromCabinet(e){Object(l.a)("File Browser","Selected Existing"),this.$emit("select",e.currentTarget.href)},startUpload(e){Object(l.a)("File Browser","Picked File");const t=e.target.files[0];this.handleFile(t)}}},u=(i(1099),i(5)),h=Object(u.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"file-browser panel side-panel side-panel-with-curtain",attrs:{"data-dragging":e.dragging},on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[i("div",{ref:"container",class:["panel-container","is-animated","slide-from-right",e.xNewSurfaceShadows?"shadow-elevation-3":"shadow-z3"],on:{dragover:function(t){return t.preventDefault(),e.onDragOver(t)},dragleave:function(t){return t.preventDefault(),e.onDragLeave(t)},drop:function(t){return t.preventDefault(),e.onDrop(t)}}},[e.uploading?i("div",{staticClass:"panel-body file-browser-uploading-body"},[e.uploading?i("interstitial-uploader",{staticClass:"panel-interstitial",attrs:{file:e.file,"max-file-size":e.maxFileSize},on:{done:e.onUploadDone,reject:e.onUploadReject,cancel:e.onUploadCancel}}):e._e()],1):e.dragging?i("div",{staticClass:"panel-body panel-interstitial file-browser-drop-message"},[i("div",{staticClass:"tv-cell"},[i("img",{attrs:{src:e.imageSrc,width:"218",height:"130"}})]),e._v(" "),i("div",{staticClass:"tv-cell strong-type"},[e._v(e._s(e.__("Drop file here to upload.")))])]):[i("header",{staticClass:"panel-header"},[i("div",{staticClass:"panel-left-item"},[i("button",{staticClass:"text-button narrow-button",on:{click:e.cancel}},[e._v(e._s(e.__("Close")))])]),e._v(" "),i("div",{staticClass:"panel-title"},[e._v(e._s(e.__("Files")))]),e._v(" "),i("div",{staticClass:"panel-right-item"})]),e._v(" "),i("div",{staticClass:"panel-body file-browser-input-body"},[i("label",{staticClass:"tv file-browser-drag-message",attrs:{for:"input"+e._uid}},[i("div",{staticClass:"tv-cell"},[i("p",[i("strong",[e._v(e._s(e.__("Pick a file from your computer by dragging it here or by clicking the button below.")))])]),e._v(" "),i("p",{staticClass:"caption-type small-type"},[e._v("\n              "+e._s(e.__("We support all kinds of files \u2013 images, videos, docs, spreadsheets, presentations, pdfs, songs, and more."))+"\n            ")])]),e._v(" "),i("div",{staticClass:"tv-cell"},[i("div",{staticClass:"raised-button"},[e._v(e._s(e.__("Pick file")))])])]),e._v(" "),i("input",{attrs:{id:"input"+e._uid,type:"file"},on:{change:e.startUpload}}),e._v(" "),e.cabinet&&e.existingFiles.length>0?i("div",{staticClass:"file-browser-cabinet"},[i("div",{staticClass:"caption-type tv-cell file-browser-cabinet-title"},[e._v("\n            "+e._s(e.__("Or, select a file from your padlet drive"))+"\n          ")]),e._v(" "),e._l(e.existingFilesSubset,(function(t){return i("a",{key:t,staticClass:"file-browser-file",style:{width:e.fileWidth+"px"},attrs:{href:t},on:{click:function(t){return t.preventDefault(),e.selectFileFromCabinet(t)}}},[i("attachment-preview",{staticClass:"file-browser-attachment",attrs:{url:t,actionable:!1,"show-provider":!1,width:e.fileWidth}})],1)}))],2):e._e(),e._v(" "),i("div",{ref:"io",staticClass:"file-browser-observer"})])]],2)])}),[],!1,null,"2278a656",null);t.a=h.exports},1111:function(e,t,i){"use strict";i(79),i(1046),i(4);var s={mixins:[i(277).a],props:["header","body","actionText","cancelText"],methods:{cancel(){this.$emit("cancel")},action(){this.$emit("action")}}},a=(i(1102),i(5)),r=Object(a.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal is-wide",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[i("div",{staticClass:"modal-container is-animated scale-up"},[i("div",{staticClass:"modal-image"},[e._t("default")],2),e._v(" "),i("header",{staticClass:"modal-header"},[e._v(e._s(e.header))]),e._v(" "),i("div",{staticClass:"modal-body"},[i("div",[i("div",{staticClass:"regular-type"},[e._v(e._s(e.body))])])]),e._v(" "),i("footer",{staticClass:"modal-footer"},[e.cancelText?i("button",{staticClass:"text-button",on:{click:e.cancel}},[e._v(e._s(e.cancelText))]):i("button",{staticClass:"text-button",on:{click:e.cancel}},[e._v(e._s(e.__("Cancel")))]),e._v(" "),e.actionText?i("button",{staticClass:"text-button",on:{click:e.action}},[e._v(e._s(e.actionText))]):e._e()])])])}),[],!1,null,"36d1a974",null);t.a=r.exports},1112:function(e,t,i){"use strict";var s=i(79),a=i(1046),r=i(4),o={mixins:[i(277).a],data:()=>({url:"",inputPlaceholder:Object(r.b)("E.g. %{example}",{example:"https://drive.google.com/mydocument"})}),computed:{validUrl(){if(Object(s.f)(this.url))return this.url;if(Object(s.f)("http://"+this.url))return"http://"+this.url;const e=Object(a.a)(this.url);return e||null}},mounted(){this.$refs.input.focus()},methods:{cancel(){this.$emit("close")},save(){this.validUrl&&this.$emit("select",this.validUrl)}}},n=(i(1105),i(5)),c=Object(n.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal is-wide",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[i("div",{staticClass:"modal-container is-animated scale-up"},[i("header",{staticClass:"modal-header"},[e._v(e._s(e.__("Enter URL")))]),e._v(" "),i("div",{staticClass:"modal-body"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],ref:"input",class:{invalid:e.url&&!e.validUrl},attrs:{type:"url",placeholder:e.inputPlaceholder,autofocus:"",novalidate:""},domProps:{value:e.url},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},input:function(t){t.target.composing||(e.url=t.target.value)}}}),e._v(" "),i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.url,expression:"!url"}],staticClass:"small-type muted-type"},[e._v("\n          "+e._s(e.__("We support all kinds of URLs \u2014 images, YouTube, Google Drive, Soundcloud, articles, blogs, you name it."))+"\n        ")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.url&&!e.validUrl,expression:"url && !validUrl"}],staticClass:"small-type error-type"},[e._v(e._s(e.__("Please enter a valid link.")))])])]),e._v(" "),i("footer",{staticClass:"modal-footer"},[i("button",{staticClass:"text-button",on:{click:e.cancel}},[e._v(e._s(e.__("Cancel")))]),e._v(" "),i("button",{staticClass:"text-button",attrs:{disabled:!e.validUrl},on:{click:e.save}},[e._v(e._s(e.__("Save")))])])])])}),[],!1,null,"1e2e6044",null);t.a=c.exports},1113:function(e,t,i){"use strict";var s=i(31);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o={props:{src:{required:!0,type:String},width:Number,height:Number,backAction:String},data:()=>({title:""}),computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(s.e)(["isMobile"])),mounted(){this.isMobile||this.$refs.titleInput.focus()},methods:{close(){this.$emit("close")},done(){this.$emit("done",this.title)}}},n=(i(1121),i(5)),c=Object(n.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"video-replay"},[i("header",{staticClass:"panel-header"},[i("div",{staticClass:"panel-left-item"},["cancel"==e.backAction?i("button",{staticClass:"text-button narrow-button",on:{click:e.close}},[e._v("\n        "+e._s(e.__("Cancel"))+"\n      ")]):i("button",{staticClass:"text-button narrow-button",on:{click:e.close}},[e._v(e._s(e.__("Back")))])]),e._v(" "),i("div",{staticClass:"panel-title"},[e._v(e._s(e.__("Looks good?")))]),e._v(" "),i("div",{staticClass:"panel-right-item"},[i("button",{staticClass:"flat-button narrow-button",on:{click:e.done}},[e._v(e._s(e.__("Save")))])])]),e._v(" "),i("div",{staticClass:"video-recorder-screen"},[i("video",{attrs:{src:e.src,width:e.width,height:e.height,controls:"true"}})]),e._v(" "),i("footer",{staticClass:"panel-footer"},[i("div",[e._v(e._s(e.__("Title")))]),e._v(" "),i("div",{staticClass:"video-replay-title-form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],ref:"titleInput",attrs:{type:"text",placeholder:e.__("Enter a title for your recording")},domProps:{value:e.title},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.done(t)},input:function(t){t.target.composing||(e.title=t.target.value)}}})])])])}),[],!1,null,"c7bde392",null);t.a=c.exports},1114:function(e,t,i){"use strict";var s=i(2),a=i(8),r=i(424),o=i(693),n=i(133),c=i(58),l=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},d=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const u=Object(a.d)("wallCollections");let h=class extends s.f{constructor(){super(...arguments),this.OzTextButtonColorScheme=c.a}isFilterSelected(e){return e===this.activeFilterIndex}selectFilter(e){this.$emit("select-filter",e)}selectWall(e){this.$emit("select-wall",e)}fetchNewWallsByFilter(e){const t=this.filterTabs[e],{collectionKey:i,accountKey:s}=t;this.setAccountCollectionCursor({collectionKey:i,accountKey:s}),this.fetchActiveCollectionWallsNow()}get wallsArray(){return this.padletListFilter?this.activeCollectionWalls.filter(this.padletListFilter):this.activeCollectionWalls}};l([Object(s.e)({required:!0}),d("design:type",Array)],h.prototype,"filterTabs",void 0),l([Object(s.e)({required:!0}),d("design:type",Number)],h.prototype,"activeFilterIndex",void 0),l([Object(s.e)({default:!0}),d("design:type",Boolean)],h.prototype,"isPadletListScrollable",void 0),l([Object(s.e)({default:null}),d("design:type",Function)],h.prototype,"padletListFilter",void 0),l([u.Getter,d("design:type",Array)],h.prototype,"activeCollectionWalls",void 0),l([u.Getter,d("design:type",Object)],h.prototype,"isActiveCollectionFetching",void 0),l([u.Getter,d("design:type",Object)],h.prototype,"isActiveCollectionFetchErrored",void 0),l([u.Action,d("design:type",Function)],h.prototype,"setAccountCollectionCursor",void 0),l([u.Action,d("design:type",Function)],h.prototype,"fetchActiveCollectionWallsNow",void 0),l([Object(s.g)("activeFilterIndex",{immediate:!0}),d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],h.prototype,"fetchNewWallsByFilter",null),h=l([Object(s.a)({components:{BaseTextTabs:r.a,PadletList:o.a,OzLoadingSpinner:n.a,OzTextButton:c.c}})],h);var p=h,v=i(5),f=Object(v.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["flex","flex-col"]},[i("div",{class:["h-15","bg-white-100","shadow-elevation-1","flex","flex-shrink-0","items-center","p-2","overflow-x-scroll","overflow-y-hidden"]},e._l(e.filterTabs,(function(t,s){return i("OzTextButton",{key:t.accountKey.type+"-"+t.accountKey.id+"-"+t.collectionKey.indexKey,class:["font-semibold","h-6","px-2","text-body-small","whitespace-nowrap"],attrs:{text:t.text,"color-scheme":e.isFilterSelected(s)?e.OzTextButtonColorScheme.Active:e.OzTextButtonColorScheme.SecondaryMuted,"dark-mode":!1},on:{click:function(t){return e.selectFilter(s)}}})})),1),e._v(" "),e.wallsArray.length>0?i("div",{class:["mt-6","flex-grow",e.isPadletListScrollable&&"overflow-y-auto max-h-[calc(100%-12rem)]"]},[i("padlet-list",{attrs:{walls:e.wallsArray,"sort-by":"date",navigate:!1},on:{select:e.selectWall}})],1):i("div",{class:["flex","flex-grow","p-8","text-body","text-center","items-center","justify-center"]},[e.isActiveCollectionFetching?i("OzLoadingSpinner"):e.isActiveCollectionFetchErrored?i("div",{staticClass:"text-dark-text-secondary"},[e._v("\n      "+e._s(e.__("Oops! Something went wrong. Please try again."))+"\n    ")]):i("div",{staticClass:"text-dark-text-secondary"},[e._v(e._s(e.__("No padlets yet.")))])],1)])}),[],!1,null,null,null);t.a=f.exports},1119:function(e,t,i){"use strict";var s=i(1063);i.n(s).a},1120:function(e,t,i){"use strict";var s=i(1064);i.n(s).a},1121:function(e,t,i){"use strict";var s=i(1065);i.n(s).a},1122:function(e,t,i){e.exports=i.p+"media/images/mac_banner@3x-8ad45ff1c091eaaf852e4c13a314071e.png"},1123:function(e,t,i){e.exports=i.p+"media/images/windows_banner@3x-2311c56e3fc5df23e994ef855fb15850.png"},1124:function(e,t,i){"use strict";var s=i(1066);i.n(s).a},1125:function(e,t,i){"use strict";var s=i(1067);i.n(s).a},1126:function(e,t,i){"use strict";var s=i(1068);i.n(s).a},1127:function(e,t,i){"use strict";var s=i(1069);i.n(s).a},1128:function(e,t,i){"use strict";var s=i(1070);i.n(s).a},1129:function(e,t,i){"use strict";var s=i(1071);i.n(s).a},1130:function(e,t,i){"use strict";var s=i(1072);i.n(s).a},1131:function(e,t,i){"use strict";var s=i(1073);i.n(s).a},1132:function(e,t,i){e.exports=i.p+"media/images/location_services_dark-5ff80a87936aaf00efcc676f3ead43b3.svg"},1133:function(e,t,i){e.exports=i.p+"media/images/location_services_light-01fb029d9ac78f986afff3c6278bb962.svg"},1134:function(e,t,i){"use strict";var s=i(1074);i.n(s).a},1136:function(e,t,i){"use strict";var s=i(1075);i.n(s).a},1137:function(e,t,i){"use strict";var s=i(1076);i.n(s).a},1138:function(e,t,i){"use strict";var s=i(1077);i.n(s).a},1139:function(e,t,i){"use strict";var s=i(1078);i.n(s).a},1140:function(e,t,i){"use strict";var s=i(1079);i.n(s).a},1141:function(e,t,i){"use strict";var s=i(1080);i.n(s).a},1142:function(e,t,i){(e.exports=i(77)(!1)).push([e.i,".search-input[data-v-3c708034] {\n  margin-top: 0px;\n  margin-bottom: 0px;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}@media (min-width: 768px) {.search-input[data-v-3c708034] {\n    padding-left: 1rem;\n}\n}.search-input[data-v-3c708034] {\n  --tw-shadow: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}.search-input[data-v-3c708034]:focus {\n  --tw-shadow: 0 0 #0000;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}.search-input[data-v-3c708034]::placeholder {\n  color: rgba(0, 0, 0, 0.54);\n}.search-input[data-v-3c708034] {\n  font-family: 'Inter var', Inter, sans-serif;\n  font-feature-settings: 'ss01', 'cv08';\n}@media (prefers-color-scheme: dark) {.search-input[data-v-3c708034] {\n    --tw-text-opacity: 1;\n    color: rgba(255, 255, 255, var(--tw-text-opacity));\n}.search-input[data-v-3c708034]::placeholder {\n    color: rgba(255, 255, 255, 0.7);\n}\n}.search-input[data-v-3c708034] {\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.006em;\n}@media (min-width: 350px) {.search-input[data-v-3c708034] {\n    font-size: 17px;\n    line-height: 24px;\n    letter-spacing: -0.013em;\n}\n}\n.skinny-button[data-v-3c708034] .text-label {\n  margin: 0;\n  margin-right: 4px;\n}\n",""])},1143:function(e,t,i){e.exports=i.p+"media/images/fallback_audio-6a1f7018e64e9570e14111dd54ed698e.png"},1144:function(e,t,i){"use strict";var s=i(1081);i.n(s).a},1145:function(e,t,i){"use strict";var s=i(1082);i.n(s).a},1146:function(e,t,i){"use strict";var s=i(1083);i.n(s).a},1148:function(e,t,i){"use strict";var s=i(1084);i.n(s).a},1156:function(e,t,i){"use strict";var s=i(1086);i.n(s).a},1157:function(e,t,i){"use strict";var s=i(1087);i.n(s).a},1158:function(e,t,i){var s=i(1268);"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(78).default)("3befd712",s,!0,{})},1159:function(e,t,i){},1232:function(e,t,i){"use strict";var s=i(277),a=i(1045),r=i(133),o={props:{frequencies:{type:Array,default:()=>[]},backgroundColor:{type:String,default:"#F8F8F8"},barColor:{type:String,default:"#FEC006"},width:{type:Number,default:480},height:{type:Number,default:480}},data:()=>({drawing:!1}),watch:{frequencies(){this.redrawOnNextFrame()},backgroundColor(){this.redrawOnNextFrame()},barColor(){this.redrawOnNextFrame()}},mounted(){this.redrawOnNextFrame()},methods:{redrawOnNextFrame(){this.drawing||(this.drawing=!0,window.requestAnimationFrame(this.redraw.bind(this)))},redraw(){const e=this.$el,t=e.getContext("2d"),i=e.height/255;t.fillStyle=this.backgroundColor,t.fillRect(0,0,e.width,e.height);const s=t.canvas.height;t.strokeStyle=this.barColor,t.lineWidth=3,t.lineJoin="round";let a=1;for(const r of this.frequencies){const e=r*i,o=Math.floor(s-e);t.beginPath(),t.moveTo(a,o),t.lineTo(a,s),t.closePath(),t.stroke(),a+=4}this.drawing=!1}}},n=(i(1125),i(5)),c=Object(n.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("canvas",{staticClass:"audio-visualizer",attrs:{width:this.width,height:this.height}})}),[],!1,null,"43642e0d",null).exports,l=i(101),d={components:{BaseIcon:l.a},computed:{timeLimitText(){const e=this.__("%{num} minutes",{num:"15"});return this.__("Your recordings can be up to %{timeLimit} long.",{timeLimit:e})}}},u=(i(1126),Object(n.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"audio-instructions tv tv-list caption-type"},[i("div",{staticClass:"tv-cell tv-cell-default"},[i("base-icon",{attrs:{name:"pause_circled_ios"}}),e._v(" "),i("span",[e._v(e._s(e.__("You can pause and resume recording any number of times.")))])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default"},[i("base-icon",{attrs:{name:"watch_ios"}}),e._v(" "),i("span",[e._v(e._s(e.timeLimitText))])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default"},[i("base-icon",{attrs:{name:"play_circled_ios"}}),e._v(" "),i("span",[e._v(e._s(e.__("You can replay the audio before you save.")))])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default"},[i("base-icon",{attrs:{name:"laughing_ios"}}),e._v(" "),i("span",[e._v(e._s(e.__("You have a beautiful voice.")))])],1)])}),[],!1,null,"1b372f2d",null).exports),h=i(1053),p=i(219),v={components:{AudioVisualizer:c,BaseIcon:l.a,OzLoadingSpinner:r.a,AudioInstructions:u},mixins:[h.a],props:["width","height"],data:()=>({currentVolume:[],maxDuration:900,bufferDuration:15}),computed:{constraints(){return{audio:{deviceId:this.activeAudioDeviceId?{exact:this.activeAudioDeviceId}:void 0}}},isReachingRecordingLimit(){return this.secondsElapsed>=this.maxDuration-60},visualizationColor(){return this.recording?"#FEC006":"#E3E3E3"}},mounted(){this.mountStreaming(),this.mountRecording("audio")},beforeDestroy(){this.stopAudioProcessor(),this.stopRecording(),this.stopStreaming()},methods:{close(){this.$emit("close")},resetCanvas(){const e=this.$refs.canvas,t=e.getContext("2d");t.fillStyle="black",t.fillRect(0,0,e.width,e.height)},async done(){if(Object(p.a)("Audio Booth","Recorded",null,this.secondsElapsed),"stopped"==this.recordingStatus){const e=await this.recordedBlob();this.$emit("done",e)}else this.stopRecording()},async gotRecordedData(){const e=await this.recordedBlob();this.$emit("done",e)},gotStream(e){this.stopAudioProcessor();const t=window.AudioContext||window.webkitAudioContext;this._audioContext=new t,this._input=this._audioContext.createMediaStreamSource(e),this._analyser=this._audioContext.createAnalyser(),this._scriptProcessor=this._audioContext.createScriptProcessor(),this._analyser.smoothingTimeConstant=.3,this._analyser.fftSize=256,this._input.connect(this._analyser),this._analyser.connect(this._scriptProcessor),this._scriptProcessor.connect(this._audioContext.destination),this._scriptProcessor.onaudioprocess=()=>{if(this._analyser){const e=new Uint8Array(128);this._analyser.getByteFrequencyData(e),this.currentVolume=Array.from(e)}}},stopAudioProcessor(){this._audioContext&&(this._scriptProcessor.disconnect(this._audioContext.destination),this._analyser.disconnect(this._scriptProcessor),this._input.disconnect(this._analyser),this._audioContext.close(),this._audioContext=null,this._scriptProcessor=null,this._analyser=null,this._input=null)}}},f=(i(1127),Object(n.a)(v,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"audio-booth"},[i("header",{staticClass:"panel-header"},[i("div",{staticClass:"panel-left-item"},[i("button",{staticClass:"text-button narrow-button",on:{click:e.close}},[e._v(e._s(e.__("Close")))])]),e._v(" "),i("div",{staticClass:"panel-title"},[e._v(e._s(e.__("Audio booth")))]),e._v(" "),i("div",{staticClass:"panel-right-item"},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.hasChunks&&!e.recording,expression:"hasChunks && !recording"}],staticClass:"text-button narrow-button",on:{click:e.done}},[e._v("\n        Playback and save\n      ")])])]),e._v(" "),i("div",{staticClass:"panel-body",style:{height:e.height+"px"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.streaming,expression:"!streaming"}],staticClass:"panel-interstitial tv"},[i("div",{staticClass:"tv-cell"},[i("OzLoadingSpinner")],1),e._v(" "),i("div",{staticClass:"tv-cell"},[i("p",[e._v(e._s(e.__("Starting microphone ...")))]),e._v(" "),i("p",{staticClass:"caption-type"},[e._v(e._s(e.__("Make sure you have given us permission to use your microphone.")))])])]),e._v(" "),e.streaming?i("audio-visualizer",{attrs:{width:e.width,height:e.height,frequencies:e.currentVolume,"bar-color":e.visualizationColor}}):e._e(),e._v(" "),!e.streaming||e.recording||e.hasChunks?e._e():i("audio-instructions"),e._v(" "),i("div",{staticClass:"audio-booth-meta"},[e.recording||e.secondsElapsed>0?i("div",{class:{"display3-type":!0,"caption-type":!e.recording,"error-type":e.recording&&e.isReachingRecordingLimit}},[e._v("\n        "+e._s(e.recordingDurationText)+"\n      ")]):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.recording,expression:"recording"}],staticClass:"audio-booth-beacon"},[i("span",{staticClass:"audio-booth-beacon-text"},[e._v("Rec")]),i("base-icon",{attrs:{name:"record"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.recording&&e.hasChunks&&!e.hasReachedRecordingLimit,expression:"!recording && hasChunks && !hasReachedRecordingLimit"}],staticClass:"audio-booth-beacon caption-type"},[e._v("\n        "+e._s(e.__("Paused"))+"\n      ")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasReachedRecordingLimit,expression:"hasReachedRecordingLimit"}],staticClass:"audio-booth-beacon caption-type"},[e._v("\n        Sorry, you've run out of time.\n      ")])])],1),e._v(" "),i("footer",{directives:[{name:"show",rawName:"v-show",value:!e.recording,expression:"!recording"}],staticClass:"panel-footer"},[i("div",[e.audioDevices.length>1?i("div",{staticClass:"select-box"},[i("select",{on:{change:e.chooseAudioDevice}},e._l(e.audioDevices,(function(t){return i("option",{key:t.id,domProps:{selected:t.id==e.activeAudioDeviceId,value:t.id}},[e._v("\n            "+e._s(t.label)+"\n          ")])})),0)]):e._e()]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.streaming&&!e.hasReachedRecordingLimit,expression:"streaming && !hasReachedRecordingLimit"}],staticClass:"floating-action-button shadow-z2 hover-hover:hover:shadow-z3",attrs:{title:e.recordingButtonTitle},on:{click:e.startRecording}},[i("base-icon",{attrs:{name:"mic"}})],1),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.hasChunks,expression:"hasChunks"}],staticClass:"text-button narrow-button",attrs:{title:e.__("Start from scratch")},on:{click:e.restartRecording}},[e._v("\n      "+e._s(e.__("Discard and restart"))+"\n    ")])]),e._v(" "),i("footer",{directives:[{name:"show",rawName:"v-show",value:e.recording,expression:"recording"}],staticClass:"panel-footer"},[i("button",{staticClass:"floating-action-button audio-booth-pause",attrs:{title:e.__("Pause recording")},on:{click:e.pauseRecording}},[i("base-icon",{attrs:{name:"pause"}})],1)])])}),[],!1,null,"0bccb29a",null).exports),g={components:{AudioVisualizer:c},props:{src:{type:String,required:!0}},data:()=>({frequencies:[],playing:!1}),computed:{barColor(){return this.playing?"#7E57C2":"#E3E3E3"}},mounted(){const e=this.$refs.player,t=new(window.AudioContext||window.webkitAudioContext),i=t.createMediaElementSource(e),s=t.createAnalyser();s.fftSize=256,i.connect(s),s.connect(t.destination),this._analyser=s,this._audioContext=t},beforeDestroy(){this._audioContext&&this._audioContext.close()},methods:{stopViz(){this.playing=!1,clearInterval(this._interval)},startViz(){this.playing=!0,this._interval=setInterval(()=>{const e=new Uint8Array(128);this._analyser.getByteFrequencyData(e),this.frequencies=Array.from(e)},32)}}},b=(i(1128),Object(n.a)(g,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"audio-player"},[t("audio-visualizer",{attrs:{frequencies:this.frequencies,"bar-color":this.barColor}}),this._v(" "),t("audio",{ref:"player",attrs:{src:this.src,controls:"true",controlslist:"nodownload"},on:{playing:this.startViz,pause:this.stopViz,ended:this.stopViz}})],1)}),[],!1,null,"17d57c59",null).exports),m=i(31);function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var w={components:{AudioPlayer:b},props:{src:{type:String,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){_(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(m.e)(["isMobile"])),data:()=>({title:""}),mounted(){this.isMobile||this.$refs.titleInput.focus()},methods:{close(){this.$emit("close")},done(){this.$emit("done",this.title)}}},k=(i(1129),Object(n.a)(w,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"audio-replay"},[i("header",{staticClass:"panel-header"},[i("div",{staticClass:"panel-left-item"},[i("button",{staticClass:"text-button narrow-button",on:{click:e.close}},[e._v(e._s(e.__("Back")))])]),e._v(" "),i("div",{staticClass:"panel-title"},[e._v(e._s(e.__("Sounds good?")))]),e._v(" "),i("div",{staticClass:"panel-right-item"},[i("button",{staticClass:"flat-button narrow-button",on:{click:e.done}},[e._v(e._s(e.__("Save")))])])]),e._v(" "),i("audio-player",{attrs:{src:e.src}}),e._v(" "),i("footer",{staticClass:"panel-footer"},[i("div",[e._v(e._s(e.__("Title")))]),e._v(" "),i("div",{staticClass:"audio-replay-title-form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],ref:"titleInput",attrs:{type:"text",placeholder:e.__("Enter a title for your recording")},domProps:{value:e.title},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.done(t)},input:function(t){t.target.composing||(e.title=t.target.value)}}})])])],1)}),[],!1,null,"7d8b196f",null).exports),C=i(1094),x=i(1047),S=i(216),O={components:{AudioBooth:f,AudioReplay:k,SurfaceDialogDesktopAppRequired:C.a},mixins:[a.a,s.a],data:()=>({playback:!1,blob:null,width:480,height:480,supported:x.e,maxFileUploadSize:S.a}),computed:{playbackURL(){return this.blob?URL.createObjectURL(this.blob):null}},watch:{playbackURL(e,t){t&&URL.revokeObjectURL(t)}},beforeDestroy(){this.playbackURL&&URL.revokeObjectURL(this.playbackURL)},methods:{cancel(){this.supported&&this.$refs.booth.hasChunks?confirm(this.__("You have not saved your recording. Are you sure you want to close audio booth?"))&&this.close():this.close()},close(){this.$emit("close")},done(e){const t=e||"audio";this.blob.name=`${t}.${x.b}`,this.handleCaption(e),this.handleFile(this.blob)},startPlayback(e){this.playback=!0,this.blob=e},stopPlayback(){this.playback=!1}}},j=(i(1130),Object(n.a)(O,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.supported?i("div",{staticClass:"audio-recorder modal panel",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[i("div",{staticClass:"panel-container is-animated scale-up"},[e.uploading?i("div",[i("header",{staticClass:"panel-header"}),e._v(" "),i("div",{staticClass:"panel-body"},[i("div",{staticClass:"panel-interstitial"},[i("interstitial-uploader",{attrs:{file:e.file,download:!0,"max-file-size":e.maxFileUploadSize,title:e.__("Saving audio")},on:{done:e.onUploadDone,cancel:e.onUploadCancel}})],1)]),e._v(" "),i("footer",{staticClass:"panel-footer"})]):e.playback?i("audio-replay",{attrs:{src:e.playbackURL},on:{close:e.stopPlayback,done:e.done}}):e._e(),e._v(" "),i("audio-booth",{directives:[{name:"show",rawName:"v-show",value:!e.playback&&!e.uploading,expression:"!playback && !uploading"}],ref:"booth",attrs:{width:e.width,height:e.height},on:{done:e.startPlayback,close:e.cancel}})],1)]):i("surface-dialog-desktop-app-required",{attrs:{feature:e.__("voice recording")},on:{close:e.cancel}})}),[],!1,null,"7b833ad0",null));t.a=j.exports},1233:function(e,t,i){"use strict";var s=i(1045),a=i(277),r=i(1059),o=i(1053),n=i(101),c=i(133),l=i(688),d=(i(23),i(31));function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var v={components:{BaseIcon:n.a},props:["audioDevices","activeAudioDeviceId"],methods:{chooseAudioDevice(e){this.$emit("choose-audio-device",e)}},computed:h(h({},Object(d.e)(["isChrome","isFirefox"])),{},{timeLimitText(){const e=this.__("%{num} minutes",{num:"5"});return this.__("You can record for up to %{timeLimit}. Recording will stop automatically at %{timeLimit}.",{timeLimit:e})}})},f=(i(1136),i(5)),g=Object(f.a)(v,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"screenshare-instructions tv tv-list"},[i("div",{staticClass:"tv-cell tv-cell-default caption-type"},[i("base-icon",{attrs:{name:"watch_ios"}}),e._v(" "),i("span",[e._v(e._s(e.timeLimitText))])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default caption-type"},[i("base-icon",{attrs:{name:"screen_ios"}}),e._v(" "),i("span",[e.isChrome?i("span",[e._v("\n        "+e._s(e.__("You can record the whole screen, an application window, or another browser tab. You'll select what to record in the next step."))+"\n      ")]):e._e(),e._v(" "),e.isFirefox?i("span",[e._v("\n        "+e._s(e.__("You can record a screen, or an application window. You\u2019ll select which screen or window to record in the next step."))+"\n      ")]):e._e()])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default caption-type"},[i("base-icon",{attrs:{name:"audio_ios"}}),e._v(" "),i("span",[e._v(e._s(e.__("You can record with or without audio.")))])],1)])}),[],!1,null,"55d220f1",null).exports,b=i(57),m=i(2),y=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},_=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let w=class extends(Object(m.c)()){};y([Object(m.e)({required:!0}),_("design:type",Array)],w.prototype,"audioDevices",void 0),y([Object(m.e)({required:!0}),_("design:type",String)],w.prototype,"activeAudioDeviceId",void 0),y([Object(m.e)({required:!0}),_("design:type",String)],w.prototype,"chooseAudioDevice",void 0),w=y([Object(b.b)({components:{BaseIcon:n.a}})],w);var k=w,C=(i(1137),Object(f.a)(k,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex items-center py-1 justify-center"},[e.audioDevices.length?i("div",{staticClass:"select-box"},[i("base-icon",{attrs:{size:"small",name:"mic"}}),e._v(" "),i("select",{on:{change:e.chooseAudioDevice}},[e._l(e.audioDevices,(function(t){return i("option",{key:t.id,domProps:{selected:t.id==e.activeAudioDeviceId,value:t.id}},[e._v("\n        "+e._s(t.label)+"\n      ")])})),e._v(" "),i("option",{attrs:{value:"no_audio"},domProps:{selected:"no_audio"==e.activeAudioDeviceId}},[e._v(e._s(e.__("No audio")))])],2)],1):i("div",{staticClass:"caption-type"},[i("base-icon",{attrs:{size:"small",name:"mic"}}),e._v(" "),i("span",{staticClass:"small-caption-type"},[e._v(e._s(e.__("Please allow microphone access to record audio")))])],1)])}),[],!1,null,"44c5cc97",null).exports),x=i(219),S=i(260),O=i(34);function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){R(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function R(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var B={components:{BaseIcon:n.a,OzLoadingSpinner:c.a,CheckBox:l.a,InterstitialUploader:r.a,ScreenshareInstructions:g,ScreenshareBoothAudioSelect:C},mixins:[o.a],props:{width:Number,height:Number},data:()=>({maxDuration:300,bufferDuration:15,canvasWidth:640,canvasHeight:360,title:"",streamId:null,audioEnabled:!0,videoSource:"screen",isClosingDisabled:!1,desktopScreenAndWindowSources:[]}),computed:P(P({},Object(d.e)(["isChrome","isFirefox","isElectronApp"])),{},{constraints(){return this.isElectronApp?{audio:this.audioEnabled,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:this.streamId}}}:this.isChrome?{audio:!(!this.audioEnabled||0===this.audioDevices.length)&&"chrome",video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:this.streamId}}}:this.isFirefox?{audio:this.audioEnabled,video:{mediaSource:this.videoSource}}:{}},isReachingRecordingLimit(){return this.secondsElapsed===this.maxDuration-30},electronAppSources(){const e=this.desktopScreenAndWindowSources.filter(e=>e.id.includes("screen")),t=this.desktopScreenAndWindowSources.filter(e=>e.id.includes("window"));return"screen"===this.videoSource?e:t},canEnableVideoAndAudio(){return!this.isChrome||this.isElectronApp}}),watch:{recordingDurationText(e){this.$emit("recording-duration",e)},isReachingRecordingLimit(e){!0===e&&alert(this.__("You're running out of time."))},recording(e){e||(this.isFirefox&&(this.isClosingDisabled=!1),this.$emit("recording-interrupted"))}},mounted(){this.canvasWidth=this.width,this.canvasHeight=this.height,(this.isChrome||this.isElectronApp)&&this.setupAudioStreaming(),this.isElectronApp&&this.getElectronDesktopScreenAndWindowSources()},beforeDestroy(){this.stopStreaming()},methods:{close(){this.isClosingDisabled||this.$emit("close")},async done(){if(Object(x.a)("Screenshare booth","Recorded",null,this.secondsElapsed),"stopped"==this.recordingStatus){const e=await this.recordedBlob();this.$emit("done",e)}else this.stopRecording()},async gotRecordedData(){const e=await this.recordedBlob();this.$emit("done",e)},gotStream(e){const t=e.getVideoTracks()[0];if("function"===typeof t.getSettings){const e=t.getSettings();e.height&&(this.hiddenCanvasHeight=t.getSettings().height),e.width&&(this.hiddenCanvasWidth=t.getSettings().width),e.aspectRatio&&(this.canvasHeight=Math.floor(this.canvasWidth/e.aspectRatio))}this.streaming=!0,this.$refs.player.srcObject=e,this.startRecording(),this.$emit("record",this.audioEnabled)},errorGettingStream(e){this.isFirefox&&(this.isClosingDisabled=!1)},requestVideoStreamChrome(){window.postMessage({type:"SS_UI_REQUEST",text:"start"},"*"),window.addEventListener("message",e=>{if(e.origin!==window.location.origin)return void console.warn("ScreenStream: you should discard foreign event from origin:",origin);const t=e.data,i=t.type,s=t.streamId;"SS_DIALOG_SUCCESS"===i&&(this.streaming||(this.streamId=s,this.streaming=!0,this.mountRecording("video"),this.mountScreenStreaming()))})},requestVideoStreamDesktopApp(){chrome&&chrome.tabs.query({currentWindow:!0,active:!0},e=>{const t=e[0];chrome.desktopCapture.chooseDesktopMedia(["screen","window","audio"],t,e=>{e?(this.streamId=e,this.mountRecording("video"),this.mountScreenStreaming()):this.close()})})},requestVideoStreamElectronApp(){const e=Object(S.b)();e.captureWindow&&e.captureWindow().then(()=>{this.mountRecording("video"),this.mountScreenStreaming()})},requestVideoStream(){this.isFirefox&&(this.isClosingDisabled=!0),this.stopStreaming(),this.isElectronApp?this.requestVideoStreamElectronApp():this.isChrome&&!chrome.desktopCapture?this.requestVideoStreamChrome():this.isChrome&&chrome.desktopCapture?this.requestVideoStreamDesktopApp():(this.mountRecording("video"),this.mountScreenStreaming())},setupAudioStreaming(){this.mountToSetupAudioStreaming().then(()=>{if(this.isElectronApp&&0===this.audioDevices.length){var e,t;const i=Object(S.b)();null===(e=i.requestMic)||void 0===e||e.call(i),null===(t=i.on)||void 0===t||t.call(i,"ELECTRON_REQUEST_MIC_DONE",()=>{this.mountToSetupAudioStreaming()})}})},chooseScreenRecordingAudioDevice(e){"no_audio"===e.target.value?this.audioEnabled=!1:this.audioEnabled=!0,this.chooseAudioDevice(e)},chooseScreenRecordingVideoSource(e){this.videoSource=e.target.value},setAudioEnabled(e){this.audioEnabled="true"==e.target.value},restart(){this.discardRecording(),this.requestVideoStream()},async getElectronDesktopScreenAndWindowSources(){const e=Object(S.b)();if(e.captureWindow)try{const t=await e.captureWindow();this.desktopScreenAndWindowSources=t}catch(t){Object(O.a)(t)}},selectVideoSource(e){this.streamId=e}}},F=(i(1138),Object(f.a)(B,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"screenshare-booth"},[i("header",{staticClass:"panel-header"},[i("div",{staticClass:"panel-left-item"},[i("button",{staticClass:"text-button narrow-button",on:{click:e.close}},[e._v(e._s(e.__("Close")))])]),e._v(" "),i("div",{staticClass:"panel-title"},[e._v(e._s(e.__("Screen recorder")))]),e._v(" "),i("div",{staticClass:"panel-right-item"},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.hasRecordedChunks&&!e.recording,expression:"hasRecordedChunks && !recording"}],staticClass:"text-button narrow-button",on:{click:e.done}},[e._v("\n        "+e._s(e.__("Playback and save"))+"\n      ")])])]),e._v(" "),i("div",{staticClass:"panel-body"},[i("video",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"player",attrs:{width:e.canvasWidth,height:e.canvasHeight,autoplay:"",muted:""},domProps:{muted:!0}}),e._v(" "),i("div",[i("screenshare-instructions"),e._v(" "),e.canEnableVideoAndAudio?i("div",{staticClass:"screenshare-booth-radio-button"},[i("p",{staticClass:"small-caption-type form-label"},[e._v("Video")]),e._v(" "),i("div",{staticClass:"radio-button"},[i("label",[i("input",{attrs:{type:"radio",value:"screen"},domProps:{checked:"screen"==e.videoSource},on:{change:e.chooseScreenRecordingVideoSource}}),i("span",[e._v(e._s(e.__("Screen")))])]),e._v(" "),i("label",[i("input",{attrs:{type:"radio",value:"window"},domProps:{checked:"window"==e.videoSource},on:{change:e.chooseScreenRecordingVideoSource}}),i("span",[e._v(e._s(e.__("Application window")))])])])]):e._e(),e._v(" "),e.isElectronApp?i("div",{staticClass:"source-picker flex overflow-x-auto"},e._l(e.electronAppSources,(function(t){return i("div",{key:t.id,class:["source-picker-item flex flex-col justify-between mx-1 p-1",t.id===e.streamId?"border-2 border-solid border-canary-500":""],on:{click:function(i){return e.selectVideoSource(t.id)}}},[i("div",{staticClass:"flex items-center justify-center h-full"},[i("img",{attrs:{src:t.png,alt:t.name}})]),e._v(" "),i("div",{staticClass:"flex items-center"},[t.appIcon?i("img",{staticClass:"app-icon mb-0.5",attrs:{src:t.appIcon,alt:t.name}}):e._e(),e._v(" "),i("p",{staticClass:"caption-type text-sm truncate ml-1"},[e._v("\n              "+e._s(t.name)+"\n            ")])])])})),0):e._e(),e._v(" "),e.canEnableVideoAndAudio?i("div",{staticClass:"screenshare-booth-radio-button"},[i("p",{staticClass:"small-caption-type form-label"},[e._v("Audio")]),e._v(" "),i("div",{staticClass:"radio-button"},[i("label",[i("input",{attrs:{type:"radio",value:"true"},domProps:{checked:1==e.audioEnabled},on:{change:e.setAudioEnabled}}),i("span",[e._v("\n              "+e._s(e.__("With audio"))+"\n            ")])]),e._v(" "),i("label",[i("input",{attrs:{type:"radio",value:"false"},domProps:{checked:0==e.audioEnabled},on:{change:e.setAudioEnabled}}),i("span",[e._v("\n              "+e._s(e.__("Without audio"))+"\n            ")])])])]):e._e(),e._v(" "),e.isElectronApp?i("div",{staticClass:"electron-audio-select-box mb-4"},[1==e.audioEnabled?i("screenshare-booth-audio-select",{attrs:{"audio-devices":e.audioDevices,"active-audio-device-id":e.activeAudioDeviceId,"choose-audio-device":e.chooseScreenRecordingAudioDevice}}):e._e()],1):e.isChrome?i("div",[i("screenshare-booth-audio-select",{attrs:{"audio-devices":e.audioDevices,"active-audio-device-id":e.activeAudioDeviceId,"choose-audio-device":e.chooseScreenRecordingAudioDevice}})],1):e._e()],1)]),e._v(" "),i("footer",{directives:[{name:"show",rawName:"v-show",value:!e.recording,expression:"!recording"}],staticClass:"panel-footer"},[i("button",{directives:[{name:"show",rawName:"v-show",value:!e.streaming&&!e.hasReachedRecordingLimit&&!e.hasRecordedChunks,expression:"!streaming && !hasReachedRecordingLimit && !hasRecordedChunks"}],class:["floating-action-button shadow-z2 hover-hover:hover:shadow-z3",e.isElectronApp&&!e.streamId?"cursor-not-allowed":""],attrs:{title:e.recordingButtonTitle,disabled:e.isElectronApp&&!e.streamId},on:{click:e.requestVideoStream}},[i("base-icon",{staticClass:"rotate-icon-270",attrs:{name:"arrow_forward"}})],1),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.hasRecordedChunks,expression:"hasRecordedChunks"}],staticClass:"text-button narrow-button",on:{click:e.restart}},[e._v("\n      "+e._s(e.__("Discard and restart"))+"\n    ")])])])}),[],!1,null,"36a54ac4",null).exports),D={props:["audioEnabled","recordingDurationText"],computed:{prompt(){return this.audioEnabled?this.__("Recording screen with audio..."):this.__("Recording screen without audio...")}},methods:{stop(){this.$emit("stop")}}},I=(i(1139),Object(f.a)(D,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"snackbar"},[i("div",{staticClass:"snackbar-container is-animated slide-from-top inverse-scheme"},[e._m(0),e._v(" "),i("span",{staticClass:"prompt"},[e._v(e._s(e.prompt))]),e._v(" "),i("span",{staticClass:"counter caption-type"},[e._v(e._s(e.recordingDurationText)+"/05:00")]),e._v(" "),i("button",{staticClass:"flat-button",on:{click:e.stop}},[e._v(e._s(e.__("Stop")))])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"blinking-red-dot"},[t("div")])}],!1,null,"37b67fb1",null).exports),A=i(1113),T=i(1094),E=i(1047),$=i(216);function M(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function L(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?M(Object(i),!0).forEach((function(t){W(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function W(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var N={components:{ScreenshareBooth:F,ScreenshareStatusBar:I,VideoReplay:A.a,SurfaceDialogDesktopAppRequired:T.a},mixins:[s.a,a.a],data:()=>({playback:!1,recording:!1,audioEnabled:null,recordingDurationText:"00:00",blob:null,canvasWidth:640,canvasHeight:360,maxFileUploadSize:$.b}),computed:L(L({},Object(d.e)(["isMobile","isChrome","isFirefox"])),{},{playbackURL(){return this.blob?URL.createObjectURL(this.blob):null},supported(){return E.e&&!this.isMobile&&(this.isChrome||this.isFirefox)}}),watch:{playbackURL(e,t){t&&URL.revokeObjectURL(t)}},beforeDestroy(){this.playbackURL&&URL.revokeObjectURL(this.playbackURL)},methods:{cancelAndRestart(){this.supported&&this.$refs.booth.hasRecordedChunks?confirm(this.__("You have not saved your video. Are you sure you want to close the screen recorder?"))&&this.restart():this.restart()},cancel(){this.$refs.booth&&this.$refs.booth.isClosingDisabled||(this.supported&&this.$refs.booth.hasRecordedChunks?confirm(this.__("You have not saved your video. Are you sure you want to close the screen recorder?"))&&this.close():this.close())},restart(){this.$refs.booth.discardRecording(),this.playback=!1,this.blob=null},close(){this.$emit("close")},done(e){const t=e||"screenshare",i=new File([this.blob],`${t}.${E.d}`,{type:this.blob.type});this.handleCaption(e),this.handleFile(i)},saveStreamInfo(e){this.canvasHeight=e.canvasHeight},startPlayback(e){this.playback=!0,this.blob=e},startRecording(e){this.recording=!0,this.audioEnabled=e},stopRecording(){this.recording=!1,this.$refs.booth.stopRecording(),this.$refs.booth.stopStreaming()},updateRecordingDuration(e){this.recordingDurationText=e},onRecordingInterrupted(){this.recording=!1}}},U=(i(1140),Object(f.a)(N,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.supported?i("div",{staticClass:"screenshare-recorder"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.recording,expression:"!recording"}],staticClass:"modal panel",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[i("div",{staticClass:"panel-container is-animated scale-up"},[e.uploading?i("div",[i("header",{staticClass:"panel-header"}),e._v(" "),i("div",{staticClass:"panel-body",style:{height:this.canvasHeight+"px"}},[i("div",{staticClass:"panel-interstitial"},[i("interstitial-uploader",{attrs:{file:e.file,download:!0,"max-file-size":e.maxFileUploadSize,title:e.__("Saving video")},on:{done:e.onUploadDone,cancel:e.onUploadCancel}})],1)]),e._v(" "),i("footer",{staticClass:"panel-footer"})]):e.playback?i("video-replay",{attrs:{"back-action":"cancel",src:e.playbackURL,height:e.canvasHeight,width:e.canvasWidth},on:{close:e.cancelAndRestart,done:e.done}}):e._e(),e._v(" "),i("screenshare-booth",{directives:[{name:"show",rawName:"v-show",value:!e.playback&&!e.uploading,expression:"!playback && !uploading"}],ref:"booth",attrs:{height:e.canvasHeight,width:e.canvasWidth},on:{done:e.startPlayback,close:e.cancel,stream:e.saveStreamInfo,record:e.startRecording,"recording-duration":e.updateRecordingDuration,"recording-interrupted":e.onRecordingInterrupted}})],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.supported&&e.recording,expression:"supported && recording"}],on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[i("screenshare-status-bar",{attrs:{"audio-enabled":e.audioEnabled,"recording-duration-text":e.recordingDurationText},on:{stop:e.stopRecording}})],1)]):i("surface-dialog-desktop-app-required",{attrs:{feature:e.__("screen recording")},on:{close:e.cancel}})}),[],!1,null,"4882aded",null));t.a=U.exports},1234:function(e,t,i){"use strict";var s=i(2),a=i(8),r=i(253),o=i(233),n=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},c=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let l=class extends s.f{constructor(){super(...arguments),this.hoveringOn=null}select(e){this.$emit("select",e)}hover(e){this.$nextTick(()=>{this.hoveringOn=e})}stopHover(){this.hoveringOn=null}};n([Object(s.e)(),c("design:type",Array)],l.prototype,"results",void 0),l=n([Object(s.a)({})],l);var d,u=l,h=i(5),p=Object(h.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{class:["grid","grid-cols-1","mx-0","-mt-1","md:mt-0","md:pt-2"]},e._l(e.results,(function(t,s){return i("li",{key:"web-result-"+s,class:["flex","flex-col","pt-0","pb-0","last:mb-2","px-0","relative"],attrs:{tabindex:"0"},on:{mouseenter:function(t){return t.stopPropagation(),e.hover(s)},mouseleave:function(t){return t.stopPropagation(),e.stopHover(s)},click:function(i){return e.select(t.url)},keydown:[function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.select(t.url)},function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"space",32,i.key,[" ","Spacebar"])?null:e.select(t.url)}]}},[i("div",{class:["rounded-xl","focus:ring-2","focus:ring-grape-500","dark:focus:ring-canary-500","focus:ring-opacity-100","hover-hover:hover:ring-2","hover-hover:hover:ring-grape-500","hover-hover:dark:hover:ring-canary-500","hover-hover:hover:ring-opacity-100","only:hide-separator","last:hide-separator","cursor-pointer","px-2","py-3"]},[i("div",{staticClass:"font-semibold text-17-22 text-highway-100 dark:text-white-100 mb-1"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"font-normal text-body-extra-small leading-4 text-highway-100 dark:text-white-100 mb-1"},[e._v("\n        "+e._s(t.description)+"\n      ")]),e._v(" "),i("div",{staticClass:"truncate font-normal text-12-15 mt-1 text-highway-300 dark:text-white-200"},[e._v(e._s(t.url))])]),e._v(" "),i("div",{class:["separator","border-solid","border-highway-disabled","dark:border-white-disabled","border-t","absolute","bottom-0","left-0","right-0",e.hoveringOn===s||e.hoveringOn-1===s?"hidden":""],attrs:{role:"separator"}})])})),0)}),[],!1,null,null,null).exports,v=i(10),f=i(79),g=i(101),b=i(227),m=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},y=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let _=class extends(Object(s.c)()){constructor(){super(...arguments),this.imageWidth=0,this.LOADING_IMAGES_BG_COLOR=["red","blue","green","yellow","purple","pink","cyan","orange"]}handleResultsUpdate(){this.$nextTick(()=>{this.imageWidth=this.$refs.imageWrappers&&this.$refs.imageWrappers[0]&&this.$refs.imageWrappers[0].clientWidth})}selectWithBeacon(e,t){t&&Object(v.fetchJson)(t,{cors:!0}),this.$emit("select",e)}providerName(e){return e.provider_name?e.provider_name:Object(f.c)(e.url)}mounted(){this.imageWidth=this.$refs.container.clientWidth/3-12,this.handleResultsUpdate()}};m([Object(s.e)(),y("design:type",Array)],_.prototype,"results",void 0),m([Object(s.e)(),y("design:type","function"===typeof(d="undefined"!==typeof SearchFilters&&SearchFilters)?d:Object)],_.prototype,"filter",void 0),m([Object(s.g)("results"),y("design:type",Function),y("design:paramtypes",[]),y("design:returntype",void 0)],_.prototype,"handleResultsUpdate",null),_=m([Object(s.a)({components:{BaseIcon:g.a,ImageThumbnail:b.a}})],_);var w,k=_,C=Object(h.a)(k,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{ref:"container",class:["w-full","grid","grid-cols-2","md:grid-cols-3","mt-2","mb-2","mx-0","gap-4","pt-1"]},e._l(e.results,(function(t,s){return i("li",{key:e.filter+"-result-"+s,ref:"imageWrappers",refInFor:!0,class:["p-1/2","flex","flex-col","relative"]},[i("div",{class:["pb-1.5","rounded-2xl","focus:ring-2","focus:ring-grape-500","dark:focus:ring-canary-500","focus:ring-opacity-100","hover-hover:hover:ring-2","hover-hover:hover:ring-grape-500","hover-hover:dark:hover:ring-canary-500","hover-hover:hover:ring-opacity-100","cursor-pointer"],attrs:{tabindex:"0"},on:{click:function(i){return e.selectWithBeacon(t.url,t.beacon_link)},keydown:[function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.selectWithBeacon(t.url,t.beacon_link)},function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"space",32,i.key,[" ","Spacebar"])?null:e.selectWithBeacon(t.url,t.beacon_link)}]}},[i("ImageThumbnail",{staticClass:"rounded-2xl",attrs:{"placeholder-color":e.LOADING_IMAGES_BG_COLOR[s%7],"original-image-width":t.width,"original-image-height":t.height,title:t.title,src:t.thumbnail_url,width:e.imageWidth,"aspect-ratio":t.width/t.height}}),e._v(" "),t.attribution_link?i("div",{staticClass:"mx-2"},[i("div",{staticClass:"mt-1.5 mb-0.5"},["Unsplash"===e.providerName(t)?i("div",{staticClass:"text-12-15 text-highway-200 dark:text-white-200"},[e._v("\n            "+e._s(e.__("%{imageAuthorName} on Unsplash",{imageAuthorName:t.title}))+"\n          ")]):i("div",{staticClass:"mt-1 text-12-15 text-highway-200 dark:text-white-200 truncate",attrs:{title:t.title}},[e._v("\n            "+e._s(t.title)+"\n          ")])]),e._v(" "),i("div",{staticClass:"flex flex-row text-12-15 mt-0.5 ss01-nums text-highway-200 dark:text-white-200 truncate"},[i("span",[e._v(e._s(t.width)+"x"+e._s(t.height))]),e._v("\xa0\xb7\xa0"),i("a",{class:["text-12-15","font-semibold","text-highway-200","dark:text-white-200","flex-shrink-0","hover-hover:hover:text-grape-500","hover-hover:dark:hover:text-canary-500","hover-hover:focus:text-grape-500","hover-hover:dark:focus:text-canary-500","rounded","focus:ring-2","focus:ring-hover"],attrs:{href:t.attribution_link,target:"_blank","aria-label":e.__("Go to source of the image")},on:{click:function(e){e.stopPropagation()}}},[e._v("\n            "+e._s(e.__("Source"))+"\n          ")])])]):i("div",{staticClass:"mx-2"},[i("div",{staticClass:"mt-1.5 text-12-15 text-highway-200 dark:text-white-200 truncate"},[e._v("\n          "+e._s(e.providerName(t))+"\n        ")])])],1)])})),0)}),[],!1,null,null,null).exports,x=i(1143),S=i.n(x),O=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},j=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let P=class extends(Object(s.c)()){constructor(){super(...arguments),this.imageWidth=0,this.SearchFilters=o.a,this.LOADING_IMAGES_BG_COLOR=["red","blue","green","yellow","purple","pink","cyan","orange"],this.CROP_ASPECT_RATIO=1.8,this.FallbackAudio=S.a}handleResultsUpdate(){this.$nextTick(()=>{this.imageWidth=this.$refs.imageWrappers&&this.$refs.imageWrappers[0]&&this.$refs.imageWrappers[0].clientWidth})}select(e){this.$emit("select",e)}audioDescription(e){if(e.release_date){const t=e.show_name;if(t)return t+" \xb7 "+new Date(e.release_date).toLocaleDateString();let i=e.description.split(" ").slice(0,15).join(" ");return i.length<e.description.length&&(i+="..."),new Date(e.release_date).toLocaleDateString()+" \xb7 "+i}return e.description}providerName(e){return e.provider_name?e.provider_name:Object(f.c)(e.url)}isUsingFallbackThumbnail(e){return!e.thumbnail_url||""===e.thumbnail_url}mounted(){this.imageWidth=this.$refs.container.clientWidth/3-12,this.$nextTick(()=>{this.imageWidth=this.$refs.imageWrappers&&this.$refs.imageWrappers[0]&&this.$refs.imageWrappers[0].clientWidth})}};O([Object(s.e)(),j("design:type",Array)],P.prototype,"results",void 0),O([Object(s.e)(),j("design:type","function"===typeof(w="undefined"!==typeof o.a&&o.a)?w:Object)],P.prototype,"filter",void 0),O([Object(s.g)("results"),j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",void 0)],P.prototype,"handleResultsUpdate",null),P=O([Object(s.a)({components:{BaseIcon:g.a,ImageThumbnail:b.a}})],P);var R,B,F=P,D=(i(1144),Object(h.a)(F,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{ref:"container",class:["w-full","grid","grid-cols-2","md:grid-cols-3","mb-2","mt-2","mx-0","gap-4","pt-1"]},e._l(e.results,(function(t,s){return i("li",{key:e.filter+"-result-"+s,ref:"imageWrappers",refInFor:!0,class:["p-1/2","flex","flex-col"]},[i("div",{class:["rounded-2xl","focus:ring-2","focus:ring-grape-500","dark:focus:ring-canary-500","focus:ring-opacity-100","hover-hover:hover:ring-2","hover-hover:hover:ring-grape-500","hover-hover:dark:hover:ring-canary-500","hover-hover:hover:ring-opacity-100","cursor-pointer"],attrs:{tabindex:"0"},on:{click:function(i){return e.select(t.url)},keydown:[function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.select(t.url)},function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"space",32,i.key,[" ","Spacebar"])?null:e.select(t.url)}]}},[i("div",{staticClass:"relative"},[i("ImageThumbnail",{staticClass:"rounded-2xl",attrs:{"placeholder-color":e.LOADING_IMAGES_BG_COLOR[s%7],"original-image-width":t.thumbnail_width,"original-image-height":t.thumbnail_height,title:t.title,src:e.isUsingFallbackThumbnail(t)?e.FallbackAudio:t.thumbnail_url,"proxy-image":!e.isUsingFallbackThumbnail(t),width:e.imageWidth,"resize-strategy":e.filter==e.SearchFilters.Audio?"stretch":"crop","aspect-ratio":e.filter==e.SearchFilters.Audio?1:e.CROP_ASPECT_RATIO}}),e._v(" "),t.duration||e.filter==e.SearchFilters.Videos?i("div",{class:["ss01-nums","text-xs","h-5","rounded-xl","bg-nightfall-600","text-white-100","px-2","items-center","justify-center","flex","font-medium","absolute","bottom-1","right-1"]},[e.filter!=e.SearchFilters.Videos||t.duration?[e._v("\n            "+e._s(t.duration)+"\n          ")]:i("span",{staticClass:"yt-live-text uppercase"},[e._v("\n            "+e._s(e.__("Live"))+"\n          ")])],2):e._e()],1),e._v(" "),i("div",{staticClass:"mx-2 my-2"},[i("div",{staticClass:"text-14-19 font-medium text-highway-100 dark:text-white-100"},[e._v(e._s(t.title))]),e._v(" "),e.filter==e.SearchFilters.Audio?i("div",{staticClass:"mt-1 text-body-extra-small leading-4 text-highway-100 dark:text-white-100",attrs:{title:t.description}},[e._v("\n          "+e._s(e.audioDescription(t))+"\n        ")]):e._e(),e._v(" "),e.filter==e.SearchFilters.Videos?i("div",{staticClass:"mt-1 text-12-15 text-highway-200 dark:text-white-200 truncate"},[e._v("\n          "+e._s(e.providerName(t))+"\n        ")]):e._e()])])])})),0)}),[],!1,null,"0f7e02c3",null).exports),I=i(1060),A=i(133),T=i(210),E=i(102),$=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},M=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let L=class extends(Object(s.c)()){constructor(){super(...arguments),this.EMOJIS={"1f626":{code:"1f626",category:"people",shortname:":frowning:",name:"frowning face with open mouth",keywords:["face","frown","mouth","open"],url:"https://padlet.net/icons/png/1f626.png"},"1f633":{code:"1f633",category:"people",shortname:":flushed:",name:"flushed face",keywords:["dazed","face","flushed"],url:"https://padlet.net/icons/png/1f633.png"},"1f634":{code:"1f634",category:"people",shortname:":sleeping:",name:"sleeping face",keywords:["face","sleep","zzz"],url:"https://padlet.net/icons/png/1f634.png"}},this.SearchFilters=o.a,this.isNoResults=!1}get results(){return this.currentSearchResultsForFilter}get canSearchMore(){return!!this.currentSearchMoreUrlForFilter}processedIconUrl(e){return Object(E.processedUrl)(e.url,{width:64,height:64,preset:"icon"})}addSearchMoreTrigger(){this.$nextTick(()=>{const e=document.querySelector("#search-more-trigger");e&&Object(T.b)(e,()=>{this.triggerSearchMore()})})}checkIfNoResults(){let e=!0;this.searchQuery&&(e=this.results&&this.results.length>0),this.isNoResults=!e}scrollToTopWhenFilterChanges(){this.$refs.resultBody&&(this.$refs.resultBody.scrollTop=0)}backOnline(){this.clearSearchError()}select(e){this.$emit("select",e)}triggerSearchMore(){this.searchMore()}};$([a.c,M("design:type",Object)],L.prototype,"isOnline",void 0),$([Object(a.d)("contentPicker").Getter,M("design:type",String)],L.prototype,"searchQuery",void 0),$([Object(a.d)("contentPicker").Getter,M("design:type","function"===typeof(R="undefined"!==typeof o.a&&o.a)?R:Object)],L.prototype,"searchFilter",void 0),$([Object(a.d)("contentPicker").Getter,M("design:type",Boolean)],L.prototype,"isSearchQueryInProgress",void 0),$([Object(a.d)("contentPicker").Getter,M("design:type",Boolean)],L.prototype,"isSearchMoreQueryInProgress",void 0),$([Object(a.d)("contentPicker").Getter,M("design:type",Boolean)],L.prototype,"isError",void 0),$([Object(a.d)("contentPicker").Getter,M("design:type","function"===typeof(B="undefined"!==typeof Record&&Record)?B:Object)],L.prototype,"allResults",void 0),$([Object(a.d)("contentPicker").Getter,M("design:type",Array)],L.prototype,"currentSearchResultsForFilter",void 0),$([Object(a.d)("contentPicker").Getter,M("design:type",String)],L.prototype,"currentSearchMoreUrlForFilter",void 0),$([Object(a.d)("contentPicker").Action,M("design:type",Function)],L.prototype,"search",void 0),$([Object(a.d)("contentPicker").Action,M("design:type",Function)],L.prototype,"searchMore",void 0),$([Object(a.d)("contentPicker").Action,M("design:type",Function)],L.prototype,"clearSearchError",void 0),$([Object(s.g)("results"),M("design:type",Function),M("design:paramtypes",[]),M("design:returntype",void 0)],L.prototype,"addSearchMoreTrigger",null),$([Object(s.g)("isSearchQueryInProgress"),Object(s.g)("searchFilter"),M("design:type",Function),M("design:paramtypes",[]),M("design:returntype",void 0)],L.prototype,"checkIfNoResults",null),$([Object(s.g)("searchFilter"),M("design:type",Function),M("design:paramtypes",[]),M("design:returntype",void 0)],L.prototype,"scrollToTopWhenFilterChanges",null),$([Object(s.g)("isOnline"),M("design:type",Function),M("design:paramtypes",[]),M("design:returntype",void 0)],L.prototype,"backOnline",null),L=$([Object(s.a)({components:{BaseButton:r.a,ContentPickerSearchResultsWeb:p,ContentPickerSearchResultsImage:C,ContentPickerSearchResultsAv:D,WebBrowserAttribution:I.a,OzLoadingSpinner:A.a}})],L);var W=L,N=(i(1145),Object(h.a)(W,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"relative flex flex-grow flex-col overflow-hidden h-full mt-2"},[e.isSearchQueryInProgress?i("div",{staticClass:"mt-2"},[i("OzLoadingSpinner",{attrs:{variation:"dashed",size:32}})],1):e.isNoResults&&e.isOnline?i("div",{staticClass:"flex flex-grow justify-center items-center flex-col text-highway-100 dark:text-white-100 h-full min-h-1/4 mb-8 px-4"},[i("p",{staticClass:"pb-4"},[i("img",{attrs:{width:"48",height:"48",src:e.processedIconUrl(e.EMOJIS["1f626"]),alt:e.EMOJIS["1f634"].name}})]),e._v(" "),i("p",{staticClass:"text-center"},[e._v(e._s(e.__("No results found for your search term.")))]),e._v(" "),i("p",{staticClass:"text-center"},[e._v(e._s(e.__("Hope you find what you are looking for!")))])]):e.results?i("div",{ref:"resultBody",class:["overflow-auto","px-4","scrollbar-regular","dark:scrollbar-regular-dark"]},[i("div",{staticClass:"flex flex-1 items-center justify-center",attrs:{"aria-label":"Powered By GIPHY"}},[e.searchFilter===e.SearchFilters.Gif?i("web-browser-attribution",{staticClass:"flex-0 dark:hidden",attrs:{provider:"giphyBlack"}}):e._e(),e._v(" "),e.searchFilter===e.SearchFilters.Gif?i("web-browser-attribution",{staticClass:"flex-0 hidden dark:inline",attrs:{provider:"giphyWhite"}}):e._e()],1),e._v(" "),e.searchFilter==e.SearchFilters.Web?i("content-picker-search-results-web",{attrs:{results:e.results},on:{select:e.select}}):e.searchFilter===e.SearchFilters.Images||e.searchFilter===e.SearchFilters.Gif?i("content-picker-search-results-image",{attrs:{filter:e.searchFilter,results:e.results},on:{select:e.select}}):e.searchFilter===e.SearchFilters.Audio||e.searchFilter===e.SearchFilters.Videos?i("content-picker-search-results-av",{attrs:{filter:e.searchFilter,results:e.results},on:{select:e.select}}):e._e(),e._v(" "),i("transition",{attrs:{name:"fade"}},[e.isSearchMoreQueryInProgress?i("div",{staticClass:"absolute bottom-2 left-0 right-0 my-2 flex justify-center"},[i("div",{staticClass:"bg-modal-light dark:bg-dark-ui-300 p-2 rounded-xl shadow-xl animate-bounce"},[i("OzLoadingSpinner",{attrs:{variation:"dashed",size:24}})],1)]):e._e()]),e._v(" "),e.canSearchMore&&e.isOnline?i("div",{staticClass:"flex justify-center mt-4 mb-8 h-12",attrs:{id:"search-more-trigger"}},[i("base-button",{directives:[{name:"show",rawName:"v-show",value:!e.isSearchMoreQueryInProgress,expression:"!isSearchMoreQueryInProgress"}],attrs:{variation:"fat-text-lower"},on:{click:e.triggerSearchMore}},[e._v("\n        "+e._s(e.__("Search more"))+"\n      ")])],1):e._e()],1):e._e(),e._v(" "),i("transition",{attrs:{name:"fade"}},[!e.isSearchQueryInProgress&&!e.isNoResults&&e.isError&&e.isOnline?i("div",{staticClass:"flex flex-grow justify-center items-center flex-col text-highway-100 dark:text-white-100 h-full min-h-1/4 mb-8 px-4"},[i("p",{staticClass:"pb-4"},[i("img",{attrs:{width:"48",height:"48",src:e.processedIconUrl(e.EMOJIS["1f633"]),alt:e.EMOJIS["1f634"].name}})]),e._v(" "),i("p",{staticClass:"text-center"},[e._v(e._s(e.__("Oops! Something went wrong.")))]),e._v(" "),i("p",{staticClass:"text-center"},[e._v(e._s(e.__("Please try again.")))])]):e._e()]),e._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSearchQueryInProgress&&!e.isOnline,expression:"!isSearchQueryInProgress && !isOnline"}],staticClass:"flex flex-grow justify-center items-center flex-col text-highway-100 dark:text-white-100 h-full min-h-1/4 mb-8 px-4"},[i("p",{staticClass:"pb-4"},[i("img",{attrs:{width:"48",height:"48",src:e.processedIconUrl(e.EMOJIS["1f634"]),alt:e.EMOJIS["1f634"].name}})]),e._v(" "),i("p",{staticClass:"text-center"},[e._v(e._s(e.__("You're offline.")))]),e._v(" "),i("p",{staticClass:"text-center"},[e._v(e._s(e.__("Please try again.")))])])])],1)}),[],!1,null,"6be9327c",null));t.a=N.exports},1235:function(e,t,i){"use strict";var s=i(1045),a=i(277),r=i(101),o=i(1053),n=i(133),c={components:{BaseIcon:r.a},computed:{timeLimitText(){const e=this.__("%{num} minutes",{num:"5"});return this.__("Your recordings can be up to %{timeLimit} long.",{timeLimit:e})}}},l=(i(1119),i(5)),d=Object(l.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"video-instructions inverse-scheme tv tv-list"},[i("div",{staticClass:"tv-cell tv-cell-default caption-type"},[i("base-icon",{attrs:{name:"pause_circled_ios"}}),e._v(" "),i("span",[e._v(e._s(e.__("You can pause and resume recording any number of times.")))])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default caption-type"},[i("base-icon",{attrs:{name:"watch_ios"}}),e._v(" "),i("span",[e._v(e._s(e.timeLimitText))])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default caption-type"},[i("base-icon",{attrs:{name:"play_circled_ios"}}),e._v(" "),i("span",[e._v(e._s(e.__("You can replay the video before you save.")))])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default caption-type"},[i("base-icon",{attrs:{name:"laughing_ios"}}),e._v(" "),i("span",[e._v(e._s(e.__("You have a beautiful smile.")))])],1)])}),[],!1,null,"22108040",null).exports,u=i(219),h={components:{BaseIcon:r.a,OzLoadingSpinner:n.a,VideoInstructions:d},mixins:[o.a],props:{width:Number,height:Number},data:()=>({maxDuration:300,bufferDuration:15,canvasWidth:640,canvasHeight:360}),computed:{constraints(){return{audio:{deviceId:this.activeAudioDeviceId?{exact:this.activeAudioDeviceId}:void 0},video:{deviceId:this.activeVideoDeviceId?{exact:this.activeVideoDeviceId}:void 0,width:3840,height:2160}}},isReachingRecordingLimit(){return this.secondsElapsed>=this.maxDuration-30}},mounted(){this.canvasWidth=this.width,this.canvasHeight=this.height,this.mountRecording("video"),this.mountStreaming()},beforeDestroy(){this.stopRecording(),this.stopStreaming()},methods:{close(){this.$emit("close")},async done(){if(Object(u.a)("Video Booth","Recorded",null,this.secondsElapsed),"stopped"===this.recordingStatus){const e=await this.recordedBlob();this.$emit("done",e)}else this.stopRecording()},async gotRecordedData(){const e=await this.recordedBlob();this.$emit("done",e)},gotStream(e){const t=e.getVideoTracks()[0];if("function"===typeof t.getSettings){const e=t.getSettings();e.aspectRatio&&(this.canvasHeight=Math.floor(this.canvasWidth/e.aspectRatio))}this.$emit("stream",{canvasHeight:this.canvasHeight}),this.$refs.player.srcObject=e}}},p=(i(1120),Object(l.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"video-booth"},[i("header",{staticClass:"panel-header"},[i("div",{staticClass:"panel-left-item"},[i("button",{staticClass:"text-button narrow-button",on:{click:e.close}},[e._v(e._s(e.__("Close")))])]),e._v(" "),i("div",{staticClass:"panel-title"},[e._v(e._s(e.__("Video booth")))]),e._v(" "),i("div",{staticClass:"panel-right-item"},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.hasChunks&&!e.recording,expression:"hasChunks && !recording"}],staticClass:"text-button narrow-button",on:{click:e.done}},[e._v("\n        "+e._s(e.__("Playback and save"))+"\n      ")])])]),e._v(" "),i("div",{staticClass:"panel-body",style:{height:e.canvasHeight+"px"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.streaming,expression:"!streaming"}],staticClass:"panel-interstitial tv"},[i("div",{staticClass:"tv-cell"},[i("OzLoadingSpinner")],1),e._v(" "),i("div",{staticClass:"tv-cell"},[i("p",[e._v(e._s(e.__("Starting camera and microphone ...")))]),e._v(" "),i("p",{staticClass:"caption-type"},[e._v(e._s(e.__("Make sure you have given us permission to your camera and microphone.")))])])]),e._v(" "),!e.streaming||e.recording||e.hasChunks?e._e():i("video-instructions"),e._v(" "),i("video",{directives:[{name:"show",rawName:"v-show",value:e.streaming,expression:"streaming"}],ref:"player",attrs:{width:e.canvasWidth,height:e.canvasHeight,autoplay:"",muted:""},domProps:{muted:!0}}),e._v(" "),i("div",{staticClass:"video-booth-meta inverse-scheme"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.recording||e.secondsElapsed>0,expression:"recording || secondsElapsed > 0"}],staticClass:"video-booth-duration"},[e._v(e._s(e.recordingDurationText))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.recording,expression:"recording"}],staticClass:"video-booth-beacon"},[i("span",{staticClass:"video-booth-beacon-text"},[e._v("Rec")]),i("base-icon",{attrs:{name:"record"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.recording&&e.hasChunks,expression:"!recording && hasChunks"}],staticClass:"video-booth-meta-overlay"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasReachedRecordingLimit&&e.hasChunks,expression:"!hasReachedRecordingLimit && hasChunks"}],staticClass:"caption-type"},[e._v(e._s(e.__("Paused")))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasReachedRecordingLimit,expression:"hasReachedRecordingLimit"}]},[e._v(e._s(e.__("Sorry, you've run out of time.")))])])])],1),e._v(" "),i("footer",{directives:[{name:"show",rawName:"v-show",value:!e.recording,expression:"!recording"}],staticClass:"panel-footer"},[i("div",{staticClass:"video-booth-device-selector"},[e.audioDevices.length>1?i("div",{staticClass:"select-box video-booth-audio-select-box"},[i("base-icon",{attrs:{name:"mic"}}),e._v(" "),i("select",{on:{change:e.chooseAudioDevice}},e._l(e.audioDevices,(function(t){return i("option",{key:t.id,domProps:{selected:t.id==e.activeAudioDeviceId,value:t.id}},[e._v("\n            "+e._s(t.label)+"\n          ")])})),0)],1):e._e(),e._v(" "),e.videoDevices.length>1?i("div",{staticClass:"select-box video-booth-video-select-box"},[i("base-icon",{attrs:{name:"camera"}}),e._v(" "),i("select",{on:{change:e.chooseVideoDevice}},e._l(e.videoDevices,(function(t){return i("option",{key:t.id,staticClass:"ellipsified-type",domProps:{selected:t.id==e.activeVideoDeviceId,value:t.id}},[e._v("\n            "+e._s(t.label)+"\n          ")])})),0)],1):e._e()]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.streaming&&!e.hasReachedRecordingLimit,expression:"streaming && !hasReachedRecordingLimit"}],staticClass:"floating-action-button shadow-z2 hover-hover:hover:shadow-z3",attrs:{title:e.recordingButtonTitle},on:{click:e.startRecording}},[i("base-icon",{attrs:{name:"videocam"}})],1),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.hasChunks,expression:"hasChunks"}],staticClass:"text-button narrow-button",on:{click:e.restartRecording}},[e._v("\n      "+e._s(e.__("Discard and restart"))+"\n    ")])]),e._v(" "),i("footer",{directives:[{name:"show",rawName:"v-show",value:e.recording,expression:"recording"}],staticClass:"panel-footer"},[i("button",{staticClass:"floating-action-button video-booth-pause",attrs:{title:e.__("Pause recording")},on:{click:e.pauseRecording}},[i("base-icon",{attrs:{name:"pause"}})],1),e._v(" "),e.isReachingRecordingLimit&&!e.hasReachedRecordingLimit?i("div",{staticClass:"video-booth-runningout warning-type"},[e._v("\n      "+e._s(e.__("You're running out of time."))+"\n    ")]):e._e()])])}),[],!1,null,"664df05a",null).exports),v=i(1113),f=i(1094),g=i(1047),b=i(216),m=i(34),y={components:{VideoBooth:p,VideoReplay:v.a,SurfaceDialogDesktopAppRequired:f.a},mixins:[s.a,a.a],data:()=>({playback:!1,blob:null,canvasWidth:640,canvasHeight:360,supported:g.e,maxFileUploadSize:b.b}),computed:{playbackURL(){return this.blob?URL.createObjectURL(this.blob):null}},watch:{playbackURL(e,t){t&&URL.revokeObjectURL(t)}},beforeDestroy(){this.playbackURL&&URL.revokeObjectURL(this.playbackURL)},methods:{cancel(){this.supported&&this.$refs.booth.hasChunks?window.confirm(this.__("You have not saved your video. Are you sure you want to close video booth?"))&&this.close():this.close()},close(){this.$emit("close")},done(e){const t=e||"video";g.d||Object(m.c)("Unable to get supported video extension for recorder",{context:{supportedVideoCodec:g.c,supportedAudioCodec:g.a}});const i=new File([this.blob],`${t}.${g.d}`,{type:this.blob.type});this.handleCaption(e),this.handleFile(i)},saveStreamInfo(e){this.canvasHeight=e.canvasHeight},startPlayback(e){this.playback=!0,this.blob=e},stopPlayback(){this.playback=!1}}},_=(i(1124),Object(l.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.supported?i("div",{staticClass:"video-recorder modal panel panel-top",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[i("div",{staticClass:"panel-container is-animated slide-from-top"},[[e.uploading?i("div",[i("header",{staticClass:"panel-header"}),e._v(" "),i("div",{staticClass:"panel-body",style:{height:e.canvasHeight+"px"}},[i("div",{staticClass:"panel-interstitial"},[i("interstitial-uploader",{attrs:{file:e.file,download:!0,"max-file-size":e.maxFileUploadSize,title:e.__("Saving video")},on:{done:e.onUploadDone,cancel:e.onUploadCancel}})],1)]),e._v(" "),i("footer",{staticClass:"panel-footer"})]):e.playback?i("video-replay",{attrs:{src:e.playbackURL,height:e.canvasHeight,width:e.canvasWidth},on:{close:e.stopPlayback,done:e.done}}):e._e(),e._v(" "),i("video-booth",{directives:[{name:"show",rawName:"v-show",value:!e.playback&&!e.uploading,expression:"!playback && !uploading"}],ref:"booth",attrs:{height:e.canvasHeight,width:e.canvasWidth},on:{done:e.startPlayback,close:e.cancel,stream:e.saveStreamInfo}})]],2)]):i("surface-dialog-desktop-app-required",{attrs:{feature:e.__("video recording")},on:{close:e.cancel}})}),[],!1,null,"34be297d",null));t.a=_.exports},1237:function(e,t,i){"use strict";var s=i(31),a=i(102),r=i(239),o=i.n(r),n=i(277),c=i(101),l=i(425),d=i(688),u=i(2),h=i(92),p=i(70),v=i(1132),f=i.n(v),g=i(1133),b=i.n(g),m=i(260),y=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},_=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let w=class extends(Object(u.c)()){constructor(){super(...arguments),this.OzContainedButtonColorScheme=p.a}get iconUrl(){return this.darkMode?f.a:b.a}get title(){return this.isWindows?this.__("Location Access"):this.__("Enable Location Services")}get body(){return this.isWindows?[this.__("You may need to set the system permission for geolocation to work:"),"- "+this.__("Open Start menu > Click the Settings icon (lower-left) > Privacy."),"- "+this.__("From the left-pane, select Location."),"- "+this.__("Click the Change button below the text 'Location for this device is off'."),"- "+this.__("Select the switch to turn on.")]:[this.__("You may need to set the system permission for geolocation to work:"),"- "+this.__("Open System Preferences > Security & Privacy > Privacy tab > Location Services."),"- "+this.__("Click the lock to make changes."),"- "+this.__("Find and check the box besides Padlet.")]}cancel(){this.$emit("cancel")}proceed(){const e=Object(m.b)();(e.openInBrowser?e.openInBrowser:window.open)(this.isWindows?"ms-settings:privacy-location":"x-apple.systempreferences:com.apple.preference.security?Privacy_LocationServices"),this.cancel()}};y([Object(u.e)(),_("design:type",String)],w.prototype,"dir",void 0),y([Object(u.e)(),_("design:type",Boolean)],w.prototype,"darkMode",void 0),y([Object(u.e)(),_("design:type",Boolean)],w.prototype,"isWindows",void 0),y([Object(u.e)(),_("design:type",Boolean)],w.prototype,"isOpen",void 0),w=y([Object(u.a)({components:{OzOverlay:h.a,OzBaseDialogBox:p.b}})],w);var k=w,C=i(5),x=Object(C.a)(k,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isOpen?i("OzOverlay",{staticClass:"flex justify-center items-center font-sans",on:{"scrim-click":e.cancel,"scrim-esc":e.cancel}},[i("OzBaseDialogBox",{staticClass:"mx-7",attrs:{buttons:[{text:e.__("Grant access"),emit:"proceed",colorScheme:e.OzContainedButtonColorScheme.Primary},{text:e.__("Cancel"),emit:"cancel",colorScheme:e.OzContainedButtonColorScheme.Secondary}]},on:{cancel:e.cancel,proceed:e.proceed}},[i("div",{staticClass:"text-center px-4 pt-6"},[i("img",{staticClass:"select-none",attrs:{src:e.iconUrl,width:"64",height:"64",alt:e.__("Location services")}}),e._v(" "),i("div",{staticClass:"font-semibold text-heading-3"},[e._v(e._s(e.title))])]),e._v(" "),i("div",{staticClass:"m-4 text-body-small-posts"},e._l(e.body,(function(t,s){return i("p",{key:s},[e._v(e._s(t))])})),0)])],1):e._e()}),[],!1,null,null,null).exports,S=i(39),O=i(219),j=i(135),P=i(34);function R(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?R(Object(i),!0).forEach((function(t){F(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function F(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const D=["leaning tower of pisa","eiffel tower","pyramids of giza","taj mahal","sydney opera house","mt fuji","mt everest","roman colosseum","word island dubai","yellowstone spring","victoria falls","caspian sea","pentagon","potash ponds utah","ayers rock","dead sea","capitol building","easter island","salar de uyuni","red sea","hoover dam","matterhorn","galesnjak island","bernabeu","london eye","palm jumeirah","statue of liberty","mt rushmore","pantheon","shwedagon pagoda","the kaaba","st peters basilica","51.848637, -0.55462","51.562629, -1.605534"],I=e=>{const t=e.split(",");return 2==t.length&&(!isNaN(t[0])&&!isNaN(t[1]))};var A={components:{BaseIcon:c.a,ProgressIndeterminate:l.a,CheckBox:d.a,LocationPermissionAlertDialog:x},mixins:[n.a],data:()=>({canGeolocate:!1,query:"",randomQuery:o()(D),loading:!0,mapType:j.a.getItem("mapBrowserMapType")||"satellite",mapWidth:640,mapHeight:480,imageWidth:640,imageHeight:480,showMarker:"yes"===j.a.getItem("mapBrowserMarker"),showFormInHeader:!0,isOpen:!1}),computed:B(B(B(B({},Object(s.c)(["dir"])),Object(s.e)({currentCountryCode:e=>e.constants.currentCountryCode,isWindows:e=>e.isWindows,isElectronApp:e=>e.isElectronApp})),Object(s.e)("browser",["darkMode"])),{},{imageSrc(){return this.query?this.mapSrc:Object(a.processedUrl)(this.mapSrc,{width:this.imageWidth,height:this.imageHeight})},mapSrc(){let e=this.query?this.query:this.randomQuery;I(e)&&(e=`"${e}"`),e=encodeURIComponent(e);let t=`https://maps.googleapis.com/maps/api/staticmap?center=${e}&key=AIzaSyD3kjetwpeAYF-eXThlRhc1F1EYwsQvHcY&scale=2&size=${this.mapWidth}x${this.mapHeight}&maptype=${this.mapType}&language=${S.b}&region=${this.currentCountryCode}`;return this.showMarker&&(t=`${t}&markers=${e}`),t},dialogVisible(){return this.isOpen&&this.isElectronApp}}),watch:{mapType(){this.loading=!0},query(){this.loading=!0},showMarker(e){this.loading=!0,j.a.setItem("mapBrowserMarker",e?"yes":"no"),Object(O.a)("Maps Browser","Changed Marker",e)}},mounted(){Object(O.a)("Maps Browser","Mounted",this.mapType),this.canGeolocate="geolocation"in navigator,this.imageWidth=this.$refs.container.clientWidth,this.showFormInHeader=this.imageWidth>=640,this.imageHeight=Math.floor(.75*this.imageWidth),this.$refs.input.focus()},methods:{changeMapType(e){const t=e.target.value;Object(O.a)("Maps Browser","Changed Type",t),j.a.setItem("mapBrowserMapType",t),this.mapType=t},cancel(){this.close()},close(){this.$emit("close")},done(){this.$emit("select",this.mapSrc)},geolocate(){Object(O.a)("Maps Browser","Geolocation Started"),this.loading=!0,navigator.geolocation.getCurrentPosition(this.onLocationSuccess.bind(this),this.onLocationError.bind(this)),setTimeout(()=>{try{JSON.parse(j.a.getItem("hasLocationPermission"))||(this.isOpen=!0)}catch(e){Object(P.a)(e)}},3e3)},onImageLoad(){this.loading=!1},onImageError(){this.loading=!1},onLocationSuccess(e){Object(O.a)("Maps Browser","Geolocation Completed"),this.loading=!1,this.query=[e.coords.latitude,e.coords.longitude].join(","),j.a.setItem("hasLocationPermission",!0)},onLocationError(e){Object(O.a)("Maps Browser","Geolocation Failed"),this.loading=!1,e.code===e.PERMISSION_DENIED&&(j.a.setItem("hasLocationPermission",!1),alert(this.__("Looks like we don't have permission to see your location. You may want to change that. (Don't worry, we do not store your location on our servers.)")))},search(){const e=this.$refs.input.value,t=(e=>{let t=e.match(/\!2s(.+?)\!/);if(t)return t[1];return t=e.match(/https?\:\/\/(.+?)\/place\/(.+?)\//),t?t[2]:null})(e);this.query=t||e,I(this.query)||Object(O.a)("Maps Browser","Searched",this.query)}}},T=(i(1134),Object(C.a)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal panel",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[i("div",{ref:"container",staticClass:"panel-container is-animated scale-up"},[i("header",{staticClass:"panel-header"},[i("div",{staticClass:"panel-left-item"},[i("button",{staticClass:"text-button narrow-button",on:{click:e.close}},[e._v(e._s(e.__("Close")))])]),e._v(" "),e.showFormInHeader?i("div",{staticClass:"panel-search"},[i("form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[e.canGeolocate?i("button",{staticClass:"icon-button",attrs:{type:"button",title:e.__("My location")},on:{click:e.geolocate}},[i("base-icon",{attrs:{name:"my_location"}})],1):e._e(),e._v(" "),i("input",{ref:"input",attrs:{type:"search",placeholder:e.__("Search for a place")},domProps:{value:e.query}}),e._v(" "),i("button",{staticClass:"icon-button",attrs:{type:"submit",title:e.__("Search")}},[i("base-icon",{attrs:{name:"arrow_forward"}})],1)])]):i("div",{staticClass:"panel-title"},[e._v(e._s(e.__("Place")))]),e._v(" "),i("div",{staticClass:"panel-right-item"},[i("button",{staticClass:"flat-button narrow-button",on:{click:e.done}},[e._v(e._s(e.__("Save")))])])]),e._v(" "),i("div",{staticClass:"panel-body"},[e.showFormInHeader?e._e():i("div",{staticClass:"panel-search"},[i("form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[e.canGeolocate?i("button",{staticClass:"icon-button",attrs:{type:"button",title:e.__("My location")},on:{click:e.geolocate}},[i("base-icon",{attrs:{name:"my_location"}})],1):e._e(),e._v(" "),i("input",{ref:"input",attrs:{type:"search",maxlength:"1024",autofocus:"",placeholder:e.__("Search for a place")},domProps:{value:e.query}}),e._v(" "),i("button",{staticClass:"icon-button",attrs:{type:"submit",title:e.__("Search")}},[i("base-icon",{attrs:{name:"arrow_forward"}})],1)])]),e._v(" "),e.loading?i("progress-indeterminate",{staticClass:"map-browser-progress",style:{top:e.showFormInHeader?"0":"44px"}}):e._e(),e._v(" "),i("img",{attrs:{src:e.imageSrc,width:e.imageWidth,height:e.imageHeight},on:{load:e.onImageLoad,error:e.onImageError}})],1),e._v(" "),i("footer",{staticClass:"panel-footer"},[i("div",{staticClass:"radio-button"},[i("label",[i("input",{attrs:{type:"radio",value:"roadmap"},domProps:{checked:"roadmap"==e.mapType},on:{change:e.changeMapType}}),i("span",[e._v("\n            "+e._s(e.__("Road"))+"\n          ")])]),e._v(" "),i("label",[i("input",{attrs:{type:"radio",value:"satellite"},domProps:{checked:"satellite"==e.mapType},on:{change:e.changeMapType}}),i("span",[e._v("\n            "+e._s(e.__("Satellite"))+"\n          ")])]),e._v(" "),i("label",[i("input",{attrs:{type:"radio",value:"terrain"},domProps:{checked:"terrain"==e.mapType},on:{change:e.changeMapType}}),i("span",[e._v("\n            "+e._s(e.__("Terrain"))+"\n          ")])]),e._v(" "),i("label",[i("input",{attrs:{type:"radio",value:"hybrid"},domProps:{checked:"hybrid"==e.mapType},on:{change:e.changeMapType}}),i("span",[e._v("\n            "+e._s(e.__("Hybrid"))+"\n          ")])])]),e._v(" "),i("label",{staticClass:"map-browser-mark-check"},[i("check-box",{model:{value:e.showMarker,callback:function(t){e.showMarker=t},expression:"showMarker"}}),i("span",[e._v(e._s(e.__("Show pin")))])],1)])]),e._v(" "),i("LocationPermissionAlertDialog",{attrs:{dir:e.dir,"is-windows":e.isWindows,"is-open":e.dialogVisible},on:{cancel:function(t){e.isOpen=!1}}})],1)}),[],!1,null,"324fe49d",null));t.a=T.exports},1240:function(e,t,i){"use strict";var s=i(277),a=i(1114),r=i(31);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l={components:{SurfacePadletPicker:a.a},mixins:[s.a],props:["user","xNewSurfaceShadows"],data:()=>({activeFilterIndex:0}),computed:n(n({},Object(r.c)(["viewableLibraries","isOrgWall","tenantName"])),{},{filterTabs(){const e=this.viewableLibraries.map(e=>({text:e.name||e.slug,accountKey:{type:"library",id:e.id},collectionKey:{typeKey:"filter",indexKey:"all"}})),t=[{text:this.__("Recents"),accountKey:{type:"user",id:this.user.id},collectionKey:{typeKey:"filter",indexKey:"combined_recents"}},{text:this.__("Bookmarks"),accountKey:{type:"user",id:this.user.id},collectionKey:{typeKey:"filter",indexKey:"favorites"}}];return this.isOrgWall?t.push({text:this.tenantName,accountKey:{type:"user",id:this.user.id},collectionKey:{typeKey:"filter",indexKey:"all"}},{text:this.user.short_name,accountKey:{type:"user",id:this.user.id},collectionKey:{typeKey:"filter",indexKey:"made"}}):t.push({text:this.user.short_name,accountKey:{type:"user",id:this.user.id},collectionKey:{typeKey:"filter",indexKey:"all"}},{text:this.__("Shared"),accountKey:{type:"user",id:this.user.id},collectionKey:{typeKey:"filter",indexKey:"combined_shared"}}),[...t,...e]}}),mounted(){this.fetchViewableLibraries({userId:this.user.id})},methods:n(n({},Object(r.b)(["fetchViewableLibraries"])),{},{cancel(){this.close()},close(){this.$emit("close")},selectFilter(e){this.activeFilterIndex=e},selectWall(e){this.$emit("select",e.links.permanent)}})},d=(i(1131),i(5)),u=Object(d.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"padlet-browser side-panel side-panel-with-curtain",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[i("div",{class:["panel-container","is-animated","slide-from-right",e.xNewSurfaceShadows?"shadow-elevation-3":"shadow-z3"]},[i("header",{staticClass:"panel-header panel-header-with-content"},[i("div",{staticClass:"panel-left-item"},[i("button",{staticClass:"text-button narrow-button",on:{click:e.close}},[e._v(e._s(e.__("Close")))])]),e._v(" "),i("div",{staticClass:"panel-title"},[e._v(e._s(e.__("Padlets")))]),e._v(" "),i("div",{staticClass:"panel-right-item"})]),e._v(" "),i("SurfacePadletPicker",{staticClass:"pt-2 flex-grow flex-shrink-0 max-h-full",attrs:{"filter-tabs":e.filterTabs,"active-filter-index":e.activeFilterIndex},on:{"select-filter":e.selectFilter,"select-wall":e.selectWall}})],1)])}),[],!1,null,"4545dab1",null);t.a=u.exports},1241:function(e,t,i){"use strict";var s=i(101),a=i(277),r=i(219),o=i(379),n={components:{BaseIcon:s.a},mixins:[a.a],props:["top","left","audioSupport","videoSupport","screenshareSupport","isPhone","windowWidth"],data:()=>({topCorrection:0,leftCorrection:0,Source:o.a}),computed:{correctedLeft(){return this.left+this.leftCorrection},correctedTop(){return this.top+this.topCorrection},style(){return this.isPhone||this.windowWidth<768?{}:{top:this.correctedTop+"px",left:this.correctedLeft+"px"}}},mounted(){if(!this.isPhone){const e=568,t=336;this.left<0&&(this.leftCorrection=-this.left),this.left+t>window.innerWidth&&(this.leftCorrection=window.innerWidth-(this.left+t)),this.top<0&&(this.topCorrection=-this.top),this.top+e>window.innerHeight&&(this.topCorrection=window.innerHeight-(this.top+e))}},methods:{cancel(){this.$emit("close")},select(e){Object(r.a)("Content Menu","Selected Source",e),this.$emit("select",e)}}},c=(i(1148),i(5)),l=Object(c.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown dropdown-with-curtain",style:e.style,on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[i("div",{staticClass:"dropdown-content tv tv-list"},[i("label",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{for:"content-hidden-file-input","data-source":"fileBrowser","data-pepin-id":"wish-more-upload","data-pepin-trigger":"click"},on:{click:function(t){return e.select(e.Source.FileBrowser)}}},[i("base-icon",{staticClass:"tv-cell-thumb",attrs:{name:"upload"}}),e._v(" "),i("div",{staticClass:"tv-cell-text"},[i("div",[e._v(e._s(e.__("Upload")))]),e._v(" "),i("div",{staticClass:"small-caption-type"},[e._v(e._s(e.__("Pick file from your computer.")))])])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{"data-source":"linkInput","data-pepin-id":"wish-more-link","data-pepin-trigger":"click"},on:{click:function(t){return e.select(e.Source.LinkInput)}}},[i("base-icon",{staticClass:"tv-cell-thumb",attrs:{name:"link"}}),e._v(" "),i("div",{staticClass:"tv-cell-text"},[i("div",[e._v(e._s(e.__("Link")))]),e._v(" "),i("div",{staticClass:"small-caption-type"},[e._v(e._s(e.__("Enter any URL.")))])])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{"data-source":"webBrowser","data-pepin-id":"wish-more-google","data-pepin-trigger":"click"},on:{click:function(t){return e.select(e.Source.WebBrowser)}}},[i("base-icon",{staticClass:"tv-cell-thumb",attrs:{name:"search_web"}}),e._v(" "),i("div",{staticClass:"tv-cell-text"},[i("div",[e._v(e._s(e.__("Google")))]),e._v(" "),i("div",{staticClass:"small-caption-type"},[e._v(e._s(e.__("Search images, videos, audio, GIFs, web.")))])])],1),e._v(" "),i("label",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{for:"content-hidden-image-input","data-source":"photoBooth","data-pepin-id":"wish-more-snap","data-pepin-trigger":"click"},on:{click:function(t){return e.select(e.Source.PhotoBooth)}}},[i("base-icon",{staticClass:"tv-cell-thumb",attrs:{name:"camera"}}),e._v(" "),i("div",{staticClass:"tv-cell-text"},[i("div",[e._v(e._s(e.__("Snap")))]),e._v(" "),i("div",{staticClass:"small-caption-type"},[e._v(e._s(e.__("Take photo from your camera.")))])])],1),e._v(" "),i("label",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{for:"content-hidden-video-input","data-unsupported":!e.videoSupport,"data-source":"videoRecorder","data-pepin-id":"wish-more-film","data-pepin-trigger":"click"},on:{click:function(t){return e.select(e.Source.VideoRecorder)}}},[i("base-icon",{staticClass:"tv-cell-thumb",attrs:{name:"videocam"}}),e._v(" "),i("div",{staticClass:"tv-cell-text"},[i("div",[i("span",[e._v(e._s(e.__("Film")))]),e.videoSupport?e._e():i("span",{staticClass:"small-type error-type"},[e._v(e._s(e.__("Not supported")))])]),e._v(" "),i("div",{staticClass:"small-caption-type"},[e._v(e._s(e.__("Capture video from your camera.")))])])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{"data-unsupported":!e.audioSupport,"data-source":"audioRecorder","data-pepin-id":"wish-more-voice","data-pepin-trigger":"click"},on:{click:function(t){return e.select(e.Source.AudioRecorder)}}},[i("base-icon",{staticClass:"tv-cell-thumb",attrs:{name:"mic"}}),e._v(" "),i("div",{staticClass:"tv-cell-text"},[i("div",[i("span",[e._v(e._s(e.__("Voice")))]),e.audioSupport?e._e():i("span",{staticClass:"small-type error-type"},[e._v(e._s(e.__("Not supported")))])]),e._v(" "),i("div",{staticClass:"small-caption-type"},[e._v(e._s(e.__("Record audio from your microphone.")))])])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{"data-unsupported":!e.screenshareSupport,"data-source":"screenshareRecorder","data-pepin-id":"wish-more-screen","data-pepin-trigger":"click"},on:{click:function(t){return e.select(e.Source.ScreenshareRecorder)}}},[i("base-icon",{staticClass:"tv-cell-thumb",attrs:{name:"screen_share"}}),e._v(" "),i("div",{staticClass:"tv-cell-text"},[i("div",[i("span",[e._v(e._s(e.__("Screen")))]),e.screenshareSupport?e._e():i("span",{staticClass:"small-type error-type"},[e._v(e._s(e.__("Not supported")))])]),e._v(" "),i("div",{staticClass:"small-caption-type"},[e._v(e._s(e.__("Record your screen.")))])])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{"data-source":"drawingCanvas","data-pepin-id":"wish-more-draw","data-pepin-trigger":"click"},on:{click:function(t){return e.select(e.Source.DrawingCanvas)}}},[i("base-icon",{staticClass:"tv-cell-thumb",attrs:{name:"scribble"}}),e._v(" "),i("div",{staticClass:"tv-cell-text"},[i("div",[e._v(e._s(e.__("Draw")))]),e._v(" "),i("div",{staticClass:"small-caption-type"},[e._v(e._s(e.__("Doodle on an onscreen canvas.")))])])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{"data-source":"mapBrowser","data-pepin-id":"wish-more-place","data-pepin-trigger":"click"},on:{click:function(t){return e.select(e.Source.MapBrowser)}}},[i("base-icon",{staticClass:"tv-cell-thumb",attrs:{name:"place"}}),e._v(" "),i("div",{staticClass:"tv-cell-text"},[i("div",[e._v(e._s(e.__("Place")))]),e._v(" "),i("div",{staticClass:"small-caption-type"},[e._v(e._s(e.__("Add a location.")))])])],1),e._v(" "),i("div",{staticClass:"tv-cell tv-cell-default tv-cell-actionable",attrs:{"data-source":"padletBrowser","data-pepin-id":"wish-more-padlet","data-pepin-trigger":"click"},on:{click:function(t){return e.select(e.Source.PadletBrowser)}}},[i("base-icon",{staticClass:"tv-cell-thumb",attrs:{name:"crane"}}),e._v(" "),i("div",{staticClass:"tv-cell-text"},[i("div",[e._v(e._s(e.__("Padlet")))]),e._v(" "),i("div",{staticClass:"small-caption-type"},[e._v(e._s(e.__("Link to one of your other padlets.")))])])],1)])])}),[],!1,null,"c1f403b8",null);t.a=l.exports},1242:function(e,t,i){"use strict";var s=i(1045),a=i(1053),r=i(277),o=i(101),n=i(133),c=i(1100),l=(i(135),i(219)),d={components:{BaseIcon:o.a,OzLoadingSpinner:n.a},mixins:[s.a,a.a,r.a],data:()=>({canvasWidth:640,canvasHeight:360,filter:"normal",filtersEnabled:!1,hiddenCanvasWidth:640,hiddenCanvasHeight:360,captured:!1,secondsToCapture:0,title:""}),computed:{constraints(){return{video:{deviceId:this.activeVideoDeviceId?{exact:this.activeVideoDeviceId}:void 0,width:3840,height:2160}}}},mounted(){this.mountStreaming()},beforeDestroy(){this.stopStreaming()},methods:{applyFilter(e){this.filter=e.target.value,this.draw(!1),Object(l.a)("Photo Booth","Applied Filter",this.filter)},cancel(){this.captured?confirm(this.__("You have not saved your photo. Are you sure you want to close photo booth?"))&&this.close():this.close()},close(){this.$emit("close")},captureInThree(){this.secondsToCapture=3,setTimeout(()=>{this.secondsToCapture=2},1e3),setTimeout(()=>{this.secondsToCapture=1},2e3),setTimeout(()=>{this.secondsToCapture=0,this.capture()},3e3)},capture(){Object(l.a)("Photo Booth","Captured"),this.playSound(),this.captured=!0,this.draw(!0),this.$nextTick(()=>{this.$refs.captionInput.focus()})},draw(e=!0){const t=this.$refs.canvas,i=this.$refs.player,s=t.getContext("2d"),a=this.$refs.hiddenCanvas,r=a.getContext("2d");s.filter&&(this.filtersEnabled=!0,"normal"===this.filter?(s.filter="none",r.filter="none"):"sepia"===this.filter?(s.filter="sepia(100%)",r.filter="sepia(100%)"):"grayscale"===this.filter&&(s.filter="grayscale(100%)",r.filter="grayscale(100%)")),e?(s.drawImage(i,0,0,t.width,t.height),r.drawImage(i,0,0,a.width,a.height)):s.drawImage(a,0,0,t.width,t.height)},gotStream(e){const t=e.getVideoTracks()[0];if("function"===typeof t.getSettings){const e=t.getSettings();e.height&&(this.hiddenCanvasHeight=e.height),e.width&&(this.hiddenCanvasWidth=e.width),e.aspectRatio&&(this.canvasHeight=Math.floor(this.canvasWidth/e.aspectRatio))}this.$refs.player.srcObject=e},playSound(){c.a.play()},redo(){Object(l.a)("Photo Booth","Redo"),this.captured=!1},save(){Object(l.a)("Photo Booth","Saved");const e=this.$refs.hiddenCanvas,t=this.$refs.captionInput.value;if("normal"!==this.filter){e.getContext("2d").drawImage(e,0,0,e.width,e.height)}if(this.handleCaption(t),e.msToBlob){const t=e.msToBlob("image/jpeg");t.name="drawing.png",this.handleFile(t)}else e.toBlob(e=>{const t=(this.title||"photo")+".jpeg";e.name=t,this.handleFile(e)},"image/jpeg")}}},u=(i(1156),i(5)),h=Object(u.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"photo-booth modal panel panel-top",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[i("div",{staticClass:"panel-container is-animated slide-from-top"},[e.uploading?i("div",[i("header",{staticClass:"panel-header"}),e._v(" "),i("div",{staticClass:"panel-body",style:{height:e.canvasHeight+"px"}},[i("div",{staticClass:"panel-interstitial"},[i("interstitial-uploader",{attrs:{file:e.file,download:!0,title:e.__("Saving photo")},on:{done:e.onUploadDone,cancel:e.onUploadCancel}})],1)]),e._v(" "),i("footer",{staticClass:"panel-footer"})]):i("div",[i("header",{staticClass:"panel-header"},[i("div",{staticClass:"panel-left-item"},[i("button",{staticClass:"text-button narrow-button",on:{click:e.cancel}},[e._v(e._s(e.__("Close")))])]),e._v(" "),i("div",{staticClass:"panel-title"},[e._v(e._s(e.__("Photo booth")))]),e._v(" "),i("div",{staticClass:"panel-right-item"},[e.captured?i("button",{staticClass:"flat-button narrow-button",on:{click:e.save}},[e._v(e._s(e.__("Save")))]):e._e()])]),e._v(" "),i("div",{staticClass:"panel-body",style:{height:e.canvasHeight+"px"}},[e.streaming?e._e():i("div",{staticClass:"panel-interstitial"},[i("div",{staticClass:"tv"},[i("div",{staticClass:"tv-cell"},[i("OzLoadingSpinner")],1),e._v(" "),i("div",{staticClass:"tv-cell"},[i("p",[e._v(e._s(e.__("Starting camera ...")))]),e._v(" "),i("p",{staticClass:"caption-type"},[e._v("\n                "+e._s(e.__("Please make sure you have given us permission to use your camera."))+"\n              ")])])])]),e._v(" "),i("video",{ref:"player",class:{"out-of-bounds":e.captured||!e.streaming},attrs:{width:e.canvasWidth,height:e.canvasHeight,autoplay:""}}),e._v(" "),i("canvas",{ref:"canvas",class:{"out-of-bounds":!e.captured},attrs:{width:e.canvasWidth,height:e.canvasHeight}}),e._v(" "),i("canvas",{ref:"hiddenCanvas",class:{"out-of-bounds":!0},attrs:{width:e.hiddenCanvasWidth,height:e.hiddenCanvasHeight}})]),e._v(" "),i("footer",{staticClass:"panel-footer"},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.streaming&&!e.captured&&0===e.secondsToCapture,expression:"streaming && !captured && secondsToCapture === 0"}],staticClass:"floating-action-button shadow-z2 hover-hover:hover:shadow-z3",attrs:{title:e.__("Capture")},on:{click:e.captureInThree}},[i("base-icon",{attrs:{name:"camera"}})],1),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.captured,expression:"captured"}],staticClass:"floating-action-button photo-booth-redo",attrs:{title:e.__("Redo")},on:{click:e.redo}},[i("base-icon",{attrs:{name:"refresh"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.secondsToCapture>0,expression:"secondsToCapture > 0"}],staticClass:"photo-booth-countdown notice-scheme"},[i("div",{staticClass:"is-animated scale-up"},[e._v(e._s(e.secondsToCapture))])]),e._v(" "),!e.captured&&e.videoDevices.length>1?i("div",{staticClass:"photo-booth-video-chooser"},[i("div",{staticClass:"select-box"},[i("select",{on:{change:e.chooseVideoDevice}},e._l(e.videoDevices,(function(t){return i("option",{key:t.id,domProps:{selected:t.id==e.activeVideoDeviceId,value:t.id}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),0)])]):e._e(),e._v(" "),e.captured?i("div",{staticClass:"photo-booth-caption-form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],ref:"captionInput",attrs:{type:"text",autofocus:"",placeholder:e.__("Enter a caption (optional)")},domProps:{value:e.title},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},input:function(t){t.target.composing||(e.title=t.target.value)}}})]):e._e(),e._v(" "),e.captured&&e.filtersEnabled?i("div",{staticClass:"photo-booth-filter-form"},[i("div",{staticClass:"radio-button"},[i("label",[i("input",{attrs:{type:"radio",value:"normal"},domProps:{checked:"normal"==e.filter},on:{change:e.applyFilter}}),i("span",[e._v("\n                "+e._s(e.__("Normal"))+"\n              ")])]),e._v(" "),i("label",[i("input",{attrs:{type:"radio",value:"grayscale"},domProps:{checked:"grayscale"==e.filter},on:{change:e.applyFilter}}),i("span",[e._v("\n                "+e._s(e.__("Grayscale"))+"\n              ")])]),e._v(" "),i("label",[i("input",{attrs:{type:"radio",value:"sepia"},domProps:{checked:"sepia"==e.filter},on:{change:e.applyFilter}}),i("span",[e._v("\n                "+e._s(e.__("Sepia"))+"\n              ")])])])]):e._e()])])])])}),[],!1,null,"0eed255c",null);t.a=h.exports},1243:function(e,t,i){"use strict";var s=i(101),a=i(1045),r=i(277),o=i(4),n=i(219),c=i(135),l=i(34);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],s=!0,a=!1,r=void 0;try{for(var o,n=e[Symbol.iterator]();!(s=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);s=!0);}catch(c){a=!0,r=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}const h=!!window.PointerEvent;var p={components:{BaseIcon:s.a},mixins:[a.a,r.a],data:()=>({activeStrokes:[],availableColors:{black:["black",Object(o.b)("Black")],white:["white",Object(o.b)("White")],red:["#FA3142",Object(o.b)("Red")],blue:["#157FFB",Object(o.b)("Blue")],yellow:["#FDD230",Object(o.b)("Yellow")],green:["#51D727",Object(o.b)("Green")],pink:["#F17CFC",Object(o.b)("Pink")],purple:["#835FF4",Object(o.b)("Purple")],cyan:["#72E1FD",Object(o.b)("Cyan")],orange:["#FF9800",Object(o.b)("Orange")],brown:["#985213",Object(o.b)("Brown")]},backgroundColor:c.a.getItem("canvasBackgroundColor")||"white",brush:"pen",canvasWidth:null,canvasHeight:null,colorName:"black",colors:[],lineWidths:[],paint:!1,redoColors:[],redoLineWidths:[],redoStrokeSets:[],saveButton:!0,scaledCanvasWidth:null,scaledCanvasHeight:null,strokeSets:[],eventHistory:[]}),computed:{backgroundSelectorStyle(){return this.canvasWidth>320?"radio":"select"},brushColorName(){return"pen"===this.brush?this.colorName:this.backgroundColor},brushSize(){return"eraser"===this.brush?21:3},canvasStyle(){let e="crosshair";return"eraser"===this.brush&&(e="grabbing"),{width:this.canvasWidth+"px",height:this.canvasHeight+"px",cursor:e}},canUndo(){return this.strokeSets.length>0},canRedo(){return this.redoStrokeSets.length>0},colorHex(){return this.availableColors[this.colorName][0]},hasDrawn(){return this.strokeSets.length>0||this.redoStrokeSets.length>0}},mounted(){Object(n.a)("Drawing Canvas","Mounted",this.backgroundColor);const e=this.$refs.canvas,t=window.devicePixelRatio;this.canvasWidth=e.clientWidth,this.canvasHeight=e.clientHeight,this.scaledCanvasWidth=Math.floor(this.canvasWidth*t),this.scaledCanvasHeight=Math.floor(this.canvasHeight*t),"black"===this.backgroundColor&&(this.colorName="white"),this.$nextTick(()=>{const i=e.getContext("2d");i.scale(t,t),i.fillStyle=this.backgroundColor,i.fillRect(0,0,e.width,e.height)})},methods:{addPixels(e){this.redoStrokeSets=[],this.redoLineWidths=[],this.redoColors=[];const t=this.strokeSets[this.strokeSets.length-1];t||Object(l.c)("Stroke Set Issue With Drawing",{context:{strokeSetLength:this.strokeSets.length,activeStrokeLength:this.activeStrokes.length,eventHistory:this.eventHistory}});const i=this.$refs.canvas.getBoundingClientRect();for(const s of e){const e=s.pointerId?s.pointerId:s.identifier,a=e?t.find(t=>t.id===e):t[0],r=s.pageX-i.left,o=s.pageY-i.top;a.pixels.push([r,o])}this.redraw()},addStrokesToCurrentSet(e){const t=this.strokeSets[this.strokeSets.length-1];this.strokeSets[this.strokeSets.length-1]=t.concat(e.map(e=>this.newStroke(e)))},cancel(){this.hasDrawn?confirm(Object(o.b)("You have not saved your drawing. Are you sure you want to close the canvas?"))&&this.close():this.close()},changeBackgroundColor(e){const t=e.currentTarget.value,i=this.backgroundColor;this.backgroundColor=t,c.a.setItem("canvasBackgroundColor",t),this.colorName===t&&(this.colorName=i),this.colors=this.colors.map(e=>e===t?i:e===i?t:e),this.$nextTick(()=>{this.redraw()}),Object(n.a)("Drawing Canvas","Changed Bg",t)},close(){this.$emit("close")},exportCoordinates(){let e=Math.min.apply(null,this.pixelsX),t=Math.max.apply(null,this.pixelsX),i=Math.min.apply(null,this.pixelsY),s=Math.max.apply(null,this.pixelsY);const a=this.$refs.canvas.width,r=this.$refs.canvas.height;return e=Math.max(e-16,0),t=Math.min(t+16,a),i=Math.max(i-16,0),s=Math.min(s+16,r),{x:e,y:i,width:t-e,height:s-i}},hideSaveButton(){this.saveButton=!1},newStroke:e=>({id:e,pixels:[]}),onMouseDown(e){h||(this.startNewStrokeSet(),this.addStrokesToCurrentSet(["id"]),this.paint=!0,this.addPixels([e]))},onMouseMove(e){h||this.paint&&this.addPixels([e])},onMouseUp(){h||(this.paint=!1)},onPointerDown(e){this.eventHistory.push("pointerdown"),0===this.activeStrokes.length&&this.startNewStrokeSet(),this.paint=!0,this.addStrokesToCurrentSet([e.pointerId]),this.activeStrokes.push(e.pointerId),this.addPixels([e])},onPointerMove(e){this.eventHistory.push("pointermove"),this.paint&&this.addPixels([e])},onPointerUp(e){this.eventHistory.push("pointerup");const t=e.pointerId;this.activeStrokes=this.activeStrokes.filter(e=>e!==t),0===this.activeStrokes.length&&(this.paint=!1)},onTouchEnd(e){if(h)return;const t=Array.from(e.changedTouches).map(e=>e.identifier);this.activeStrokes=this.activeStrokes.filter(e=>!t.includes(e)),0===this.activeStrokes.length&&(this.paint=!1)},onTouchMove(e){if(!h&&this.paint){const t=Array.from(e.touches);this.addPixels(t)}},onTouchStart(e){if(h)return;this.paint=!0;const t=Array.from(e.touches),i=t.map(e=>e.identifier);0===this.activeStrokes.length&&this.startNewStrokeSet();const s=i.filter(e=>!this.activeStrokes.includes(e));this.addStrokesToCurrentSet(s),this.activeStrokes=i,this.addPixels(t)},onMouseOut(){this.onMouseUp()},onPointerOut(e){this.onPointerUp(e)},pickBrush(e){this.brush=e},pickColor(e){this.colorName=e},redo(){this.strokeSets.push(this.redoStrokeSets.shift()),this.lineWidths.push(this.redoLineWidths.shift()),this.colors.push(this.redoColors.shift()),this.redraw()},redraw(){const e=this.strokeSets.length,t=this.$refs.canvas,i=t.getContext("2d");i.fillStyle=this.backgroundColor,i.fillRect(0,0,t.width,t.height),i.lineJoin="round",i.lineCap="round";for(let s=0;s<e;s++){const e=this.strokeSets[s];for(const t of e){const e=t.pixels,a=e.length;if(i.beginPath(),0===a);else if(1===a){const t=d(e[0],2),s=t[0],a=t[1];i.moveTo(s-1,a-1),i.lineTo(s,a)}else if(2===a){const t=d(e[0],2),s=t[0],a=t[1],r=d(e[1],2),o=r[0],n=r[1];i.quadraticCurveTo(s,a,o,n)}else{const t=d(e[0],2),s=t[0],r=t[1];i.moveTo(s,r);for(let p=1;p<=a-3;p++){const t=d(e[p],2),s=t[0],a=t[1],r=d(e[p+1],2),o=(s+r[0])/2,n=(a+r[1])/2;i.quadraticCurveTo(s,a,o,n)}const o=d(e[a-2],2),n=o[0],c=o[1],l=d(e[a-1],2),u=l[0],h=l[1];i.quadraticCurveTo(n,c,u,h)}i.strokeStyle=this.availableColors[this.colors[s]][0],i.lineWidth=this.lineWidths[s],i.stroke()}}},save(){const e=this.$refs.canvas;if(e.msToBlob){const t=e.msToBlob("image/png");t.name="drawing.png",this.handleFile(t)}else e.toBlob(e=>{e.name="drawing.png",this.handleFile(e)},"image/png")},showSaveButton(){this.saveButton=!0},startNewStrokeSet(){this.strokeSets.push([]),this.colors.push(this.brushColorName),this.lineWidths.push(this.brushSize)},undo(){this.redoStrokeSets.unshift(this.strokeSets.pop()),this.redoLineWidths.unshift(this.lineWidths.pop()),this.redoColors.unshift(this.colors.pop()),this.redraw()}}},v=(i(1157),i(5)),f=Object(v.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"drawing-canvas modal panel",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[i("div",{staticClass:"panel-container is-animated scale-up",attrs:{"data-theme":e.backgroundColor}},[e.uploading?i("div",[i("header",{staticClass:"panel-header"}),e._v(" "),i("div",{staticClass:"panel-body"},[i("div",{staticClass:"panel-interstitial"},[i("interstitial-uploader",{attrs:{file:e.file,download:!0,title:"Saving drawing"},on:{done:e.onUploadDone,cancel:e.onUploadCancel}})],1)]),e._v(" "),i("footer",{staticClass:"panel-footer"})]):[i("header",{staticClass:"panel-header"},[i("div",{staticClass:"panel-left-item"},[i("button",{staticClass:"text-button narrow-button",on:{click:e.cancel}},[e._v(e._s(e.__("Close")))])]),e._v(" "),i("div",{staticClass:"drawing-canvas-undo"},[i("button",{staticClass:"icon-button",attrs:{disabled:!e.canUndo,title:e.__("Undo")},on:{click:e.undo}},[i("base-icon",{attrs:{name:"undo"}})],1),e._v(" "),i("button",{staticClass:"icon-button",attrs:{disabled:!e.canRedo,title:e.__("Redo")},on:{click:e.redo}},[i("base-icon",{attrs:{name:"redo"}})],1)]),e._v(" "),i("div",["radio"===e.backgroundSelectorStyle?i("div",{staticClass:"radio-button"},[i("label",[i("input",{attrs:{type:"radio",value:"white"},domProps:{checked:"white"==e.backgroundColor},on:{change:e.changeBackgroundColor}}),i("span",[e._v(e._s(e.__("White")))])]),e._v(" "),i("label",[i("input",{attrs:{type:"radio",value:"black"},domProps:{checked:"black"==e.backgroundColor},on:{change:e.changeBackgroundColor}}),i("span",[e._v(e._s(e.__("Black")))])])]):i("div",{staticClass:"select-box"},[i("select",{on:{change:e.changeBackgroundColor,focus:e.hideSaveButton,blur:e.showSaveButton}},[i("option",{attrs:{value:"white"}},[e._v(e._s(e.__("White")))]),e._v(" "),i("option",{attrs:{value:"black"}},[e._v(e._s(e.__("Black")))])])])]),e._v(" "),i("div",{staticClass:"panel-right-item"},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.saveButton,expression:"saveButton"}],staticClass:"flat-button narrow-button",on:{click:e.save}},[e._v(e._s(e.__("Save")))])])]),e._v(" "),i("div",{staticClass:"panel-body"},[i("canvas",{ref:"canvas",style:e.canvasStyle,attrs:{width:e.scaledCanvasWidth,height:e.scaledCanvasHeight},on:{pointerdown:e.onPointerDown,mousedown:e.onMouseDown,touchstart:function(t){return t.preventDefault(),e.onTouchStart(t)},pointerup:e.onPointerUp,mouseup:e.onMouseUp,touchend:function(t){return t.preventDefault(),e.onTouchEnd(t)},pointermove:e.onPointerMove,mousemove:e.onMouseMove,touchmove:function(t){return t.preventDefault(),e.onTouchMove(t)},mouseout:e.onMouseOut,pointerout:e.onPointerOut}})]),e._v(" "),i("footer",{staticClass:"panel-footer"},[i("div",{staticClass:"color-picker"},e._l(e.availableColors,(function(t,s){return s!=e.backgroundColor?i("button",{key:s,class:{active:e.colorName==s},on:{click:function(t){return e.pickColor(s)}}},[i("div",{style:{background:t[0]}})]):e._e()})),0),e._v(" "),i("div",{staticClass:"brush-picker"},[i("button",{class:{"icon-button":!0},style:{color:"pen"==e.brush?e.colorHex:null},attrs:{title:e.__("Pen")},on:{click:function(t){return e.pickBrush("pen")}}},[i("base-icon",{attrs:{name:"edit"}})],1),e._v(" "),i("button",{class:{"icon-button":!0,active:"eraser"==e.brush},attrs:{title:e.__("Eraser")},on:{click:function(t){return e.pickBrush("eraser")}}},[i("base-icon",{attrs:{name:"eraser"}})],1)])])]],2)])}),[],!1,null,"57d485ee",null);t.a=f.exports},1247:function(e,t,i){"use strict";var s=i(2),a=i(8),r=i(101),o=i(146),n=i(371),c=i(99),l=i(58),d=i(79),u=i(1046),h=i(233),p=i(265),v=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},f=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let g=class extends(Object(s.c)()){constructor(){super(...arguments),this.OzIconButtonColorScheme=c.a,this.OzTextButtonColorScheme=l.a,this.supportReadFromClipboardAPI=p.g,this.searchBarFocusing=!1,this.MAX_SEARCH_LENGTH=1e3}get searchBarPlaceholder(){return this.isLinkInputMode?this.__("Paste or type link here"):this.isSmallPhone?this.__("Search web or paste URL"):this.isPhone?this.__("Search the web or paste URL"):this.__("Search images, GIFs, YouTube, Spotify, websites, or paste URL")}get searchQuery(){return this.$props.value}set searchQuery(e){this.$emit("input",e)}handleCopyText(){this.$emit("copy")}handleSearchBarFocus(e){this.searchBarFocusing=!0,this.$emit("focus")}onInput(){this.isError&&this.clearSearchError()}handleSearchBarFocusOut(){this.searchBarFocusing=!1,this.isIPhone&&this.processQuery(),this.$emit("blur")}mounted(){this.isDeviceTouchable&&!this.isLinkInputMode||this.$refs.searchBar.focus()}unfocusForTouchDevices(){this.isDeviceTouchable&&this.$refs.searchBar.blur()}focusSearchBar(){this.$refs.searchBar.focus()}select(e){this.$emit("select",e)}processQuery(){const e=this.value;if(this.clearSearchError(),e)if(Object(d.f)(e))this.select(e);else if(Object(d.f)("https://"+e))this.select("https://"+e);else{const t=Object(u.a)(e);if(t)this.select(t);else{if(this.isLinkInputMode&&this.pickSearchFilter({filter:h.a.Web}),this.searchFilter===h.a.None)return void this.$emit("error","NO_SEARCH_FILTER");this.search({query:e})}}else this.$emit("clear-search");this.unfocusForTouchDevices()}resetSearch(){this.$emit("clear-search"),this.$refs.searchBar.focus()}};v([a.c,f("design:type",Boolean)],g.prototype,"isSafari",void 0),v([Object(a.c)(e=>e.isTouchable),f("design:type",Boolean)],g.prototype,"isDeviceTouchable",void 0),v([a.c,f("design:type",Boolean)],g.prototype,"isIPhone",void 0),v([a.b,f("design:type",String)],g.prototype,"dir",void 0),v([Object(a.d)("browser").Getter,f("design:type",Boolean)],g.prototype,"isPhone",void 0),v([Object(a.d)("browser").Getter,f("design:type",Boolean)],g.prototype,"isSmallPhone",void 0),v([Object(a.d)("contentPicker").Getter,f("design:type",Object)],g.prototype,"searchFilter",void 0),v([Object(a.d)("contentPicker").Getter,f("design:type",Boolean)],g.prototype,"isError",void 0),v([Object(a.d)("contentPicker").Action,f("design:type",Function)],g.prototype,"search",void 0),v([Object(a.d)("contentPicker").Action,f("design:type",Function)],g.prototype,"clearSearchError",void 0),v([Object(a.d)("contentPicker").Action,f("design:type",Function)],g.prototype,"pickSearchFilter",void 0),v([Object(s.e)(),f("design:type",Boolean)],g.prototype,"xBackButton",void 0),v([Object(s.e)(),f("design:type",Boolean)],g.prototype,"xClipboardButton",void 0),v([Object(s.e)(),f("design:type",String)],g.prototype,"value",void 0),v([Object(s.e)(),f("design:type",Boolean)],g.prototype,"isLinkInputMode",void 0),v([Object(s.e)(),f("design:type",Boolean)],g.prototype,"shouldWiggle",void 0),g=v([Object(s.a)({components:{BaseIcon:r.a,OzBackButton:o.a,OzCloseButton:n.b,OzIconButton:c.d,OzTextButton:l.c}})],g);var b=g,m=(i(1141),i(5)),y=Object(m.a)(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["flex","p-4"]},[e.xBackButton?i("OzBackButton",{on:{click:function(t){return e.$emit("back")}}}):i("OzCloseButton",{on:{click:function(t){return e.$emit("close")}}}),e._v(" "),i("div",{class:["flex","flex-1","ml-3 rtl:ml-0 rtl:mr-3","flex-row","items-center","relative","h-9 dark:text-white-100 border-2 border-solid rounded-2xl",!e.searchBarFocusing&&"border-highway-100",!e.searchBarFocusing&&"dark:border-white",e.searchBarFocusing&&"border-grape-500 dark:border-canary-500",e.shouldWiggle&&"animate-wiggle"]},[i("form",{staticClass:"flex flex-grow",on:{submit:function(t){return t.preventDefault(),e.processQuery(t)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],ref:"searchBar",staticClass:"search-input",attrs:{dir:e.dir,type:"text",autocapitalize:"off",maxlength:e.MAX_SEARCH_LENGTH,placeholder:e.searchBarPlaceholder,"aria-label":e.__("Search")},domProps:{value:e.searchQuery},on:{focusin:e.handleSearchBarFocus,focusout:e.handleSearchBarFocusOut,copy:e.handleCopyText,cut:e.handleCopyText,click:function(t){return e.$emit("click")},input:[function(t){t.target.composing||(e.searchQuery=t.target.value)},e.onInput]}})]),e._v(" "),!e.isPhone&&e.value?i("OzTextButton",{class:["px-3","text-17","font-semibold"],attrs:{"color-scheme":e.OzTextButtonColorScheme.Secondary,text:e.__("Clear")},on:{click:e.resetSearch}}):e._e()],1),e._v(" "),i("div",{class:["w-10","ml-3 rtl:ml-0 rtl:mr-3"]},[i("OzIconButton",{directives:[{name:"show",rawName:"v-show",value:e.supportReadFromClipboardAPI&&!e.isPhone&&!e.isSafari&&!e.value,expression:"supportReadFromClipboardAPI && !isPhone && !isSafari && !value"}],key:"desktop-right-icon-paste",attrs:{label:e.__("Paste clipboard"),"color-scheme":e.OzIconButtonColorScheme.Secondary,"icon-name":"clipboard","icon-size":20},on:{click:function(t){return e.$emit("paste-click")}}}),e._v(" "),i("OzIconButton",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],key:"desktop-right-icon-forward",attrs:{label:e.__("Submit"),"color-scheme":e.OzIconButtonColorScheme.Secondary,"icon-name":"arrow_right"},on:{click:e.processQuery}})],1)],1)}),[],!1,null,"3c708034",null);t.a=y.exports},1248:function(e,t,i){"use strict";var s=i(2),a=i(8),r=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let n=class extends(Object(s.c)()){searchFor(e){this.setSearchQuery({query:e}),this.search()}};r([Object(a.d)("contentPicker").Getter,o("design:type",Array)],n.prototype,"searchSuggestions",void 0),r([Object(a.d)("contentPicker").Action,o("design:type",Function)],n.prototype,"setSearchQuery",void 0),r([Object(a.d)("contentPicker").Action,o("design:type",Function)],n.prototype,"search",void 0),n=r([s.a],n);var c=n,l=i(5),d=Object(l.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex flex-col mt-4"},[i("ul",[i("div",{class:["relative","mt-2","mx-6","pb-1"],attrs:{role:"heading","aria-level":"2"}},[i("div",{staticClass:"text-body-extra-small mx-2 text-highway-300 dark:text-white-300"},[e._v(e._s(e.__("Suggestions")))]),e._v(" "),i("div",{class:["separator","transition-all","absolute","left-0","right-0","bottom-0","border-0","border-b-0.5","border-solid","border-highway-disabled","dark:border-white-disabled"],attrs:{role:"separator"}})]),e._v(" "),e._l(e.searchSuggestions,(function(t,s){return i("li",{key:"suggestion_"+s,class:["relative","px-6","text-17","selection-none","outline-none","bg-transparent","cursor-pointer","transition","group"],attrs:{tabindex:"0"},on:{keydown:[function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.searchFor(t)},function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"space",32,i.key,[" ","Spacebar"])?null:e.searchFor(t)}],click:function(i){return e.searchFor(t)}}},[i("div",{class:["py-1","text-highway-100","dark:text-white-100"]},[i("div",{staticClass:"px-2 py-2 rounded-lg hover-hover:group-hover:bg-light-ui-200 hover-hover:dark:group-hover:bg-dark-ui-200 hover-hover:group-focus:bg-light-ui-200 hover-hover:dark:group-focus:bg-dark-ui-200"},[e._v("\n          "+e._s(t)+"\n        ")])]),e._v(" "),i("div",{class:["separator","transition-all","absolute","left-6","right-6","border-0","border-b-0.5","border-solid","border-highway-disabled","dark:border-white-disabled"],attrs:{role:"separator"}})])}))],2)])}),[],!1,null,null,null);t.a=d.exports},1250:function(e,t,i){"use strict";var s=i(2),a=i(8),r=i(1096),o=i(44),n=i(230),c=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},l=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let d=class extends s.f{get mobileIconColorClasses(){switch(this.color){case"green":return["text-park"];case"orange":return["text-tangerine"];case"pink":return["text-padlet-pink"];case"blue":return["text-oceanic"]}return[]}get colorClasses(){switch(this.color){case"green":return["bg-park-0"];case"orange":return["bg-tangerine-0"];case"pink":return["bg-padlet-pink-0"];case"blue":return["bg-oceanic-0"]}return[]}get hoverColorClasses(){switch(this.color){case"green":return["hover-hover:hover:animate-pulse-bg-color pulse-bg-from-park-0 pulse-bg-to-park-200"];case"orange":return["hover-hover:hover:animate-pulse-bg-color pulse-bg-from-tangerine-0 pulse-bg-to-tangerine-200"];case"pink":return["hover-hover:hover:animate-pulse-bg-color pulse-bg-from-padlet-pink-0 pulse-bg-to-padlet-pink-200"];case"blue":return["hover-hover:hover:animate-pulse-bg-color pulse-bg-from-oceanic-0 pulse-bg-to-oceanic-200"]}return[]}get interactionColorClasses(){if(this.disabled)return[];switch(this.color){case"green":return["hover-hover:focus:bg-park-200","focus:bg-park-200","hover-hover:active:bg-park-200","active:bg-park-200"];case"orange":return["hover-hover:focus:bg-tangerine-100","focus:bg-tangerine-100","hover-hover:active:bg-tangerine-100","active:bg-tangerine-100"];case"pink":return["hover-hover:focus:bg-padlet-pink-100","focus:bg-padlet-pink-100","hover-hover:active:bg-padlet-pink-100","active:bg-padlet-pink-100"];case"blue":return["hover-hover:focus:bg-padlet-pink-100","focus:bg-padlet-pink-100","hover-hover:active:bg-oceanic-100","active:bg-oceanic-100"]}return[]}};c([Object(a.d)("browser").Getter,l("design:type",Boolean)],d.prototype,"isPhone",void 0),c([Object(s.e)({default:""}),l("design:type",String)],d.prototype,"iconName",void 0),c([Object(s.e)({default:"green"}),l("design:type",String)],d.prototype,"color",void 0),c([Object(s.e)({default:void 0}),l("design:type",String)],d.prototype,"hiddenInputId",void 0),c([Object(s.e)({default:!1}),l("design:type",Boolean)],d.prototype,"disabled",void 0),c([Object(s.e)({default:!1}),l("design:type",String)],d.prototype,"imageUrl",void 0),c([Object(s.e)({default:!1}),l("design:type",String)],d.prototype,"imageAltText",void 0),d=c([Object(s.a)({components:{RoundedHexagonIcon:r.a,OzIcon:o.default,OzAvatar:n.a}})],d);var u=d,h=(i(1146),i(5)),p=Object(h.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.hiddenInputId?"label":"div",{tag:"component",class:e.colorClasses.concat(["dark:bg-dark-ui-200"],["text-dark-text-100"],["dark:text-light-text-100"],["h-12"],["md:h-14"],["flex"],["flex-row"],["flex-auto"],["items-center"],["first:rounded-t-2.5xl"],["last:rounded-b-2.5xl"],["md:rounded-2.5xl"],["justify-center"],["ltr:pl-3 md:ltr:pl-2"],["rtl:pr-3 md:rtl:pr-2"],["cursor-pointer"],["transition"],["select-none"],["relative"],["first-child:hide-separator"],["hover-hover:hover:hide-separator"],e.disabled?[]:["transition-all"].concat(e.hoverColorClasses,["hover-hover:dark:hover:animate-pulse-bg-color"],["dark:pulse-bg-from-dark-ui-200"],["dark:pulse-bg-to-dark-ui-300"],["hover-hover:active:animate-none"],["hover-hover:focus:animate-none"],["hover-hover:dark:active:animate-none"],["hover-hover:dark:focus:animate-none"],["hover-hover:dark:active:bg-dark-ui-300"],["dark:active:bg-dark-ui-300"],["hover-hover:dark:focus:bg-dark-ui-300"],["dark:focus:bg-dark-ui-300"],e.interactionColorClasses,["hover-hover:active:text-dark-text-100"],["hover-hover:dark:active:text-light-text-100"],["active:text-dark-text-100"],["dark:active:text-light-text-100"])),attrs:{for:e.hiddenInputId,role:"button",tabindex:"0"},on:{click:function(t){return e.$emit("click")},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("click")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.$emit("click")}]}},[e.isPhone?e._e():i("rounded-hexagon-icon",{staticClass:"flex-grow-0",attrs:{height:48,"background-color":e.color,"icon-name":e.iconName,"icon-size":24,"image-url":e.imageUrl,"image-alt-text":e.imageAltText}}),e._v(" "),e.isPhone?[e.iconName?i("OzIcon",{staticClass:"flex-grow-0",class:e.mobileIconColorClasses,attrs:{size:24,name:e.iconName}}):e.imageUrl?i("OzAvatar",{class:["flex-grow-0 rounded",e.mobileIconColorClasses],attrs:{height:24,width:24,src:e.imageUrl,"alt-text-name":e.imageAltText}}):e._e()]:e._e(),e._v(" "),i("span",{staticClass:"flex-grow ml-3 rtl:ml-0 rtl:mr-3 text-17 md:text-14 font-sans"},[e._t("default")],2),e._v(" "),i("span",{staticClass:"flex-grow-0 ml-6 mr-3 text-sm font-sans font-normal text-highway-300 dark:text-white-200 truncate"},[e._t("subtext")],2),e._v(" "),e.isPhone?i("div",{class:["separator","border-solid","border-highway-disabled","dark:border-white-disabled","border-t-0.5","absolute","top-0","left-12","right-0"],attrs:{role:"separator"}}):e._e()],2)}),[],!1,null,"51fcc750",null);t.a=p.exports},1267:function(e,t,i){"use strict";var s=i(1158);i.n(s).a},1268:function(e,t,i){(e.exports=i(77)(!1)).push([e.i,".deep-font-sans * {\n    font-family: 'Inter var', Inter, sans-serif;\n    font-feature-settings: 'ss01', 'cv08';\n    overflow-wrap: break-word\n}\n",""])},1269:function(e,t,i){"use strict";var s=i(1159);i.n(s).a},133:function(e,t,i){"use strict";var s=i(2),a=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},r=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let o=class extends s.f{get style(){return this.size?{width:this.size+"px",height:this.size+"px"}:null}get strokeWidth(){return this.size&&this.size<30?4:2}};a([Object(s.e)({type:Number,default:48}),r("design:type",Number)],o.prototype,"size",void 0),a([Object(s.e)({type:String,default:"rainbow"}),r("design:type",String)],o.prototype,"color",void 0),a([Object(s.e)({default:"default"}),r("design:type",String)],o.prototype,"variation",void 0),a([Object(s.e)({default:"auto"}),r("design:type",Object)],o.prototype,"darkMode",void 0),o=a([s.a],o);var n=o,c=(i(280),i(5)),l=Object(c.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["loader","loader-"+e.variation,"color-"+e.color],style:e.style},["default"===e.variation?i("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":e.strokeWidth,"stroke-miterlimit":"10"}})]):i("svg",{class:["fill-current",{"text-loading-spinner-dark dark:text-white-100":"auto"===e.darkMode,"text-white-100":!0===e.darkMode,"text-loading-spinner-dark":!1===e.darkMode}],attrs:{width:e.size+"px",height:e.size+"px",viewBox:"22 22 56 56",preserveAspectRatio:"xMidYMid"}},[i("g",{attrs:{transform:"rotate(0 50 50)"}},[i("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.875s",repeatCount:"indefinite"}})])]),e._v(" "),i("g",{attrs:{transform:"rotate(45 50 50)"}},[i("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}})])]),e._v(" "),i("g",{attrs:{transform:"rotate(90 50 50)"}},[i("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.625s",repeatCount:"indefinite"}})])]),e._v(" "),i("g",{attrs:{transform:"rotate(135 50 50)"}},[i("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}})])]),e._v(" "),i("g",{attrs:{transform:"rotate(180 50 50)"}},[i("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.375s",repeatCount:"indefinite"}})])]),e._v(" "),i("g",{attrs:{transform:"rotate(225 50 50)"}},[i("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}})])]),e._v(" "),i("g",{attrs:{transform:"rotate(270 50 50)"}},[i("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.125s",repeatCount:"indefinite"}})])]),e._v(" "),i("g",{attrs:{transform:"rotate(315 50 50)"}},[i("rect",{attrs:{x:"47",y:"27",rx:"3",ry:"3.36",width:"6",height:"14"}},[i("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}})])])])])}),[],!1,null,"0e972c25",null);t.a=l.exports},1365:function(e,t,i){"use strict";i.r(t);var s,a,r=i(2),o=i(8),n=i(297),c=i(324),l=i(1110),d=i(1242),u=i(1235),h=i(1232),p=i(1109),v=i(1240),f=i(1237),g=i(1243),b=i(1112),m=i(1233),y=i(1059),_=i(1247),w=i(361),k=i.n(w),C=i(233),x=i(58),S=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},O=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let j=class extends(Object(r.c)()){constructor(){super(...arguments),this.OzTextButtonColorScheme=x.a,this.buttons=[{filter:C.a.Images,ref:"imagesButton",text:this.__("Images")},{filter:C.a.Gif,ref:"gifButton",text:this.__("GIF")},{filter:C.a.Videos,ref:"youtubeButton",text:this.__("YouTube")},{filter:C.a.Audio,ref:"spotifyButton",text:this.__("Spotify")},{filter:C.a.Web,ref:"webButton",text:this.__("Web")}],this.isShook=!1,this.SearchFilters=C.a}shake(){this.isShook=!1,setTimeout(()=>{this.isShook=!0},1)}pickFilter(e){this.openSearch(),this.pickSearchFilter({filter:e}),this.repositionIndicator(),this.searchQuery&&""!=this.searchQuery.trim()?this.currentSearchResultsMap&&this.currentSearchResultsMap[this.searchFilter]&&0!=this.currentSearchResultsMap[this.searchFilter].length||this.search():this.$emit("pick-without-search",e)}get refNamesMap(){return k()(this.buttons,"filter")}get highlightedElement(){var e;const t=null===(e=this.refNamesMap[this.searchFilter])||void 0===e?void 0:e.ref,i=this.$refs[t][0];return null===i||void 0===i?void 0:i.$el}repositionIndicator(){if(!this.highlightedElement)return;const e=this.$refs.indicator;e.style.width=this.highlightedElement.offsetWidth+"px",e.style.left=this.highlightedElement.offsetLeft-this.$refs.indicatorBar.offsetLeft+"px"}mounted(){this.repositionIndicator()}};S([Object(o.d)("browser").Getter,O("design:type",Boolean)],j.prototype,"isPhone",void 0),S([Object(o.d)("contentPicker").Action,O("design:type",Function)],j.prototype,"openSearch",void 0),S([Object(o.d)("contentPicker").Action,O("design:type",Function)],j.prototype,"pickSearchFilter",void 0),S([Object(o.d)("contentPicker").Getter,O("design:type","function"===typeof(s="undefined"!==typeof C.a&&C.a)?s:Object)],j.prototype,"searchFilter",void 0),S([Object(o.d)("contentPicker").Getter,O("design:type",String)],j.prototype,"searchQuery",void 0),S([Object(o.d)("contentPicker").Getter,O("design:type","function"===typeof(a="undefined"!==typeof SearchResultDataCollectionMap&&SearchResultDataCollectionMap)?a:Object)],j.prototype,"currentSearchResultsMap",void 0),S([Object(o.d)("contentPicker").Action,O("design:type",Function)],j.prototype,"search",void 0),j=S([Object(r.a)({components:{OzTextButton:x.c}})],j);var P=j,R=i(5),B=Object(R.a)(P,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex flex-shrink-0 flex-col"},[i("div",{class:["flex","flex-shrink-0","justify-between","mx-4","md:mx-6","mt-1","md:mt-0",e.isShook&&"animate-shake"]},e._l(e.buttons,(function(t){return i("div",{key:t.ref,class:["flex-1","flex-grow","flex-shrink-0","flex","justify-center"]},[i("OzTextButton",{ref:t.ref,refInFor:!0,class:["text-14","font-semibold","h-10",e.isPhone?"w-full":"px-5"],attrs:{text:t.text,"color-scheme":e.searchFilter===t.filter?e.OzTextButtonColorScheme.Active:e.OzTextButtonColorScheme.Secondary},on:{click:function(i){return e.pickFilter(t.filter)}}})],1)})),0),e._v(" "),i("div",{ref:"indicatorBar",staticClass:"relative h-px border-b-0.5 border-solid border-highway-disabled dark:border-white-disabled mx-4"},[i("div",{ref:"indicator",class:["absolute","h-0.5","w-20","bg-grape-500","dark:bg-canary-500","rounded","transition-all"]})])])}),[],!1,null,null,null).exports,F=i(1234),D=i(1248),I=i(1250),A=i(379),T=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},E=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let $=class extends(Object(r.c)()){constructor(){super(...arguments),this.Source=A.a,this.SearchFilters=C.a}select(e){this.endLinkInputMode(),this.$emit("select",e)}focusSearchBar(e){this.endLinkInputMode(),this.$emit("focus-search-bar",e)}pasteText(){this.$emit("paste-text")}triggerLinkInput(){this.$emit("trigger-link-input")}};T([Object(o.c)(e=>e.isTablet),E("design:type",Boolean)],$.prototype,"isDeviceTablet",void 0),T([Object(o.c)(e=>e.isPhone),E("design:type",Boolean)],$.prototype,"isDevicePhone",void 0),T([Object(o.d)("browser").Getter,E("design:type",Boolean)],$.prototype,"isPhone",void 0),T([Object(r.e)(),E("design:type",String)],$.prototype,"clipboardText",void 0),T([Object(r.e)(),E("design:type",Boolean)],$.prototype,"xClipboardButton",void 0),T([Object(r.e)(),E("design:type",Boolean)],$.prototype,"audioSupport",void 0),T([Object(r.e)(),E("design:type",Boolean)],$.prototype,"videoSupport",void 0),T([Object(r.e)(),E("design:type",Boolean)],$.prototype,"screenshareSupport",void 0),T([Object(r.e)({default:!1}),E("design:type",Boolean)],$.prototype,"disabled",void 0),T([Object(o.d)("contentPicker").Action,E("design:type",Function)],$.prototype,"endLinkInputMode",void 0),$=T([Object(r.a)({components:{ActionableChiclet:I.a}})],$);var M,L=$,W=Object(R.a)(L,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["pb-4","px-4","mt-0","md:mt-4"]},[e.isPhone&&e.xClipboardButton?i("div",{class:["grid","grid-flow-row","md:grid-cols-3","grid-cols-1","md:gap-4","gap-0"]},[i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"pink","icon-name":"clipboard"},on:{click:e.pasteText}},[e._v("\n      "+e._s(e.__("Clipboard"))+"\n      "),i("template",{slot:"subtext"},[e._v(e._s(e.clipboardText))])],2)],1):e._e(),e._v(" "),i("div",{class:["grid","grid-flow-row","md:grid-cols-3","grid-cols-1","md:gap-4","gap-0",e.isPhone&&e.xClipboardButton?"mt-3":"mt-0","md:mt-0"]},[i("actionable-chiclet",{attrs:{disabled:e.disabled,"hidden-input-id":"content-hidden-file-input",color:"green","icon-name":"upload"},on:{click:function(t){return e.select(e.Source.FileBrowser)}}},[e._v("\n      "+e._s(e.__("Upload"))+"\n    ")]),e._v(" "),i("actionable-chiclet",{attrs:{disabled:e.disabled,"hidden-input-id":"content-hidden-image-input",color:"green","icon-name":"camera"},on:{click:function(t){return e.select(e.Source.PhotoBooth)}}},[e._v("\n      "+e._s(e.__("Camera"))+"\n    ")]),e._v(" "),e.videoSupport?i("actionable-chiclet",{attrs:{disabled:e.disabled,"hidden-input-id":"content-hidden-video-input",color:"green","icon-name":"video"},on:{click:function(t){return e.select(e.Source.VideoRecorder)}}},[e._v("\n      "+e._s(e.__("Video Recorder"))+"\n    ")]):e._e(),e._v(" "),e.audioSupport?i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"green","icon-name":"microphone"},on:{click:function(t){return e.select(e.Source.AudioRecorder)}}},[e._v("\n      "+e._s(e.__("Audio Recorder"))+"\n    ")]):e._e(),e._v(" "),e.isDeviceTablet||e.isDevicePhone||!e.screenshareSupport?e._e():i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"green","icon-name":"screen_recorder"},on:{click:function(t){return e.select(e.Source.ScreenshareRecorder)}}},[e._v("\n      "+e._s(e.__("Screen Recorder"))+"\n    ")]),e._v(" "),i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"green","icon-name":"location"},on:{click:function(t){return e.select(e.Source.MapBrowser)}}},[e._v("\n      "+e._s(e.__("Location"))+"\n    ")]),e._v(" "),i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"green","icon-name":"draw"},on:{click:function(t){return e.select(e.Source.DrawingCanvas)}}},[e._v("\n      "+e._s(e.__("Drawing"))+"\n    ")]),e._v(" "),i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"green","icon-name":"padlet"},on:{click:function(t){return e.select(e.Source.PadletBrowser)}}},[e._v("\n      "+e._s(e.__("Padlet"))+"\n    ")])],1),e._v(" "),i("div",{class:["grid","grid-flow-row","md:grid-cols-3","grid-cols-1","md:gap-4","gap-0","mt-3","md:mt-8"]},[i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"orange","icon-name":"link"},on:{click:e.triggerLinkInput}},[e._v("\n      "+e._s(e.__("Link"))+"\n    ")]),e._v(" "),i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"orange","icon-name":"image_search"},on:{click:function(t){return e.focusSearchBar(e.SearchFilters.Images)}}},[e._v("\n      "+e._s(e.__("Image Search"))+"\n    ")]),e._v(" "),i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"orange","icon-name":"gif"},on:{click:function(t){return e.focusSearchBar(e.SearchFilters.Gif)}}},[e._v("\n      "+e._s(e.__("GIF"))+"\n    ")]),e._v(" "),i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"orange","icon-name":"youtube"},on:{click:function(t){return e.focusSearchBar(e.SearchFilters.Videos)}}},[e._v("\n      "+e._s(e.__("YouTube"))+"\n    ")]),e._v(" "),i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"orange","icon-name":"spotify"},on:{click:function(t){return e.focusSearchBar(e.SearchFilters.Audio)}}},[e._v("\n      "+e._s(e.__("Spotify"))+"\n    ")]),e._v(" "),i("actionable-chiclet",{attrs:{disabled:e.disabled,color:"orange","icon-name":"web_search"},on:{click:function(t){return e.focusSearchBar(e.SearchFilters.Web)}}},[e._v("\n      "+e._s(e.__("Web Search"))+"\n    ")])],1)])}),[],!1,null,null,null).exports,N=i(364),U=i(1060),z=i(219),H=i(265),q=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},G=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let V=class extends(Object(r.c)()){constructor(){super(...arguments),this.currentClipboardText="",this.CLIPBOARD_ENABLED=(!this.isPhone||this.isPhone&&!this.isSafari)&&H.g,this.xClipboardButton=this.CLIPBOARD_ENABLED,this.searchFocused=!1,this.isExpanded=!1,this.shouldWiggleSearchBar=!1,this.SearchFilters=C.a,this.menuListDisabled=!1}handleSearchScreenShown(e){e?this.isOpenedFromSearch?setTimeout(()=>{this.isExpanded=!0},250):this.isExpanded=!0:this.isExpanded=!1}closeMenu(){this.$emit("close")}handleScrimClick(e){this.searchFocused&&this.isTouchable||this.closeMenu()}handleDragStart(){this.menuListDisabled=!0}handleDragEnd(){this.menuListDisabled=!1}selectSource(e){Object(z.a)("Content Menu New","Selected Source",e),this.shouldWiggleSearchBar=!1,this.$emit("select",e)}selectSearchResult(e){Object(z.a)("Content Menu New","Selected Search Result"),this.$emit("select-link",e),this.$emit("close")}get searchQuery(){return this.$store.state.contentPicker.searchQuery}set searchQuery(e){this.setSearchQuery({query:e})}get xBackButton(){return this.xSearchScreen&&!this.isOpenedFromSearch}async pasteText(){try{this.searchQuery=(await Object(H.f)()).slice(0,140),this.imitateSearchBarClickWithFilter(this.searchFilter||C.a.Web)}catch(e){if(this.isSafari&&"NotAllowedError"==e.name)return;throw e}}focusSearchBar(){this.$nextTick(()=>{this.$refs.searchBar&&this.$refs.searchBar.focusSearchBar()})}focusSearchBarAfterPickFilter(){this.focusSearchBar()}handleSearchBarClick(){this.isLinkInputMode||(this.openSearch(),this.searchFilter||this.pickSearchFilter({filter:this.searchFilter||C.a.Web})),this.focusSearchBar()}handleSearchBarFocus(){this.syncClipboardText(),this.searchFocused=!0}handleSearchBarBlur(){this.searchFocused=!1}imitateSearchBarClickWithFilter(e){this.isLinkInputMode||(this.openSearch(),this.pickSearchFilter({filter:e||this.searchFilter||C.a.Web})),this.shouldWiggleSearchBar=!1,this.focusSearchBar()}triggerLinkInput(){this.startLinkInputMode(),this.focusSearchBar(),this.shouldWiggleSearchBar=!1,this.$nextTick(()=>setTimeout(()=>this.shouldWiggleSearchBar=!0))}handleSearchQueryChangedOnMenuScreen(e){!this.xSearchScreen&&e&&""!==e.trim()&&this.imitateSearchBarClickWithFilter(this.searchFilter||C.a.Web)}goBack(){this.closeSearch(),this.searchQuery="",this.isExpanded=!1}handleSearchBarError(e){e&&"NO_SEARCH_FILTER"===e&&this.$refs.searchModes.shake()}async syncClipboardText(){try{!this.isSafari&&H.g&&(this.currentClipboardText=await Object(H.f)(),this.xClipboardButton=this.CLIPBOARD_ENABLED&&!!this.currentClipboardText&&this.currentClipboardText.trim().length>0)}catch(e){}}clearSearch(){this.searchQuery=""}mounted(){this.syncSearchSuggestionsWithStorage(),this.syncClipboardText(),document.addEventListener("visibilitychange",()=>{this.syncClipboardText()})}};q([o.c,G("design:type",Boolean)],V.prototype,"isSafari",void 0),q([o.c,G("design:type",Boolean)],V.prototype,"isTouchable",void 0),q([o.c,G("design:type",Boolean)],V.prototype,"isEmbedded",void 0),q([o.b,G("design:type",String)],V.prototype,"dir",void 0),q([o.b,G("design:type",Boolean)],V.prototype,"isUsingNewSurfaceShadows",void 0),q([Object(r.e)(),G("design:type",Boolean)],V.prototype,"videoSupport",void 0),q([Object(r.e)(),G("design:type",Boolean)],V.prototype,"audioSupport",void 0),q([Object(r.e)(),G("design:type",Boolean)],V.prototype,"screenshareSupport",void 0),q([Object(o.d)("browser").Getter,G("design:type",Boolean)],V.prototype,"isPhone",void 0),q([Object(o.d)("browser").Getter,G("design:type",Number)],V.prototype,"windowHeight",void 0),q([Object(o.d)("browser").State,G("design:type",Boolean)],V.prototype,"darkMode",void 0),q([Object(o.d)("contentPicker").Getter,G("design:type","function"===typeof(M="undefined"!==typeof C.a&&C.a)?M:Object)],V.prototype,"searchFilter",void 0),q([Object(o.d)("contentPicker").Getter,G("design:type",Boolean)],V.prototype,"xSearchScreen",void 0),q([Object(o.d)("contentPicker").Getter,G("design:type",Boolean)],V.prototype,"isOpenedFromSearch",void 0),q([Object(o.d)("contentPicker").Getter,G("design:type",Boolean)],V.prototype,"xSearchSuggestions",void 0),q([Object(o.d)("contentPicker").Getter,G("design:type",Array)],V.prototype,"currentSearchResultsForFilter",void 0),q([Object(o.d)("contentPicker").Getter,G("design:type",Boolean)],V.prototype,"isLinkInputMode",void 0),q([Object(o.d)("contentPicker").Action,G("design:type",Function)],V.prototype,"syncSearchSuggestionsWithStorage",void 0),q([Object(o.d)("contentPicker").Action,G("design:type",Function)],V.prototype,"pickSearchFilter",void 0),q([Object(o.d)("contentPicker").Action,G("design:type",Function)],V.prototype,"clearSearchFilter",void 0),q([Object(o.d)("contentPicker").Action,G("design:type",Function)],V.prototype,"openSearch",void 0),q([Object(o.d)("contentPicker").Action,G("design:type",Function)],V.prototype,"closeSearch",void 0),q([Object(o.d)("contentPicker").Action,G("design:type",Function)],V.prototype,"setSearchQuery",void 0),q([Object(o.d)("contentPicker").Action,G("design:type",Function)],V.prototype,"startLinkInputMode",void 0),q([Object(r.g)("xSearchScreen",{immediate:!0}),G("design:type",Function),G("design:paramtypes",[Boolean]),G("design:returntype",void 0)],V.prototype,"handleSearchScreenShown",null),q([Object(r.g)("searchQuery"),G("design:type",Function),G("design:paramtypes",[Object]),G("design:returntype",void 0)],V.prototype,"handleSearchQueryChangedOnMenuScreen",null),V=q([Object(r.a)({components:{OzScreenSizeAwareCenterModal:N.a,ContentPickerSearchBar:_.a,ContentSourceMenuList:W,ContentPickerSearchResults:F.a,ContentPickerSearchModes:B,ContentPickerSearchSuggestions:D.a,WebBrowserAttribution:U.a}})],V);var Q,Y,K=V,J=(i(1267),Object(R.a)(K,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("OzScreenSizeAwareCenterModal",{class:["select-none","deep-font-sans",e.darkMode&&"dark-mode"],attrs:{"is-draggable-drawer":!0,dir:e.dir,"is-phone":e.isPhone,"window-height":e.windowHeight,"shadow-class":e.isUsingNewSurfaceShadows?"shadow-elevation-4":void 0,"disable-drag":e.xSearchScreen,"full-size":e.isExpanded||e.isEmbedded,"start-height":e.xClipboardButton?502:444,"min-height":464,"should-full-size-cover-screen":!0},on:{"scrim-click":e.handleScrimClick,"scrim-esc":e.closeMenu,dragstart:e.handleDragStart,dragend:e.handleDragEnd}},[i("template",{slot:"header"},[i("content-picker-search-bar",{ref:"searchBar",attrs:{"x-back-button":e.xBackButton,"x-clipboard-button":e.xClipboardButton,"is-link-input-mode":e.isLinkInputMode,"should-wiggle":e.shouldWiggleSearchBar},on:{focus:e.handleSearchBarFocus,blur:e.handleSearchBarBlur,copy:e.syncClipboardText,click:e.handleSearchBarClick,"clear-search":e.clearSearch,select:e.selectSearchResult,back:e.goBack,"paste-click":e.pasteText,close:e.closeMenu,error:e.handleSearchBarError},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),e._v(" "),i("template",{slot:"body"},[e.xSearchScreen?[i("content-picker-search-modes",{ref:"searchModes",on:{"pick-without-search":e.focusSearchBarAfterPickFilter}}),e._v(" "),e.xSearchSuggestions?i("content-picker-search-suggestions"):i("content-picker-search-results",{on:{select:e.selectSearchResult}})]:i("content-source-menu-list",{staticClass:"stroller",attrs:{"x-clipboard-button":e.xClipboardButton,"clipboard-text":e.currentClipboardText,"video-support":e.videoSupport,"audio-support":e.audioSupport,"screenshare-support":e.screenshareSupport,disabled:e.menuListDisabled},on:{select:e.selectSource,"focus-search-bar":e.imitateSearchBarClickWithFilter,"paste-text":e.pasteText,"trigger-link-input":e.triggerLinkInput}})],2)],2)}),[],!1,null,null,null).exports),X=i(1241),Z=i(1047),ee=i(1107),te=i(3),ie=i(69),se=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},ae=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let re=class extends(Object(r.c)()){constructor(){super(...arguments),this.audioSupport=Z.e,this.uploading=!1,this.pendingFile=null,this.Source=A.a}get contentPickerComponent(){return Object(ie.a)("contentPicker",1)?"content-source-menu-new":"content-source-menu"}get showHiddenInputs(){return this.isMobile}get videoSupport(){return Z.f||this.isMobile}get activePanel(){return this.activeContentPickerPanel}get menuTop(){return this.xContentSourceMenu?this.contentSourceMenuPosition.top:null}get menuLeft(){return this.xContentSourceMenu?this.contentSourceMenuPosition.left:null}get queryHint(){return this.postBeingEdited&&this.postBeingEdited.subject||""}get screenshareEnabledByDefault(){const e=this.isChrome&&!!te.a.chrome&&!!te.a.chrome.desktopCapture||this.isFirefox;return Z.e&&!this.isMobile&&e}get screenshareSupport(){return Z.f&&!this.isMobile&&(this.isChrome||this.isFirefox)}get shouldPostModalHandleUploadFromContentSource(){return this.isAnyDraftActive}mounted(){Object(ee.a)().then(e=>{this.chromeExtensionInstalled=e})}onUploadCancel(){this.pendingFile=null}onUploadDone(e,t){this.selectLink(t),this.pendingFile=null}onUploadReject(e){this.$emit("reject",e),this.pendingFile=null,this.closePanel()}selectFile(e){this.isAnyDraftActive?this.uploadFileActiveDraft({file:e.target.files[0]}):this.pendingFile=e.target.files[0],this.closeSourceMenu()}selectLink(e){this.saveContent({content:{link:e}})}startFileUpload(e,t){this.shouldPostModalHandleUploadFromContentSource?this.uploadFileActiveDraft({file:e,maxFileUploadSize:t}):this.pendingFile=e,this.closeSourceMenu()}setCaption(e){e&&this.saveAttachmentCaption({caption:e})}closeSourceMenu(){this.hideContentSourceMenu()}closePanel(){this.hideContentPickerPanel()}activatePanel(e){e===this.Source.ScreenshareRecorder&&this.screenshareSupport&&!this.screenshareEnabledByDefault?!0===this.chromeExtensionInstalled||this.isElectronApp?this.pickContentSource({source:e}):this.showExtensionRequired():(e===this.Source.FileBrowser||e===this.Source.PhotoBooth||e===this.Source.VideoRecorder)&&this.isMobile||e===this.Source.FileBrowser||this.pickContentSource({source:e})}};se([o.c,ae("design:type",Object)],re.prototype,"user",void 0),se([o.c,ae("design:type",Object)],re.prototype,"wall",void 0),se([o.c,ae("design:type",Boolean)],re.prototype,"isMobile",void 0),se([o.c,ae("design:type",Boolean)],re.prototype,"isChrome",void 0),se([o.c,ae("design:type",Boolean)],re.prototype,"isFirefox",void 0),se([o.c,ae("design:type",Boolean)],re.prototype,"isPhone",void 0),se([o.c,ae("design:type",Boolean)],re.prototype,"isElectronApp",void 0),se([Object(o.d)("browser").Getter,ae("design:type",Number)],re.prototype,"windowWidth",void 0),se([Object(o.d)("post").Getter,ae("design:type","function"===typeof(Q="undefined"!==typeof Post&&Post)?Q:Object)],re.prototype,"postBeingEdited",void 0),se([Object(o.d)("contentPicker").Getter,ae("design:type","function"===typeof(Y="undefined"!==typeof A.a&&A.a)?Y:Object)],re.prototype,"activeContentPickerPanel",void 0),se([Object(o.d)("contentPicker").Getter,ae("design:type",Object)],re.prototype,"contentSourceMenuPosition",void 0),se([Object(o.d)("contentPicker").Getter,ae("design:type",Boolean)],re.prototype,"xContentSourceMenu",void 0),se([Object(o.d)("dragAndDropEvents").Getter("isHandlingDragEvent"),ae("design:type",Boolean)],re.prototype,"isPageHandlingDragEvent",void 0),se([Object(o.d)("draft").Getter,ae("design:type",Boolean)],re.prototype,"isAnyDraftActive",void 0),se([Object(o.b)("uploadLimit"),ae("design:type",Object)],re.prototype,"maxFileUploadSize",void 0),se([o.b,ae("design:type",Boolean)],re.prototype,"isUsingNewSurfaceShadows",void 0),se([o.a,ae("design:type",Object)],re.prototype,"showExtensionRequired",void 0),se([Object(o.d)("contentPicker").Action,ae("design:type",Object)],re.prototype,"hideContentPickerPanel",void 0),se([Object(o.d)("contentPicker").Action,ae("design:type",Object)],re.prototype,"hideContentSourceMenu",void 0),se([Object(o.d)("contentPicker").Action,ae("design:type",Object)],re.prototype,"pickContentSource",void 0),se([Object(o.d)("post").Action,ae("design:type",Object)],re.prototype,"saveContent",void 0),se([Object(o.d)("post").Action,ae("design:type",Object)],re.prototype,"saveAttachmentCaption",void 0),se([Object(o.d)("draft").Action,ae("design:type",Function)],re.prototype,"uploadFileActiveDraft",void 0),re=se([Object(r.a)({components:{LinkInput:b.a,FileBrowser:l.a,PhotoBooth:d.a,VideoRecorder:u.a,AudioRecorder:h.a,WebBrowser:p.a,PadletBrowser:v.a,DrawingCanvas:g.a,MapBrowser:f.a,ContentSourceMenu:X.a,ContentSourceMenuNew:J,InterstitialUploader:y.a,ScreenshareRecorder:m.a}})],re);var oe,ne=re,ce=(i(1269),Object(R.a)(ne,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["content-picker",e.isPageHandlingDragEvent&&"hidden"]},[e.xContentSourceMenu?i(e.contentPickerComponent,{tag:"component",attrs:{"window-width":e.windowWidth,"is-phone":e.isPhone,top:e.menuTop,left:e.menuLeft,"video-support":e.videoSupport,"audio-support":e.audioSupport,"screenshare-support":e.screenshareSupport},on:{select:e.activatePanel,"select-link":e.selectLink,close:e.closeSourceMenu}}):e._e(),e._v(" "),i("div",{staticClass:"content-panels"},[e.activePanel===e.Source.FileBrowser?i("file-browser",{attrs:{"max-file-size":e.maxFileUploadSize,"x-new-surface-shadows":e.isUsingNewSurfaceShadows},on:{close:e.closePanel,reject:e.onUploadReject,select:e.selectLink}}):e.activePanel===e.Source.LinkInput?i("link-input",{on:{close:e.closePanel,select:e.selectLink}}):e.activePanel===e.Source.WebBrowser?i("web-browser",{attrs:{q:e.queryHint,"x-new-surface-shadows":e.isUsingNewSurfaceShadows},on:{close:e.closePanel,select:e.selectLink}}):e.activePanel===e.Source.PhotoBooth?i("photo-booth",{attrs:{upload:!e.shouldPostModalHandleUploadFromContentSource},on:{close:e.closePanel,select:e.selectLink,caption:e.setCaption,"upload-file":e.startFileUpload}}):e.activePanel===e.Source.VideoRecorder?i("video-recorder",{attrs:{upload:!e.shouldPostModalHandleUploadFromContentSource},on:{close:e.closePanel,select:e.selectLink,caption:e.setCaption,"upload-file":e.startFileUpload}}):e.activePanel===e.Source.AudioRecorder?i("audio-recorder",{attrs:{upload:!e.shouldPostModalHandleUploadFromContentSource},on:{close:e.closePanel,select:e.selectLink,caption:e.setCaption,"upload-file":e.startFileUpload}}):e.activePanel===e.Source.DrawingCanvas?i("drawing-canvas",{attrs:{upload:!e.shouldPostModalHandleUploadFromContentSource},on:{close:e.closePanel,select:e.selectLink,"upload-file":e.startFileUpload}}):e.activePanel===e.Source.PadletBrowser?i("padlet-browser",{attrs:{user:e.user,"x-new-surface-shadows":e.isUsingNewSurfaceShadows},on:{close:e.closePanel,select:e.selectLink}}):e.activePanel===e.Source.MapBrowser?i("map-browser",{on:{close:e.closePanel,select:e.selectLink}}):e.activePanel===e.Source.ScreenshareRecorder?i("screenshare-recorder",{attrs:{upload:!e.shouldPostModalHandleUploadFromContentSource},on:{close:e.closePanel,select:e.selectLink,caption:e.setCaption,"upload-file":e.startFileUpload}}):e._e()],1),e._v(" "),i("div",{staticClass:"content-hidden-inputs"},[i("input",{attrs:{id:"content-hidden-file-input",type:"file",hidden:"","aria-hidden":"true"},on:{change:e.selectFile}}),e._v(" "),e.showHiddenInputs?i("input",{attrs:{id:"content-hidden-image-input",label:"content-hidden-image-input",type:"file",accept:"image/*",capture:"environment",hidden:"","aria-hidden":"true"},on:{change:e.selectFile}}):e._e(),e._v(" "),e.showHiddenInputs?i("input",{attrs:{id:"content-hidden-video-input",label:"content-hidden-video-input",type:"file",accept:"video/*",capture:"environment",hidden:"","aria-hidden":"true"},on:{change:e.selectFile}}):e._e()]),e._v(" "),e.pendingFile?i("div",{staticClass:"modal panel"},[i("div",{staticClass:"panel-container is-animated scale-up"},[i("div",{staticClass:"panel-body"},[i("interstitial-uploader",{staticClass:"panel-interstitial",attrs:{file:e.pendingFile,title:e.__("Uploading"),"max-file-size":e.maxFileUploadSize},on:{reject:e.onUploadReject,cancel:e.onUploadCancel,done:e.onUploadDone}})],1)])]):e._e()],1)}),[],!1,null,"4802268e",null).exports),le=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},de=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let ue=class extends r.f{constructor(){super(...arguments),this.recordWhitelistedClick=c.d}get canShowAddPost(){const e=this.isApp&&Object(n.a)("newPostModal"),t=this.isComposerModalDocked&&this.isActiveDraftNewPost&&this.isDesktop&&!this.isPhone,i=!!this.postBeingEditedCid;return!e&&(this.isEmbedded||!this.xMobileSurfaceLayoutV3)&&this.canIWrite&&!this.isReadOnly&&!this.isAPanelVisible&&(!i||t)}get xAddPostButton(){return this.canShowAddPost&&!this.isTable&&!this.isShelf}get xSectionPicker(){if(this.isShelf){return this.pendingPosts.filter(e=>!e.wall_section_id).length>0}return!1}};le([o.c,de("design:type",Boolean)],ue.prototype,"isEmbedded",void 0),le([o.c,de("design:type",Boolean)],ue.prototype,"isReadOnly",void 0),le([o.b,de("design:type",Boolean)],ue.prototype,"canIWrite",void 0),le([o.b,de("design:type",String)],ue.prototype,"dir",void 0),le([o.b,de("design:type",Boolean)],ue.prototype,"isApp",void 0),le([o.b,de("design:type",Boolean)],ue.prototype,"isAPanelVisible",void 0),le([o.b,de("design:type",Boolean)],ue.prototype,"isDesktop",void 0),le([o.b,de("design:type",Boolean)],ue.prototype,"isPhone",void 0),le([o.b,de("design:type",Boolean)],ue.prototype,"isShelf",void 0),le([o.b,de("design:type",Boolean)],ue.prototype,"isTable",void 0),le([o.b,de("design:type",Boolean)],ue.prototype,"xMobileSurfaceLayoutV3",void 0),le([o.a,de("design:type",Function)],ue.prototype,"showOverFileSizeModal",void 0),le([Object(o.d)("browser").State,de("design:type",Object)],ue.prototype,"darkMode",void 0),le([Object(o.d)("composerModal").Getter("isDocked"),de("design:type",Boolean)],ue.prototype,"isComposerModalDocked",void 0),le([Object(o.d)("draft").Getter,de("design:type",Boolean)],ue.prototype,"isActiveDraftNewPost",void 0),le([Object(o.d)("post").Getter,de("design:type",Array)],ue.prototype,"pendingPosts",void 0),le([Object(o.d)("post").Getter,de("design:type","function"===typeof(oe="undefined"!==typeof Cid&&Cid)?oe:Object)],ue.prototype,"postBeingEditedCid",void 0),ue=le([Object(r.a)({components:{SurfaceContentPicker:ce,SurfaceAddPostButton:()=>i.e(193).then(i.bind(null,1402)),SurfaceSectionPicker:()=>i.e(235).then(i.bind(null,1403))}})],ue);var he=ue,pe=Object(R.a)(he,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"z-addpost",attrs:{dir:e.dir},on:{click:function(t){return t.stopPropagation(),e.recordWhitelistedClick(t)},keydown:function(e){e.stopPropagation()}}},[i("SurfaceContentPicker",{on:{reject:function(t){return e.showOverFileSizeModal({file:t})}}}),e._v(" "),e.xAddPostButton?i("SurfaceAddPostButton"):e._e(),e._v(" "),e.xSectionPicker?i("SurfaceSectionPicker"):e._e()],1)}),[],!1,null,null,null);t.default=pe.exports},146:function(e,t,i){"use strict";var s=i(2),a=i(99),r=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let n=class extends s.f{constructor(){super(...arguments),this.ColorScheme=a.a}};r([Object(s.e)({default:"auto"}),o("design:type",Object)],n.prototype,"darkMode",void 0),r([Object(s.e)({default:void 0}),o("design:type",String)],n.prototype,"href",void 0),n=r([Object(s.a)({components:{OzIconButton:a.d}})],n);var c=n,l=i(5),d=Object(l.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("OzIconButton",{attrs:{"dark-mode":e.darkMode,label:e.__("Go back"),href:e.href,"color-scheme":e.ColorScheme.Secondary,"icon-name":"chevron_left_center"},on:{click:function(t){return e.$emit("click",t)}}})}),[],!1,null,null,null);t.a=d.exports},148:function(e,t,i){var s=i(279);"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(78).default)("352983d3",s,!0,{})},149:function(e,t,i){},183:function(e,t,i){"use strict";var s=i(2),a=i(92),r=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let n=class extends s.f{constructor(){super(...arguments),this.isTouchingTopOfScreen=!1}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}mounted(){this.fullSize&&(this.isTouchingTopOfScreen=!0),this.$refs.modalContainer.clientHeight>=this.$el.clientHeight&&(this.isTouchingTopOfScreen=!0)}};r([Object(s.e)({default:!1}),o("design:type",Boolean)],n.prototype,"fullSize",void 0),r([Object(s.e)({default:"auto"}),o("design:type",Object)],n.prototype,"darkMode",void 0),r([Object(s.e)({default:!1}),o("design:type",Boolean)],n.prototype,"xScrim",void 0),r([Object(s.e)({default:!1}),o("design:type",Boolean)],n.prototype,"isScrimSpectral",void 0),r([Object(s.e)({default:!0}),o("design:type",Boolean)],n.prototype,"shouldFadeIn",void 0),n=r([Object(s.a)({components:{OzOverlay:a.a}})],n);var c=n,l=(i(278),i(5)),d=Object(l.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{"leave-active-class":"out",duration:200}},[i("OzOverlay",{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],attrs:{"is-spectral":e.isScrimSpectral,scrim:e.xScrim?"modal":null,"should-fade-in":e.shouldFadeIn},on:{"scrim-click":e.scrimClick,"scrim-esc":e.scrimEsc}},[i("div",{ref:"modalContainer",class:[{"w-full":!0,"max-h-full":!0,"min-h-full":e.fullSize,"overflow-auto flex flex-col":!0,"modal-container":!0,"shadow-elevation-5":!e.fullSize,"rounded-none":e.isTouchingTopOfScreen,"rounded-3xl rounded-br-none rounded-bl-none":!e.isTouchingTopOfScreen,"full-size":e.fullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"pb-safe-inset-bottom":!0}]},[i("div",{class:[{"max-h-full flex flex-grow flex-col overflow-hidden":!0}]},[i("header",[e._t("header")],2),e._v(" "),i("div",{class:{"flex flex-grow flex-col p-0 overflow-auto":!0}},[e._t("body")],2)])])])],1)}),[],!1,null,"77e9b671",null);t.a=d.exports},215:function(e,t,i){var s=i(321);"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,i(78).default)("08e5bab4",s,!0,{})},216:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"f",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return n})),i.d(t,"c",(function(){return c}));const s=104857600,a=2147483648,r=8,o=128,n=110,c=64},241:function(e,t,i){"use strict";e.exports=function(e,t){return"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},269:function(e,t,i){"use strict";var s=i(2),a=i(92),r=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let n=class extends s.f{constructor(){super(...arguments),this.minRenderHeight="0px"}handleResize(){this.$nextTick(()=>{this.fullSize?this.minRenderHeight=this.windowHeight-112+"px":"number"===typeof this.minHeight?this.minRenderHeight=this.minHeight+"px":"string"===typeof this.minHeight&&(this.minRenderHeight=this.minHeight)})}animateIn(){const e=this.$refs.modalContainer;if(!this.startingClickLocation)return void(e.style.animationName="modal-fade");const t=this.windowHeight/2,i=window.innerWidth/2,s={top:this.startingClickLocation.top-t,left:this.startingClickLocation.left-i},a={scale:0,translate3d:{y:s.top,x:s.left,z:0}},r={scale:1,translate3d:{x:0,y:0,z:0}};function o(e){return`translate3d(${e.translate3d.x}px, ${e.translate3d.y}px, ${e.translate3d.z}px) scale(${e.scale}) `}e.style.transition="none",e.style.transformOrigin="center",e.style.transform=o(a),setTimeout(()=>{e.style.transition="all 300ms cubic-bezier(0.0, 0.0, 0.2, 1)",e.style.transform=o(r)},1)}mounted(){this.animateIn()}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}};r([Object(s.e)({required:!0}),o("design:type",Number)],n.prototype,"windowHeight",void 0),r([Object(s.e)(),o("design:type",Boolean)],n.prototype,"fullSize",void 0),r([Object(s.e)({default:0}),o("design:type",Object)],n.prototype,"minHeight",void 0),r([Object(s.e)({default:void 0}),o("design:type",Object)],n.prototype,"startingClickLocation",void 0),r([Object(s.e)({default:"w-180"}),o("design:type",String)],n.prototype,"widthClass",void 0),r([Object(s.e)({default:"shadow-z5"}),o("design:type",String)],n.prototype,"shadowClass",void 0),r([Object(s.e)({default:"auto"}),o("design:type",Object)],n.prototype,"darkMode",void 0),r([Object(s.e)({default:!0}),o("design:type",Boolean)],n.prototype,"shouldFadeIn",void 0),r([Object(s.g)("minHeight"),Object(s.g)("fullSize",{immediate:!0}),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],n.prototype,"handleResize",null),n=r([Object(s.a)({components:{OzOverlay:a.a}})],n);var c=n,l=(i(320),i(5)),d=Object(l.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("OzOverlay",{class:["flex","items-center","justify-center","font-sans"],attrs:{"should-fade-in":e.shouldFadeIn},on:{"scrim-click":e.scrimClick,"scrim-esc":e.scrimEsc}},[i("div",{ref:"modalContainer",class:["mt-0","h-auto","overflow-auto","flex","flex-col","oz-modal-container-height","bg-transparent","rounded-3xl",e.widthClass,e.shadowClass],style:{minHeight:e.minRenderHeight}},[i("div",{ref:"modalContainerInner",class:{"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"min-h-full":!0,"flex-grow":!0,"overflow-hidden":!0,"flex-col":!0,flex:!0}},[e.$slots.header?i("header",[e._t("header")],2):e._e(),e._v(" "),i("div",{ref:"modalBody",staticClass:"h-auto flex flex-grow flex-col p-0 overflow-auto scrollbar-regular dark:scrollbar-regular-dark"},[e._t("body")],2)])])])}),[],!1,null,"9af7b138",null);t.a=d.exports},278:function(e,t,i){"use strict";var s=i(148);i.n(s).a},279:function(e,t,i){(e.exports=i(77)(!1)).push([e.i,".modal-container[data-v-77e9b671] {\n  max-height: none;\n  animation-name: modal-slide-up-data-v-77e9b671;\n  animation-duration: 0.2s;\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.modal-container.full-size[data-v-77e9b671] {\n    animation-duration: 0.4s;\n}\n.out .modal-container[data-v-77e9b671] {\n    animation-name: modal-slide-down-data-v-77e9b671;\n    animation-duration: 0.15s;\n    animation-timing-function: cubic-bezier(0.4, 0, 1, 1);\n    animation-fill-mode: forwards;\n}\n@keyframes modal-slide-up-data-v-77e9b671 {\n0% {\n    transform: translateY(100%);\n}\n100% {\n    transform: translateY(0);\n}\n}\n@keyframes modal-slide-down-data-v-77e9b671 {\n0% {\n    transform: translateY(0);\n}\n100% {\n    transform: translateY(100%);\n}\n}\n",""])},280:function(e,t,i){"use strict";var s=i(149);i.n(s).a},320:function(e,t,i){"use strict";var s=i(215);i.n(s).a},321:function(e,t,i){(e.exports=i(77)(!1)).push([e.i,".oz-modal-container-height[data-v-9af7b138] {\n  max-height: calc(100% - 112px);\n  transition: min-height 300ms cubic-bezier(0.4, 0, 0.2, 1), transform 300ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n.shadow-z5[data-v-9af7b138] {\n  box-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22);\n}\n",""])},335:function(e,t,i){},424:function(e,t,i){"use strict";var s,a,r,o,n=i(2),c=i(19),l=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},d=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e.default="default",e.small="small"}(s||(s={})),function(e){e.default="default",e.caps="caps"}(a||(a={})),function(e){e.none="none",e.fit="fit",e.scroll="scroll"}(r||(r={})),function(e){e.none="none",e.fit="fit"}(o||(o={}));let u=class extends n.f{get containerClasses(){const e=["tabs-container"];return this.widthFitting===r.scroll&&e.push("scroll-width"),this.widthFitting===r.fit&&e.push("fit-width"),this.heightFitting===o.fit&&e.push("fit-height"),this.size===s.small&&e.push("tabs-small"),this.font===a.caps&&e.push("tabs-caps"),e}onTabClick(e){this.clickHandler?this.clickHandler(e.key):Object(c.s)(e.href)}};l([Object(n.e)({default:()=>[]}),d("design:type",Array)],u.prototype,"tabs",void 0),l([Object(n.e)({default:null}),d("design:type",Object)],u.prototype,"activeKey",void 0),l([Object(n.e)({default:r.fit}),d("design:type",Object)],u.prototype,"widthFitting",void 0),l([Object(n.e)({default:o.fit}),d("design:type",Object)],u.prototype,"heightFitting",void 0),l([Object(n.e)({default:s.default}),d("design:type",Object)],u.prototype,"size",void 0),l([Object(n.e)({default:a.caps}),d("design:type",Object)],u.prototype,"font",void 0),l([Object(n.e)({default:null}),d("design:type",Object)],u.prototype,"clickHandler",void 0),u=l([n.a],u);var h=u,p=(i(465),i(5)),v=Object(p.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{class:e.containerClasses,attrs:{role:"tablist"}},e._l(e.tabs,(function(t){return i("li",{key:t.key,class:{tab:!0,"is-active":t.key===e.activeKey},attrs:{title:t.text,role:"tab","aria-selected":t.key===e.activeKey},on:{click:function(i){return e.onTabClick(t)}}},[i("div",{staticClass:"text"},[e._v(e._s(t.text))])])})),0)}),[],!1,null,"3c26e775",null);t.a=v.exports},461:function(e,t,i){"use strict";var s=i(297),a=i(218),r=i(298),o=i(19),n={props:{bridgeTarget:{type:String,default:"external"}},methods:{open(e){let t=this.$el.getAttribute("href");return!Object(s.a)("postMessage")||(e.preventDefault(),/^https?:\/\//.test(t)||t.startsWith("//")||(t=Object(o.a)(t)),Object(a.a)(Object(r.f)(t,this.bridgeTarget)),!1)}}},c=i(5),l=Object(c.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("a",{on:{click:this.open}},[this._t("default")],2)}),[],!1,null,null,null);t.a=l.exports},465:function(e,t,i){"use strict";var s=i(335);i.n(s).a},510:function(e,t,i){},511:function(e,t,i){},512:function(e,t,i){},514:function(e,t,i){},515:function(e,t,i){},516:function(e,t,i){},517:function(e,t,i){},519:function(e,t,i){"use strict";var s=i(31),a=i(101),r={components:{BaseIcon:a.a},props:{folders:{default:()=>[]}},methods:{selectFolder(e){e.disabled||this.$emit("select",e)}}},o=(i(769),i(5)),n=Object(o.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.folders,(function(t){return i("a",{key:t.id,staticClass:"list-item is-actionable",attrs:{href:"#","data-app-target":"none"},on:{click:function(i){return i.preventDefault(),e.selectFolder(t)}}},[i("base-icon",{attrs:{name:"folder"}}),e._v(" "),i("div",{staticClass:"list-item-text"},[i("div",{staticClass:"big-body-type"},[e._v(e._s(t.name))]),e._v(" "),t.message?i("div",{staticClass:"small-caption-type"},[e._v(e._s(t.message))]):e._e()])],1)})),0)}),[],!1,null,"39a673b4",null).exports,c=i(277),l=i(372),d=(i(4),i(126)),u=i(265),h=i(19);function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){f(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var g={components:{BaseIcon:a.a,FolderSelector:n},mixins:[c.a],props:{wall:{default:{}},type:{default:"card"}},data:()=>({state:null,showDropdown:!1,showFolderSelector:!1,foldersFetched:!1}),watch:{showDropdown(e){e&&!this.foldersFetched&&(this.$store.dispatch("fetchWallFolders",this.wall),this.foldersFetched=!0)}},computed:v(v(v({},Object(s.e)(["user","folders"])),Object(s.c)(["activeFolder","isWallInFolder"])),{},{usableFolders(){let e=this.folders;return this.activeFolder&&(e=this.folders.filter(e=>e.id!==this.activeFolder.id)),e.map(e=>{const t=this.isWallInFolder(this.wall.id,e.id),i=t?this.__("Already in folder"):"";return Object(l.b)(e,{disabled:t,message:i})})},canDelete(){return this.wall.builder.id===this.user.id},canArchive(){return this.wall.builder.id===this.user.id&&!this.wall.archived_at},canUnarchive(){return this.wall.builder.id===this.user.id&&this.wall.archived_at},showDivider(){return this.activeFolder&&this.canDelete}}),methods:v(v({},Object(s.b)("confirmationDialog",["openConfirmationDialog"])),{},{show(){this.showDropdown=!0},close(){this.state=null,this.showFolderSelector=!1,this.showDropdown=!1},cancel(){this.close()},moveToFolder(){this.state="moving",this.showFolderSelector=!0},addToFolder(){this.state="adding",this.showFolderSelector=!0},removeFromFolder(){this.state="removing",this.$store.dispatch("removeFromFolder",{wallId:this.wall.id,folderId:this.activeFolder.id}).then(()=>{this.state=null})},folderSelected(e){switch(this.state){case"moving":this.$store.dispatch("moveToFolder",{toFolderId:e.id,fromFolderId:this.activeFolder.id,wallId:this.wall.id}).then(()=>{this.showFolderSelector=!1,this.showDropdown=!1});break;case"adding":this.$store.dispatch("addToFolder",{wallId:this.wall.id,folderId:e.id}).then(()=>{this.showFolderSelector=!1,this.showDropdown=!1})}this.state=null},archiveWall(){this.showDropdown=!1,this.$store.dispatch("archiveWall",{wallId:this.wall.id})},unarchiveWall(){this.showDropdown=!1,this.$store.dispatch("unarchiveWall",{wallId:this.wall.id})},confirmDeleteWall(){this.openConfirmationDialog(v(v({},Object(d.e)(this.wall.title)),{},{afterConfirmActions:[{type:"deleteWall",payload:{wallId:this.wall.id}}]})),this.showDropdown=!1},copyLink(){const e=`${Object(h.c)()}/${this.wall.address}`;Object(u.c)(e),this.showDropdown=!1}})},b=(i(770),Object(o.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown-button",attrs:{"data-type":e.type}},[i("button",{staticClass:"icon-button expand-button",attrs:{role:"menuitem","aria-haspopup":"true",title:e.__("Padlet actions")},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.show(t)}}},[i("base-icon",{attrs:{name:"more_vert"}})],1),e._v(" "),e.showDropdown?i("div",{staticClass:"dropdown-menu"},[i("div",{staticClass:"dropdown dropdown-with-curtain",on:{click:function(t){return t.target!==t.currentTarget?null:(t.preventDefault(),t.stopPropagation(),e.cancel(t))}}},[i("menu",{staticClass:"dropdown-content"},[i("div",{staticClass:"tv tv-list"},[e.activeFolder&&e.usableFolders.length>0?i("a",{staticClass:"tv-cell tv-cell-default is-actionable",attrs:{"data-app-target":"none"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.moveToFolder(t)}}},[i("base-icon",{attrs:{name:"send"}}),i("span",[e._v(e._s(e.__("Move to folder")))])],1):e._e(),e._v(" "),e.usableFolders.length>0?i("a",{staticClass:"tv-cell tv-cell-default is-actionable",attrs:{"data-app-target":"none"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.addToFolder(t)}}},[i("base-icon",{attrs:{name:"copy"}}),i("span",[e._v(e._s(e.__("Add to folder")))])],1):e._e(),e._v(" "),e.activeFolder?i("a",{staticClass:"tv-cell tv-cell-default is-actionable",attrs:{"data-app-target":"none"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.removeFromFolder(t)}}},[i("base-icon",{attrs:{name:"close"}}),i("span",[e._v(e._s(e.__("Remove from folder")))])],1):e._e(),e._v(" "),i("a",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:function(t){return t.preventDefault(),e.copyLink(t)}}},[i("base-icon",{attrs:{name:"link"}}),i("span",[e._v(e._s(e.__("Copy link")))])],1),e._v(" "),e.canArchive?i("a",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:function(t){return t.preventDefault(),e.archiveWall(t)}}},[i("base-icon",{attrs:{name:"archive"}}),i("span",[e._v(e._s(e.__("Archive")))])],1):e._e(),e._v(" "),e.canUnarchive?i("a",{staticClass:"tv-cell tv-cell-default is-actionable",on:{click:function(t){return t.preventDefault(),e.unarchiveWall(t)}}},[i("base-icon",{attrs:{name:"archive"}}),i("span",[e._v(e._s(e.__("Unarchive")))])],1):e._e(),e._v(" "),e.showDivider?i("div",{staticClass:"tv-divider"}):e._e(),e._v(" "),e.canDelete?i("a",{staticClass:"tv-cell tv-cell-default is-actionable",attrs:{"data-app-target":"none"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.confirmDeleteWall(t)}}},[i("base-icon",{attrs:{name:"delete"}}),i("span",[e._v(e._s(e.__("Delete padlet")))])],1):e._e()])])])]):e._e(),e._v(" "),e.showFolderSelector?i("div",{staticClass:"modal standard-scheme",on:{click:function(t){return t.target!==t.currentTarget?null:(t.preventDefault(),t.stopPropagation(),e.close(t))}}},[i("div",{staticClass:"modal-container"},[i("header",[e._v(e._s(e.__("Choose a folder")))]),e._v(" "),i("folder-selector",{staticClass:"list modal-list",attrs:{folders:e.usableFolders},on:{select:e.folderSelected,cancel:function(t){return t.stopPropagation(),e.cancel(t)}}})],1)]):e._e()])}),[],!1,null,"2bd775ce",null));t.a=b.exports},688:function(e,t,i){"use strict";var s=i(101),a=i(2),r=function(e,t,i,s){var a,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let n=class extends(Object(a.c)()){get iconClass(){return{"check-box-base-icon":!0,"caption-type":!this.value,"highlighted-type":this.value}}get iconText(){return this.value?"check_box":"check_box_outline_blank"}change(e){return e.target.checked}};r([Object(a.e)(Boolean),o("design:type",Boolean)],n.prototype,"value",void 0),r([Object(a.e)({default:!1}),o("design:type",Boolean)],n.prototype,"disabled",void 0),r([Object(a.e)({required:!1}),o("design:type",String)],n.prototype,"id",void 0),r([Object(a.b)("input"),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],n.prototype,"change",null),n=r([Object(a.a)({components:{BaseIcon:s.a}})],n);var c=n,l=(i(767),i(5)),d=Object(l.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"check-box"},[i("input",{staticClass:"check-box-input",attrs:{id:e.id,type:"checkbox",disabled:e.disabled,title:e.disabled?e.__("Disabled"):null},domProps:{checked:e.value},on:{change:e.change,click:function(e){e.stopPropagation()}}}),e._v(" "),i("base-icon",{class:e.iconClass,attrs:{name:e.iconText}})],1)}),[],!1,null,"11207194",null);t.a=d.exports},692:function(e,t,i){"use strict";var s=i(31),a=i(300);var r={props:["src","backgroundColor","alt","width","height","draggable"],data:()=>({success:!1,fail:!1}),computed:{actualSrc(){return this.success?this.src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},loading(){return!this.success&&!this.fail},loadingStyle(){return{backgroundColor:this.backgroundColor,width:this.width+"px",height:this.height+"px"}}},watch:{src(){this.load()}},mounted(){this.load()},methods:{load(){this.success=!1,this.fail=!1;const e=new Image;e.onload=()=>{this.success=!0,this.$emit("load")},e.onerror=()=>{this.fail=!0,this.$emit("error")},e.src=this.src}}},o=(i(765),i(5)),n=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this.loading?t("div",{staticClass:"attachment-image",style:this.loadingStyle}):t("img",{staticClass:"attachment-image",attrs:{src:this.actualSrc,alt:this.alt,width:this.width,height:this.height,draggable:this.draggable}})])}),[],!1,null,"d91e5e8e",null).exports,c=(i(219),i(101)),l=i(195),d={components:{BaseIcon:c.a},props:["actionable","title","currentUrl","isDownloadable","previewImageColor","previewImageAspectRatio","previewImageLuminance","embedHtml","embedMetaHeight"],data:()=>({}),computed:{downloadUrl(){return Object(l.d)(this.currentUrl)}},methods:{backToPreview(){this.$emit("back")},zoom(){this.$emit("zoom")}}},u=Object(o.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"beethoven-inline-embed",style:{"background-color":e.previewImageColor}},[i("div",{staticClass:"beethoven-inline-embed-container",style:{"background-color":e.previewImageColor},attrs:{"data-aspect-ratio":e.previewImageAspectRatio},domProps:{innerHTML:e._s(e.embedHtml)}}),e._v(" "),i("div",{staticClass:"beethoven-inline-embed-actions",style:{"background-color":e.previewImageColor,height:e.embedMetaHeight+"px"},attrs:{"data-luminance":e.previewImageLuminance}},[i("div",{staticClass:"button-list"},[i("button",{staticClass:"icon-button",attrs:{title:e.__("Back to preview")},on:{click:e.backToPreview}},[i("base-icon",{attrs:{name:"arrow_back"}})],1)]),e._v(" "),e.actionable?e._e():i("div",{staticClass:"button-list"},[i("button",{staticClass:"icon-button",attrs:{title:e.__("Zoom")},on:{click:e.zoom}},[i("base-icon",{attrs:{name:"zoom_in"}})],1),e._v(" "),e.isDownloadable?i("a",{staticClass:"icon-button",attrs:{target:"_blank",download:e.title,href:e.downloadUrl,draggable:"false",title:e.__("Download")}},[i("base-icon",{attrs:{name:"download"}})],1):e._e(),e._v(" "),i("a",{staticClass:"icon-button",attrs:{href:e.currentUrl,target:"_blank",draggable:"false",title:e.__("Open in new window")}},[i("base-icon",{attrs:{name:"open_in_new"}})],1)])])])}),[],!1,null,null,null).exports,h=i(133),p=i(39),v=i(82);function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){b(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m=window.devicePixelRatio;var y={components:{SurfaceAttachmentPreviewImage:n,SurfaceAttachmentPreviewEmbed:u,OzLoadingSpinner:h.a},props:{url:String,width:Number,height:Number,actionable:{type:Boolean,default:!1},autocolor:{type:Boolean,default:!0},showProvider:{type:Boolean,default:!0}},data:()=>({currentUrl:null,showPreview:!0,showEmbed:!1,isLoaded:!1,isTiny:!1,isFallback:!1,link:null,previewImageSrc:null,previewImageWidth:null,previewImageHeight:null,previewImageColor:null,previewImageAspectRatio:null,previewImageLuminance:null,showMeta:null,title:null,description:null,providerName:null,contentCategory:null,contentSubcategory:null,extension:null,embedCode:null,embedHtml:null,isDownloadable:null,embedMetaHeight:null}),computed:g(g(g({},Object(s.e)(["isApp","isPhone","canPostMessage"])),Object(s.c)(["useArvo"])),{},{metaStyle(){return this.autocolor?{"background-color":this.previewImageColor}:{"background-color":"transparent"}}}),watch:{isLoaded(e){e&&this.$emit("loaded")}},mounted(){this.setState()},beforeUpdate(){this.setState()},methods:g(g({},Object(s.b)("nativeApp",["openLink"])),{},{unload(){this.currentUrl=null,this.isLoaded=!1},backToPreview(){this.showPreview=!0,this.showEmbed=!1,this.$emit("back-to-preview")},async setState(){if(this.currentUrl===this.url)return;if(this.currentUrl!==this.url&&this.backToPreview(),this.currentUrl=this.url,!this.url)return;const e={dpr:m,locale:p.a,width:this.width,height:this.height,useArvo:this.useArvo},t=await Object(a.a)(this.url,e);this.link=t,this.isLoaded=!0,this.isTiny=t.is_tiny,this.isFallback=t.is_fallback,this.previewImageSrc=t.image_url,this.previewImageWidth=t.image_width,this.previewImageHeight=t.image_height,this.previewImageColor=t.image_color,this.previewImageAspectRatio=t.image_aspect_ratio,this.previewImageLuminance=t.image_luminance,this.showMeta=t.show_meta,this.title=t.title,this.description=t.description,this.providerName=t.provider_name,this.contentCategory=t.content_category,this.contentSubcategory=t.content_subcategory,this.extension=t.extension,this.embedCode=t.embed_code,this.isDownloadable=t.is_downloadable&&this.isMobile,"file"===this.contentCategory?this.downloadFileName=this.title:this.downloadFileName=!1},play(){if(!this.actionable)return!1;if(this.playInApp(),Object(v.a)(this.$el).parents(".noclick,.is-dragging").length>0)return!1;if("video"===this.contentCategory||"audio"===this.contentCategory)return this.embedMetaHeight=Object(v.a)(this.$refs.previewMeta).height(),this.embedInline(),!1;if(this.isPhone){if("photo"===this.contentCategory)return this.zoom(),!1}else if(this.embedCode&&"padlet"!==this.contentSubcategory)return this.zoom(),!1;return!0},playInApp(){let e="external";"padlet"===this.contentSubcategory?e="padlet":"photo"===this.contentCategory||"file"===this.contentCategory?e="internal_mediaplayer":"page"!==this.contentCategory&&"document"!==this.contentCategory||(e="internal_webview"),this.openLink({contentCategory:this.contentCategory,contentSubcategory:this.contentSubcategory,url:this.url,linkType:e})},addQueryParams:(e,t)=>e.match(/\?/)?[e,t].join("&"):[e,t].join("?"),embedInline(){this.showPreview=!1,this.showEmbed=!0,this.embedHtml=this.embedCode;const e=Object(v.a)(this.embedCode);if(e.is("iframe")){e.attr({width:this.previewImageWidth,height:this.previewImageHeight}).css("background",this.previewImageColor);const t=e.attr("src");let i=this.addQueryParams(t,"autoplay=1");"youtube"===this.providerName.toLowerCase()&&(i=this.addQueryParams(i,"rel=0")),e.attr("src",i),this.embedHtml=e[0].outerHTML}this.$emit("play")},zoom(){},expandPost(){this.backToPreview()}})},_=(i(766),Object(o.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"attachment-view"},[e.isLoaded&&e.showPreview?i("div",{key:"preview-image",staticClass:"attachment-preview",attrs:{href:e.currentUrl,target:"_blank",rel:"noopener nofollow ugc"}},[i("surface-attachment-preview-image",{staticClass:"attachment-preview-image",attrs:{draggable:"false",alt:e.title,src:e.previewImageSrc,width:e.previewImageWidth,height:e.previewImageHeight,"background-color":e.previewImageColor}}),e._v(" "),e.showMeta?i("div",{staticClass:"attachment-preview-meta"},[i("div",{staticClass:"attachment-preview-title ellipsified-type",attrs:{title:e.title}},[e._v(e._s(e.title))]),e._v(" "),e.description?i("div",{staticClass:"attachment-preview-description ellipsified-type",attrs:{title:e.description}},[e._v("\n        "+e._s(e.description)+"\n      ")]):e._e(),e._v(" "),e.showProvider&&e.providerName?i("div",{staticClass:"attachment-preview-provider"},[i("div",{staticClass:"attachment-preview-provider-name ellipsified-type"},[e._v(e._s(e.providerName))])]):e._e()]):e._e()],1):e.showEmbed?i("surface-attachment-preview-embed",{attrs:{actionable:e.actionable,"current-url":e.currentUrl,"is-downloadable":e.isDownloadable,title:e.title,"preview-image-color":e.previewImageColor,"preview-image-aspect-ratio":e.previewImageAspectRatio,"preview-image-luminance":e.previewImageLuminance,"embed-html":e.embedHtml,"embed-meta-height":e.embedMetaHeight},on:{back:e.backToPreview,zoom:e.zoom}}):i("div",{key:"spinner",staticClass:"attachment-loading"},[i("OzLoadingSpinner")],1)],1)}),[],!1,null,"702067ee",null));t.a=_.exports},693:function(e,t,i){"use strict";var s=i(102),a=i(211),r=i(461),o=i(519),n=i(101),c=i(4),l={components:{RelativeTime:a.a,BridgedA:r.a,PadletCardActions:o.a,BaseIcon:n.a},props:["wall","actions"],computed:{title:function(){return this.wall.title||Object(c.b)("Untitled padlet")},backgroundStyle:function(){const e=this.wall.background,t=`rgb(${(e.dominant_color||e.dominantColor||[33,33,33]).join(",")})`;return[`url("${Object(s.processedUrl)(e.url,{crop:"thumb",width:56,height:56})}")`,t,"center/cover"].join(" ")}}},d=(i(771),i(5)),u=Object(d.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("bridged-a",{staticClass:"tv-cell tv-cell-subtitle tv-cell-button",attrs:{role:"listitem",href:"/"+e.wall.address,target:"_blank","bridge-target":"padlet","data-app-target":"blank"}},[i("div",{staticClass:"tv-cell-thumb",style:{background:e.backgroundStyle}}),e._v(" "),i("div",{staticClass:"tv-cell-text flex justify-between"},[i("div",[i("h3",[e._v(e._s(e.title))]),e._v(" "),i("div",{staticClass:"small-caption-type"},[i("span",[e._v(e._s(e.wall.builder.display_name||e.wall.builder.displayName))]),e._v(" \u2022\n        "),i("relative-time",{attrs:{datetime:e.wall.updated_at||e.wall.updatedAt,dateformat:"short"}})],1)]),e._v(" "),e.wall.is_private?i("div",{staticClass:"flex items-center"},[i("base-icon",{staticClass:"text-canary-500 m-0 mb-1",attrs:{name:"lock"}}),e._v(" "),i("div",{staticClass:"flex flex-col -ml-2"},[i("span",{staticClass:"text-dark-text-100"},[e._v(e._s(e.__("Private")))]),e._v(" "),i("span",{staticClass:"text-body-extra-small text-dark-text-200"},[e._v(e._s(e.__("Only the owner and collaborators can access it.")))])])],1):e._e()]),e._v(" "),e.actions?i("padlet-card-actions",{staticClass:"accessory",attrs:{type:"list",wall:e.wall}}):e._e()],1)}),[],!1,null,"b571c9e8",null).exports;const h=(e,t)=>(e.updated_at||e.updatedAt)>(t.updated_at||t.updatedAt)?-1:(e.updated_at||e.updatedAt)===(t.updated_at||t.updatedAt)?0:1,p=(e,t)=>e.title.localeCompare(t.title);var v={components:{PadletListitem:u},props:{walls:{type:Array,default:()=>[]},sortBy:{type:String,default:"date"},filter:{type:Function,default:null},navigate:{type:Boolean,default:!0},actions:{type:Boolean,default:!1}},computed:{sortedAndFilteredWalls(){let e=this.filter;return e||(e=e=>e),"date"==this.sortBy?this.walls.slice().filter(e).sort(h):this.walls.slice().filter(e).sort(p)}},methods:{onClick(e,t){this.navigate||(e.preventDefault(),this.$emit("select",t))}}},f=(i(772),Object(d.a)(v,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tv tv-list tv-list-ruled",attrs:{role:"list","data-turbolinks":"false"}},e._l(e.sortedAndFilteredWalls,(function(t){return i("padlet-listitem",{key:t.id,attrs:{wall:t,role:"listitem",actions:e.actions},nativeOn:{click:function(i){return e.onClick(i,t)}}})})),1)}),[],!1,null,"ff8ae36c",null));t.a=f.exports},765:function(e,t,i){"use strict";var s=i(510);i.n(s).a},766:function(e,t,i){"use strict";var s=i(511);i.n(s).a},767:function(e,t,i){"use strict";var s=i(512);i.n(s).a},769:function(e,t,i){"use strict";var s=i(514);i.n(s).a},770:function(e,t,i){"use strict";var s=i(515);i.n(s).a},771:function(e,t,i){"use strict";var s=i(516);i.n(s).a},772:function(e,t,i){"use strict";var s=i(517);i.n(s).a}}]);
//# sourceMappingURL=144-a9a2c58a0bd84ce78f07.chunk.js.map