(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[162],{127:function(e,t,o){"use strict";o.d(t,"d",(function(){return i})),o.d(t,"a",(function(){return r})),o.d(t,"c",(function(){return a})),o.d(t,"b",(function(){return n}));var i,r,a,n,s=o(22),l=o(2),c=o(44),d=o(230),u=o(138),p=o(58),h=function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},g=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e.H44px="H44px",e.H48px="H48px"}(i||(i={})),function(e){e.None="None",e.Bubble100="Bubble100",e.Bubble200="Bubble200",e.HighlightText="HighlightText"}(r||(r={})),function(e){e.Default="Default",e.Primary="Primary",e.Danger="Danger",e.Disabled="Disabled",e.Highlighted="Highlighted"}(a||(a={})),function(e){e.Default="Default",e.DisplayOnly="DisplayOnly",e.HistoryPushState="HistoryPushState"}(n||(n={}));let f=class extends s.a{constructor(){super(...arguments),this.FocusStyle=r,this.OzDividerColorScheme=u.a,this.OzTextButtonColorScheme=p.a,this.RowStyle=a,this.SizePreset=i}get iconSize(){return{[i.H44px]:16,[i.H48px]:24}[this.sizePreset]}get rowsData(){return this.rows.map(e=>Object.assign(Object.assign({rowStyle:a.Default},this.commonSettings),e))}get xLeftIconOrAvatar(){return this.rowsData.some(e=>e.icon||e.avatar)}get textHighlightStyles(){return[{"hover-hover:group-hover:text-grape-500 hover-hover:dark:group-hover:text-canary-500":"auto"===this.darkMode,"hover-hover:group-hover:text-grape-500":!1===this.darkMode,"hover-hover:group-hover:text-canary-500":!0===this.darkMode},{"group-focus-visible:text-grape-500 dark:group-focus-visible:text-canary-500":"auto"===this.darkMode,"group-focus-visible:text-grape-500":!1===this.darkMode,"group-focus-visible:text-canary-500":!0===this.darkMode},{"group-active:text-grape-500 dark:group-active:text-canary-500":"auto"===this.darkMode,"group-active:text-grape-500":!1===this.darkMode,"group-active:text-canary-500":!0===this.darkMode}]}selectRow(e,t){var o;t.isDisabled||(t.hrefMode!==n.Default&&e.preventDefault(),t.hrefMode===n.HistoryPushState&&(null===(o=null===window||void 0===window?void 0:window.history)||void 0===o||o.pushState(null,"",t.href)),this.$emit("select-row",e,t.eventPayload))}selectRightIcon(e,t){this.$emit("select-right-icon",e,t.rightIconEventPayload)}mounted(){this.isPhone?setTimeout(()=>{this.scrollActiveRowIntoView()},500):this.scrollActiveRowIntoView()}scrollActiveRowIntoView(){if(!this.activeRow)return;const e=this.$refs[this.activeRow][0];null===e||void 0===e||e.scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}};h([Object(l.e)({default:"auto"}),g("design:type",Object)],f.prototype,"darkMode",void 0),h([Object(l.e)({default:i.H48px}),g("design:type",String)],f.prototype,"sizePreset",void 0),h([Object(l.e)({required:!0}),g("design:type",String)],f.prototype,"focusStyle",void 0),h([Object(l.e)({default:!1}),g("design:type",Boolean)],f.prototype,"xLastRowDivider",void 0),h([Object(l.e)({default:()=>[]}),g("design:type",Object)],f.prototype,"commonSettings",void 0),h([Object(l.e)({required:!0}),g("design:type",Array)],f.prototype,"rows",void 0),h([Object(l.e)({default:!1}),g("design:type",Boolean)],f.prototype,"isPhone",void 0),h([Object(l.e)({default:""}),g("design:type",String)],f.prototype,"activeRow",void 0),f=h([Object(l.a)({components:{OzAvatar:d.a,OzTextButton:p.c,OzIcon:c.default,OzDivider:u.b}})],f);var m=f,b=o(5),y=Object(b.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:["font-sans"]},[e._l(e.rowsData,(function(t,i){return[o("div",{key:t.icon+"-"+t.text,ref:t.ref,refInFor:!0,class:["block","py-1","px-2"],attrs:{"data-cy":t.testId,"data-pw":t.testId}},[o(t.href?"a":"div",{tag:"component",class:["group","focus:outline-none",t.isDisabled?"cursor-not-allowed":"cursor-pointer",t.rowStyle===e.RowStyle.Default&&{"text-dark-text-100":!1===e.darkMode,"text-light-text-100":!0===e.darkMode,"text-dark-text-100 dark:text-light-text-100":"auto"===e.darkMode},t.rowStyle===e.RowStyle.Disabled&&{"text-dark-text-300":!1===e.darkMode,"text-light-text-300":!0===e.darkMode,"text-dark-text-300 dark:text-light-text-300":"auto"===e.darkMode},t.rowStyle===e.RowStyle.Highlighted&&{"text-grape-500":!1===e.darkMode,"text-canary-500":!0===e.darkMode,"text-grape-500 dark:text-canary-500":"auto"===e.darkMode},t.rowStyle===e.RowStyle.Primary&&"text-padlet-pink-500",t.rowStyle===e.RowStyle.Danger&&"text-danger-100","p-2",e.sizePreset===e.SizePreset.H44px&&"min-h-[20px]",e.sizePreset===e.SizePreset.H48px&&"min-h-[24px]",!t.isDisabled&&"transition-colors",!t.isDisabled&&e.focusStyle===e.FocusStyle.Bubble100&&["rounded-lg",{"hover-hover:hover:bg-light-ui-100 hover-hover:dark:hover:bg-dark-ui-100":"auto"===e.darkMode,"hover-hover:hover:bg-light-ui-100":!1===e.darkMode,"hover-hover:hover:bg-dark-ui-100":!0===e.darkMode},{"focus-visible:bg-light-ui-100 dark:focus-visible:bg-dark-ui-100":"auto"===e.darkMode,"focus-visible:bg-light-ui-100":!1===e.darkMode,"focus-visible:bg-dark-ui-100":!0===e.darkMode},{"active:bg-light-ui-100 dark:active:bg-dark-ui-100":"auto"===e.darkMode,"active:bg-light-ui-100":!1===e.darkMode,"active:bg-dark-ui-100":!0===e.darkMode}],!t.isDisabled&&e.focusStyle===e.FocusStyle.Bubble200&&["rounded-lg",{"hover-hover:hover:bg-light-ui-200 hover-hover:dark:hover:bg-dark-ui-200":"auto"===e.darkMode,"hover-hover:hover:bg-light-ui-200":!1===e.darkMode,"hover-hover:hover:bg-dark-ui-200":!0===e.darkMode},{"focus-visible:bg-light-ui-200 dark:focus-visible:bg-dark-ui-200":"auto"===e.darkMode,"focus-visible:bg-light-ui-200":!1===e.darkMode,"focus-visible:bg-dark-ui-200":!0===e.darkMode},{"active:bg-light-ui-200 dark:active:bg-dark-ui-200":"auto"===e.darkMode,"active:bg-light-ui-200":!1===e.darkMode,"active:bg-dark-ui-200":!0===e.darkMode}],!t.isDisabled&&e.focusStyle===e.FocusStyle.HighlightText&&t.rowStyle===e.RowStyle.Default&&e.textHighlightStyles,"flex","items-center"],attrs:{tabindex:t.isDisabled?-1:0,disabled:t.isDisabled,"aria-disabled":t.isDisabled,href:t.href||null,rel:t.href&&"noopener nofollow"},on:{click:function(o){return o.stopPropagation(),o.preventDefault(),e.selectRow(o,t)},keydown:[function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:(o.stopPropagation(),o.preventDefault(),e.selectRow(o,t))},function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"space",32,o.key,[" ","Spacebar"])?null:(o.stopPropagation(),o.preventDefault(),e.selectRow(o,t))}]}},[e.xLeftIconOrAvatar&&t.icon?o("OzIcon",{class:[{"me-3":e.sizePreset===e.SizePreset.H44px,"me-4":e.sizePreset===e.SizePreset.H48px},!t.isDisabled&&[e.FocusStyle.Bubble100,e.FocusStyle.Bubble200].includes(e.focusStyle)&&t.rowStyle===e.RowStyle.Default&&e.textHighlightStyles],attrs:{name:t.icon,size:e.iconSize}}):e.xLeftIconOrAvatar&&t.avatar?o("OzAvatar",{class:[{"me-3":e.sizePreset===e.SizePreset.H44px,"me-4":e.sizePreset===e.SizePreset.H48px},t.avatarStyles||"rounded-full"],attrs:{width:e.iconSize,height:e.iconSize,src:t.avatar,"alt-text-name":t.text}}):e._e(),e._v(" "),o("div",{class:[t.textTruncated&&"truncate","flex-1",t.textStyleClass||{"text-body-small":e.sizePreset===e.SizePreset.H44px,"text-body":e.sizePreset===e.SizePreset.H48px}],attrs:{title:t.text}},[t.htmlText?o("span",{domProps:{innerHTML:e._s(t.htmlText)}}):o("span",[e._v(e._s(t.text))])]),e._v(" "),t.rightIcon&&t.rightIconEventPayload?o("OzTextButton",{class:["h-full",e.sizePreset===e.SizePreset.H44px&&"ps-3",e.sizePreset===e.SizePreset.H48px&&"ps-4","pe-0","py-0","focus:outline-none","flex","flex-col","justify-center"],attrs:{"data-cy":t.rightIconTestId,"color-scheme":e.OzTextButtonColorScheme.Secondary,"dark-mode":e.darkMode,"aria-label":t.rightIconAriaLabel},on:{click:function(o){return o.preventDefault(),o.stopPropagation(),e.selectRightIcon(o,t)}},nativeOn:{keydown:[function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:(o.preventDefault(),o.stopPropagation(),e.selectRightIcon(o,t))},function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"space",32,o.key,[" ","Spacebar"])?null:(o.preventDefault(),o.stopPropagation(),e.selectRightIcon(o,t))}]}},[o("OzIcon",{attrs:{name:t.rightIcon,size:t.rightIconSize||e.iconSize}})],1):e._e(),e._v(" "),t.rightIcon&&!t.rightIconEventPayload?o("OzIcon",{class:[t.rightIconHighlighted&&{"text-grape-500":!1===e.darkMode,"text-canary-500":!0===e.darkMode,"text-grape-500 dark:text-canary-500":"auto"===e.darkMode},!t.isDisabled&&t.rowStyle===e.RowStyle.Default&&{"text-dark-text-200":!1===e.darkMode,"text-light-text-200":!0===e.darkMode,"text-dark-text-200 dark:text-light-text-200":"auto"===e.darkMode},!t.isDisabled&&e.focusStyle===e.FocusStyle.HighlightText&&t.rowStyle===e.RowStyle.Default&&e.textHighlightStyles],attrs:{name:t.rightIcon,size:t.rightIconSize||e.iconSize,"aria-label":t.rightIconAriaLabel}}):e._e()],1)],1),e._v(" "),e.xLastRowDivider||i<e.rows.length-1?o("OzDivider",{key:t.icon+"-"+t.text+"-divider",class:[!e.xLeftIconOrAvatar&&"mx-4",e.xLeftIconOrAvatar&&e.sizePreset===e.SizePreset.H44px&&"ms-10.5 me-4",e.xLeftIconOrAvatar&&e.sizePreset===e.SizePreset.H48px&&"ms-14 me-4"],attrs:{"color-scheme":e.OzDividerColorScheme.Solid,"dark-mode":e.darkMode}}):e._e()]}))],2)}),[],!1,null,null,null);t.e=y.exports},1376:function(e,t,o){"use strict";o.r(t);var i,r,a,n=o(2),s=o(8),l=o(3),c=o(19),d=o(68),u=o.n(d),p=o(230),h=o(33),g=o(99),f=o(44),m=o(192),b=o(128),y=o(324),v=o(37),k=o(127),S=o(685),x=o(460),w=function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},O=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e.SignUp="SignUp",e.LogIn="LogIn",e.ShowDetails="ShowDetails",e.ShareAndExport="ShareAndExport",e.Bookmark="Bookmark",e.Remake="Remake",e.ShowSettings="ShowSettings",e.ChangeFormat="ChangeFormat",e.ClearPosts="ClearPosts",e.Archive="Archive",e.Delete="Delete",e.ToggleFullScreen="ToggleFullScreen",e.ShowHelp="ShowHelp"}(a||(a={}));const M=Object(s.d)("browser"),_=Object(s.d)("share"),D=Object(s.d)("settings"),P=Object(s.d)("wallCollections");let z=class extends n.f{constructor(){super(...arguments),this.OzBoxColors=v.a,this.OzMenuRowsFocusStyle=k.a,this.OzMenuRowsSizePreset=k.d}get isUserRegistered(){return this.user.registered||!!this.user.registered_at}get menuItemGroups(){const e=this.isUserRegistered?[]:[{icon:"quill",text:this.__("Sign up"),href:Object(c.x)(Object(c.f)()),testId:"surfaceMoreMenuSignUp",eventPayload:a.SignUp},{icon:"fingerprint",text:this.__("Log in"),href:Object(c.q)(Object(c.f)()),testId:"surfaceMoreMenuLogIn",eventPayload:a.LogIn}],t=[{icon:"info_outline",text:this.__("Details"),testId:"surfaceMoreMenuShowDetails",eventPayload:a.ShowDetails},{icon:"share_arrow_outline",text:this.__("Share and export"),testId:"surfaceMoreMenuShareAndExport",eventPayload:a.ShareAndExport},{icon:this.isActiveWallBookmarked?"star_edit":"star_outline",text:this.isActiveWallBookmarked?this.__("Edit bookmark"):this.__("Add bookmark"),isDisabled:!this.canIBookmarkWall,rowStyle:this.canIBookmarkWall?k.c.Default:k.c.Disabled,testId:"surfaceMoreMenuBookmark",eventPayload:a.Bookmark},{icon:"arrow_2_rectangular_clockwise_thin",text:this.__("Remake"),isDisabled:!this.canIRemake,rowStyle:this.canIRemake?k.c.Default:k.c.Disabled,testId:"surfaceMoreMenuRemake",eventPayload:a.Remake}],o=[{icon:"gear_outline",text:this.__("Settings"),isDisabled:!this.canIAdminister,rowStyle:this.canIAdminister?k.c.Default:k.c.Disabled,testId:"surfaceMoreMenuShowSettings",eventPayload:a.ShowSettings},{icon:"gallery_outline",text:this.__("Change format"),isDisabled:!this.canIAdminister,rowStyle:this.canIAdminister?k.c.Default:k.c.Disabled,testId:"surfaceMoreMenuChangeFormat",eventPayload:a.ChangeFormat},{icon:"erase",text:this.__("Clear posts"),isDisabled:!this.canIAdminister,rowStyle:this.canIAdminister?k.c.Default:k.c.Disabled,testId:"surfaceMoreMenuClearPosts",eventPayload:a.ClearPosts},{icon:"archive_outline",text:this.__("Archive"),isDisabled:!this.canIAdminister,rowStyle:this.canIAdminister?k.c.Default:k.c.Disabled,testId:"surfaceMoreMenuArchiveWall",eventPayload:a.Archive},{icon:"delete",text:this.__("Delete"),isDisabled:!this.canIAdminister,rowStyle:this.canIAdminister?k.c.Danger:k.c.Disabled,testId:"surfaceMoreMenuDeleteWall",eventPayload:a.Delete}],i=[];return b.d&&i.push({icon:"fullscreen",text:this.isFullscreen?this.__("Exit full screen"):this.__("Go full screen"),testId:"surfaceMoreMenuToggleFullScreen",eventPayload:a.ToggleFullScreen}),i.push({icon:"help",text:this.__("Help"),href:"https://padlet.help/",testId:"surfaceMoreMenuShowHelp",eventPayload:a.ShowHelp}),[e,t,o,i].filter(e=>e.length>0)}goToSignUpPage(){Object(c.s)(Object(c.x)(Object(c.f)()))}goToLogInPage(){Object(c.s)(Object(c.q)(Object(c.f)()))}showPadletInfo(){Object(y.e)("click",{target:"surface-more-menu-show-padlet-info"}),this.showInfo()}openSharePanel(){Object(y.e)("click",{target:"surface-more-menu-show-share-panel"}),this.toggleSharePanel(x.a.Main)}addOrEditBookmark(){this.isActiveWallBookmarked?(Object(y.e)("click",{target:"surface-more-menu-edit-bookmark"}),this.openEditBookmarksDialog()):(Object(y.e)("click",{target:"surface-more-menu-add-bookmark"}),this.bookmarkWallAndNotify())}openRemakePanel(){Object(y.e)("click",{target:"surface-more-menu-show-remake-panel"}),this.showRemakePanel()}openSettingsPanel(){Object(y.e)("click",{target:"surface-more-menu-show-settings-panel"}),this.toggleSettingsPanel()}openChangeFormatPanel(){Object(y.e)("click",{target:"surface-more-menu-show-change-format-panel"}),this.showConvertLayoutPanel()}showClearAllPostsDialog(){Object(y.e)("click",{target:"surface-more-menu-show-clear-all-posts-dialog"}),this.showClearAllDialog()}archiveCurrentWall(){Object(y.e)("click",{target:"surface-more-menu-archive-wall"}),this.archiveWall()}showDeleteWallDialog(){Object(y.e)("click",{target:"surface-more-menu-show-delete-wall-dialog"}),this.showDeleteDialog()}toggleFullScreen(){b.d&&(this.isFullscreen?(Object(y.e)("click",{target:"surface-more-menu-exit-fullscreen"}),this.exitFullscreen()):(Object(y.e)("click",{target:"surface-more-menu-enter-fullscreen"}),this.enterFullscreen()))}goToHelpPage(){Object(y.e)("click",{target:"surface-more-menu-go-to-help-page"}),Object(c.s)("https://padlet.help/",{target:"_blank"})}get handlers(){return{[a.SignUp]:this.goToSignUpPage,[a.LogIn]:this.goToLogInPage,[a.ShowDetails]:this.showPadletInfo,[a.ShareAndExport]:this.openSharePanel,[a.Bookmark]:this.addOrEditBookmark,[a.Remake]:this.openRemakePanel,[a.ShowSettings]:this.openSettingsPanel,[a.ChangeFormat]:this.openChangeFormatPanel,[a.ClearPosts]:this.showClearAllPostsDialog,[a.Archive]:this.archiveCurrentWall,[a.Delete]:this.showDeleteWallDialog,[a.ToggleFullScreen]:this.toggleFullScreen,[a.ShowHelp]:this.goToHelpPage}}handleSelectedMenuItem(e,t){this.$emit("close"),this.handlers[t]()}onSwipedown({isAtTopBeforeDragging:e}){e||this.$emit("close")}};w([Object(n.e)({required:!0}),O("design:type","function"===typeof(i="undefined"!==typeof PopoverAnchor&&PopoverAnchor)?i:Object)],z.prototype,"popoverAnchor",void 0),w([s.c,O("design:type","function"===typeof(r="undefined"!==typeof User&&User)?r:Object)],z.prototype,"user",void 0),w([s.c,O("design:type",Boolean)],z.prototype,"isFirefox",void 0),w([s.b,O("design:type",String)],z.prototype,"dir",void 0),w([s.b,O("design:type",Boolean)],z.prototype,"canIAdminister",void 0),w([s.b,O("design:type",Boolean)],z.prototype,"canIBookmarkWall",void 0),w([s.b,O("design:type",Boolean)],z.prototype,"canIRemake",void 0),w([M.State,O("design:type",Object)],z.prototype,"darkMode",void 0),w([M.Getter,O("design:type",Number)],z.prototype,"windowHeight",void 0),w([M.Getter,O("design:type",Boolean)],z.prototype,"isPhone",void 0),w([M.Getter,O("design:type",Boolean)],z.prototype,"isSmallerThanTabletPortrait",void 0),w([s.a,O("design:type",Function)],z.prototype,"showInfo",void 0),w([s.a,O("design:type",Function)],z.prototype,"bookmarkWallAndNotify",void 0),w([s.a,O("design:type",Function)],z.prototype,"openEditBookmarksDialog",void 0),w([s.a,O("design:type",Function)],z.prototype,"showRemakePanel",void 0),w([s.a,O("design:type",Function)],z.prototype,"showConvertLayoutPanel",void 0),w([s.a,O("design:type",Function)],z.prototype,"showClearAllDialog",void 0),w([s.a,O("design:type",Function)],z.prototype,"archiveWall",void 0),w([s.a,O("design:type",Function)],z.prototype,"showDeleteDialog",void 0),w([M.Getter,O("design:type",Boolean)],z.prototype,"isFullscreen",void 0),w([M.Action,O("design:type",Function)],z.prototype,"enterFullscreen",void 0),w([M.Action,O("design:type",Function)],z.prototype,"exitFullscreen",void 0),w([_.Action,O("design:type",Function)],z.prototype,"toggleSharePanel",void 0),w([D.Action,O("design:type",Function)],z.prototype,"toggleSettingsPanel",void 0),w([P.Getter,O("design:type",Boolean)],z.prototype,"isActiveWallBookmarked",void 0),z=w([Object(n.a)({components:{OzMenuRows:k.e,OzScreenSizeAwarePopoverModal:S.a}})],z);var T,A,I,R=z,j=o(5),B=Object(j.a)(R,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("OzScreenSizeAwarePopoverModal",{staticClass:"select-none",attrs:{"is-draggable-drawer":!0,dir:e.dir,"is-phone":e.isPhone,"window-height":e.windowHeight,"popover-width":256,"popover-anchor":e.popoverAnchor,"box-classes":"shadow-elevation-3","dark-mode":e.darkMode,"x-popover-tip":!1,color:e.OzBoxColors.PrimaryBlur,"is-firefox":e.isFirefox},on:{"trigger-anchor-update":function(t){return e.$emit("trigger-anchor-update")},swipedown:e.onSwipedown,"scrim-click":function(t){return e.$emit("close")},"scrim-esc":function(t){return e.$emit("close")}}},[o("template",{slot:"body"},[o("div",{class:["p-4 tablet-portrait:p-0","grid grid-flow-row grid-cols-1","gap-3 tablet-portrait:gap-2","overflow-hidden","tablet-portrait:rounded-2xl","tablet-portrait:bg-grey-50 tablet-portrait:dark:bg-popover-overlay-dark"]},e._l(e.menuItemGroups,(function(t,i){return o("div",{key:i,class:["rounded-2.5xl tablet-portrait:rounded-none","bg-grey-50 dark:bg-grey-800 tablet-portrait:bg-common-ui-l86 tablet-portrait:dark:bg-common-ui-d86"]},[o("OzMenuRows",{class:{"tablet-portrait:pt-1":0===i,"tablet-portrait:pb-1":i===e.menuItemGroups.length-1},attrs:{"size-preset":e.isSmallerThanTabletPortrait?e.OzMenuRowsSizePreset.H48px:e.OzMenuRowsSizePreset.H44px,"focus-style":e.isSmallerThanTabletPortrait?e.OzMenuRowsFocusStyle.HighlightText:e.OzMenuRowsFocusStyle.Bubble200,rows:t,"dark-mode":e.darkMode},on:{"select-row":e.handleSelectedMenuItem}})],1)})),0)])],2)}),[],!1,null,null,null).exports,E=o(723),C=function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},F=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};const H=Object(s.d)("browser"),L=Object(s.d)("confirmationDialog"),$=Object(s.d)("map"),N=Object(s.d)("post"),Y=Object(s.d)("share"),W=Object(s.d)("settings"),G=Object(s.d)("wallCollections");let U=class extends n.f{constructor(){super(...arguments),this.OzIconButtonColorScheme=g.a,this.OzIconButtonSizePreset=g.c,this.isLoginAndRedirectToWallUrlExpired=!1,this.xMoreMenu=!1,this.moreMenuAnchor={},this.debouncedUpdateMoreMenuAnchor=u()(()=>{l.a.visualViewport&&l.a.visualViewport.scale>1||this.updateMoreMenuAnchor()},500)}get isUserRegistered(){return this.user.registered||!!this.user.registered_at}get requestLoginDialogPayload(){return{body:this.__("Please log in to your Padlet account or sign up for one."),confirmButtonText:this.__("Log in"),cancelButtonText:this.__("Nevermind"),afterConfirmActions:[{type:"loginAndRedirectTo",payload:this.wall.links.permanent}]}}get isRemakeDisabled(){return!!this.isRemakeToggleable&&(this.isUserRegistered?!this.canIRemake:!this.isRemakeable)}showRequestLoginToBookmarkDialog(){this.openConfirmationDialog(Object.assign(Object.assign({},this.requestLoginDialogPayload),{title:this.__("You must be logged in to bookmark this padlet")}))}showRequestLoginToRemakeDialog(){this.openConfirmationDialog(Object.assign(Object.assign({},this.requestLoginDialogPayload),{title:this.__("You must be logged in to remake this padlet")}))}reloadIfLoginLinkExpired(e){this.loginAndRedirectToWallUrl&&this.isLoginAndRedirectToWallUrlExpired&&(e.preventDefault(),Object(c.u)())}openMoreMenu(){this.moreMenuAnchor.top&&this.moreMenuAnchor.left||this.updateMoreMenuAnchor(),this.xMoreMenu=!0}closeMoreMenu(){this.xMoreMenu=!1}updateMoreMenuAnchor(){var e;const t=null===(e=this.$refs.moreButton)||void 0===e?void 0:e.$el;if(!t)return;const o=Object(m.c)(t,{top:0,left:this.xMobileSurfaceLayoutV3?"rtl"===this.dir?-15:12:"rtl"===this.dir?-12:-39});this.moreMenuAnchor=Object.assign(Object.assign({},o),{position:"side"})}mounted(){if(this.loginAndRedirectToWallUrl){setTimeout(()=>this.isLoginAndRedirectToWallUrlExpired=!0,9e5)}l.a.addEventListener("resize",this.debouncedUpdateMoreMenuAnchor)}beforeDestroy(){l.a.removeEventListener("resize",this.debouncedUpdateMoreMenuAnchor)}};C([s.c,F("design:type","function"===typeof(T="undefined"!==typeof User&&User)?T:Object)],U.prototype,"user",void 0),C([s.c,F("design:type","function"===typeof(A="undefined"!==typeof Wall&&Wall)?A:Object)],U.prototype,"wall",void 0),C([s.c,F("design:type",Boolean)],U.prototype,"isEmbedded",void 0),C([s.c,F("design:type",Boolean)],U.prototype,"isElectronApp",void 0),C([s.b,F("design:type",Boolean)],U.prototype,"isMap",void 0),C([s.b,F("design:type",Boolean)],U.prototype,"canIAdminister",void 0),C([s.b,F("design:type",Boolean)],U.prototype,"isPostable",void 0),C([s.b,F("design:type","function"===typeof(I="undefined"!==typeof Record&&Record)?I:Object)],U.prototype,"links",void 0),C([s.b,F("design:type",String)],U.prototype,"loginAndRedirectToWallUrl",void 0),C([s.b,F("design:type",String)],U.prototype,"dir",void 0),C([s.b,F("design:type",Boolean)],U.prototype,"xMobileSurfaceLayoutV3",void 0),C([s.b,F("design:type",Boolean)],U.prototype,"canIRemake",void 0),C([s.b,F("design:type",Boolean)],U.prototype,"isRemakeToggleable",void 0),C([s.b,F("design:type",Boolean)],U.prototype,"isRemakeable",void 0),C([H.State,F("design:type",Object)],U.prototype,"darkMode",void 0),C([s.a,F("design:type",Function)],U.prototype,"bookmarkWallAndNotify",void 0),C([s.a,F("design:type",Function)],U.prototype,"openEditBookmarksDialog",void 0),C([s.a,F("design:type",Function)],U.prototype,"showRemakePanel",void 0),C([L.Action,F("design:type",Function)],U.prototype,"openConfirmationDialog",void 0),C([$.Action,F("design:type",Function)],U.prototype,"startPickingLocation",void 0),C([N.Action,F("design:type",Function)],U.prototype,"startNewPost",void 0),C([Y.Action,F("design:type",Function)],U.prototype,"toggleSharePanel",void 0),C([W.Action,F("design:type",Function)],U.prototype,"toggleSettingsPanel",void 0),C([G.Getter,F("design:type",Boolean)],U.prototype,"isActiveWallBookmarked",void 0),U=C([Object(n.a)({components:{OzAvatar:p.a,OzBaseButton:h.default,OzIconButton:g.d,OzIcon:f.default,SurfaceActionBarMoreMenu:B,SurfaceActionBarUserAccount:E.a}})],U);var V=U,q=Object(j.a)(V,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{class:["flex items-center",e.xMobileSurfaceLayoutV3?["justify-between tablet-portrait:justify-around","space-s-6 tablet-portrait:space-s-0","pt-1 pb-2"]:["flex-col space-y-4 justify-start","h-full py-4"],"bg-light-ui-100 dark:bg-dark-ui-100"],attrs:{"data-cy":"surfaceActionBar"}},[e.isEmbedded||e.isElectronApp||e.xMobileSurfaceLayoutV3?e._e():o("SurfaceActionBarUserAccount",{attrs:{user:e.user,"dark-mode":e.darkMode}}),e._v(" "),o("OzIconButton",{staticClass:"flex-grow tablet-portrait:flex-grow-0",attrs:{label:e.__("Share"),"icon-name":"share_arrow_outline","icon-size":e.xMobileSurfaceLayoutV3?24:16,"size-preset":e.OzIconButtonSizePreset.H40px,"color-scheme":e.xMobileSurfaceLayoutV3?e.OzIconButtonColorScheme.SecondaryClear:e.OzIconButtonColorScheme.Secondary,"dark-mode":e.darkMode,"data-cy":"surfaceShareButton","data-pw":"surfaceShareButton","data-pepin-id":"surface-action-bar-show-share-panel","data-pepin-trigger":"click"},on:{click:e.toggleSharePanel}}),e._v(" "),e.isEmbedded?e._e():o("OzIconButton",{staticClass:"flex-grow tablet-portrait:flex-grow-0",attrs:{label:e.isActiveWallBookmarked?e.__("Edit bookmark"):e.__("Add bookmark"),"icon-name":"star_outline","active-icon-name":"star_filled","icon-size":e.xMobileSurfaceLayoutV3?24:16,"size-preset":e.OzIconButtonSizePreset.H40px,"color-scheme":e.isActiveWallBookmarked?e.xMobileSurfaceLayoutV3?e.OzIconButtonColorScheme.SecondaryClearActive:e.OzIconButtonColorScheme.SecondaryActive:e.xMobileSurfaceLayoutV3?e.OzIconButtonColorScheme.SecondaryClear:e.OzIconButtonColorScheme.Secondary,"dark-mode":e.darkMode,"data-cy":"surfaceBookmarkButton","data-pepin-id":e.isUserRegistered?e.isActiveWallBookmarked?"surface-action-bar-edit-bookmark":"surface-action-bar-add-bookmark":null,"data-pepin-trigger":"click"},on:{click:function(t){e.isUserRegistered?e.isActiveWallBookmarked?e.openEditBookmarksDialog():e.bookmarkWallAndNotify():e.showRequestLoginToBookmarkDialog()}}}),e._v(" "),e.isPostable&&e.xMobileSurfaceLayoutV3?o("OzBaseButton",{class:["flex-grow tablet-portrait:flex-grow-0","flex items-center justify-center","px-1","bg-transparent"],attrs:{"aria-label":e.__("Add post"),title:e.__("Add post"),"data-cy":"surfaceAddPostButton","data-pepin-id":e.isMap?"surface-action-bar-open-location-picker":"surface-action-bar-open-post-composer","data-pepin-trigger":"click"},on:{click:function(t){e.isMap?e.startPickingLocation():e.startNewPost()}}},[[o("div",{class:["flex items-center justify-center","rounded-full w-8 h-8","bg-padlet-pink text-light-text-100 hover-hover:hover:bg-padlet-pink-600"]},[o("OzIcon",{attrs:{name:"plus_thick",size:20}})],1)]],2):e._e(),e._v(" "),e.isEmbedded?o("OzIconButton",{staticClass:"flex-grow tablet-portrait:flex-grow-0",attrs:{label:e.__("Open in new tab"),"icon-name":"external_link","icon-size":e.xMobileSurfaceLayoutV3?24:16,"size-preset":e.OzIconButtonSizePreset.H40px,"color-scheme":e.xMobileSurfaceLayoutV3?e.OzIconButtonColorScheme.SecondaryClear:e.OzIconButtonColorScheme.Secondary,"dark-mode":e.darkMode,href:e.loginAndRedirectToWallUrl||e.links.show},on:{click:e.reloadIfLoginLinkExpired}}):e._e(),e._v(" "),e.isEmbedded?e._e():o("OzIconButton",{staticClass:"flex-grow tablet-portrait:flex-grow-0",attrs:{label:e.isRemakeDisabled?e.__("Remakes disabled"):e.__("Remake"),disabled:e.isRemakeDisabled,"icon-name":"arrow_2_rectangular_clockwise_thin","icon-size":e.xMobileSurfaceLayoutV3?24:16,"size-preset":e.OzIconButtonSizePreset.H40px,"color-scheme":e.xMobileSurfaceLayoutV3?e.OzIconButtonColorScheme.SecondaryClear:e.OzIconButtonColorScheme.Secondary,"dark-mode":e.darkMode,"data-cy":"surfaceRemakeButton","data-pepin-id":e.isUserRegistered&&"surface-action-bar-show-remake-panel","data-pepin-trigger":"click"},on:{click:function(t){e.isUserRegistered?e.showRemakePanel():e.showRequestLoginToRemakeDialog()}}}),e._v(" "),!e.canIAdminister||e.xMobileSurfaceLayoutV3||e.isEmbedded?e._e():o("OzIconButton",{staticClass:"flex-grow tablet-portrait:flex-grow-0",attrs:{label:e.__("Settings"),"icon-name":"gear_outline","icon-size":e.xMobileSurfaceLayoutV3?24:16,"size-preset":e.OzIconButtonSizePreset.H40px,"color-scheme":e.OzIconButtonColorScheme.Secondary,"dark-mode":e.darkMode,"data-cy":"surfaceSettingsButton","data-pepin-id":"surface-action-bar-show-settings-panel","data-pepin-trigger":"click"},on:{click:e.toggleSettingsPanel}}),e._v(" "),e.isEmbedded?e._e():o("OzIconButton",{ref:"moreButton",staticClass:"flex-grow tablet-portrait:flex-grow-0",attrs:{label:e.__("More"),"icon-name":"dot_3_horizontal","icon-size":24,"size-preset":e.OzIconButtonSizePreset.H40px,"color-scheme":e.OzIconButtonColorScheme.SecondaryClear,"dark-mode":e.darkMode,"data-cy":"surfaceMoreButton","data-pepin-id":"surface-action-bar-open-more-menu","data-pepin-trigger":"click"},on:{click:e.openMoreMenu}})],1),e._v(" "),e.xMoreMenu?o("SurfaceActionBarMoreMenu",{attrs:{"popover-anchor":e.moreMenuAnchor},on:{"trigger-anchor-update":e.updateMoreMenuAnchor,close:e.closeMoreMenu}}):e._e()],1)}),[],!1,null,null,null);t.default=q.exports},138:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var i,r=o(2),a=function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},n=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};!function(e){e.Solid="Solid",e.Translucent="Translucent"}(i||(i={}));let s=class extends r.f{constructor(){super(...arguments),this.OzDividerColorScheme=i}};a([Object(r.e)({default:"auto"}),n("design:type",Object)],s.prototype,"darkMode",void 0),a([Object(r.e)({required:!0}),n("design:type",String)],s.prototype,"colorScheme",void 0),s=a([r.a],s);var l=s,c=o(5),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:["h-[0.5px]",e.colorScheme===e.OzDividerColorScheme.Solid&&[{"bg-divider-gray dark:bg-divider-gray-dark":"auto"===e.darkMode,"bg-divider-gray":!1===e.darkMode,"bg-divider-gray-dark":!0===e.darkMode}],e.colorScheme===e.OzDividerColorScheme.Translucent&&["bg-opacity-30",{"bg-grey-200 dark:bg-white-400":"auto"===e.darkMode,"bg-grey-200":!1===e.darkMode,"bg-white-400":!0===e.darkMode}]]})}),[],!1,null,null,null);t.b=d.exports},148:function(e,t,o){var i=o(279);"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,o(78).default)("352983d3",i,!0,{})},183:function(e,t,o){"use strict";var i=o(2),r=o(92),a=function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},n=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let s=class extends i.f{constructor(){super(...arguments),this.isTouchingTopOfScreen=!1}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}mounted(){this.fullSize&&(this.isTouchingTopOfScreen=!0),this.$refs.modalContainer.clientHeight>=this.$el.clientHeight&&(this.isTouchingTopOfScreen=!0)}};a([Object(i.e)({default:!1}),n("design:type",Boolean)],s.prototype,"fullSize",void 0),a([Object(i.e)({default:"auto"}),n("design:type",Object)],s.prototype,"darkMode",void 0),a([Object(i.e)({default:!1}),n("design:type",Boolean)],s.prototype,"xScrim",void 0),a([Object(i.e)({default:!1}),n("design:type",Boolean)],s.prototype,"isScrimSpectral",void 0),a([Object(i.e)({default:!0}),n("design:type",Boolean)],s.prototype,"shouldFadeIn",void 0),s=a([Object(i.a)({components:{OzOverlay:r.a}})],s);var l=s,c=(o(278),o(5)),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{"leave-active-class":"out",duration:200}},[o("OzOverlay",{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],attrs:{"is-spectral":e.isScrimSpectral,scrim:e.xScrim?"modal":null,"should-fade-in":e.shouldFadeIn},on:{"scrim-click":e.scrimClick,"scrim-esc":e.scrimEsc}},[o("div",{ref:"modalContainer",class:[{"w-full":!0,"max-h-full":!0,"min-h-full":e.fullSize,"overflow-auto flex flex-col":!0,"modal-container":!0,"shadow-elevation-5":!e.fullSize,"rounded-none":e.isTouchingTopOfScreen,"rounded-3xl rounded-br-none rounded-bl-none":!e.isTouchingTopOfScreen,"full-size":e.fullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"pb-safe-inset-bottom":!0}]},[o("div",{class:[{"max-h-full flex flex-grow flex-col overflow-hidden":!0}]},[o("header",[e._t("header")],2),e._v(" "),o("div",{class:{"flex flex-grow flex-col p-0 overflow-auto":!0}},[e._t("body")],2)])])])],1)}),[],!1,null,"77e9b671",null);t.a=d.exports},278:function(e,t,o){"use strict";var i=o(148);o.n(i).a},279:function(e,t,o){(e.exports=o(77)(!1)).push([e.i,".modal-container[data-v-77e9b671] {\n  max-height: none;\n  animation-name: modal-slide-up-data-v-77e9b671;\n  animation-duration: 0.2s;\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.modal-container.full-size[data-v-77e9b671] {\n    animation-duration: 0.4s;\n}\n.out .modal-container[data-v-77e9b671] {\n    animation-name: modal-slide-down-data-v-77e9b671;\n    animation-duration: 0.15s;\n    animation-timing-function: cubic-bezier(0.4, 0, 1, 1);\n    animation-fill-mode: forwards;\n}\n@keyframes modal-slide-up-data-v-77e9b671 {\n0% {\n    transform: translateY(100%);\n}\n100% {\n    transform: translateY(0);\n}\n}\n@keyframes modal-slide-down-data-v-77e9b671 {\n0% {\n    transform: translateY(0);\n}\n100% {\n    transform: translateY(100%);\n}\n}\n",""])},393:function(e,t,o){var i=o(660);"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,o(78).default)("58795808",i,!0,{})},446:function(e,t,o){"use strict";var i=o(2),r=o(386),a=o.n(r),n=o(92),s=function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},l=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends i.f{constructor(){super(...arguments),this.MAX_TOP_MARGIN=0,this.MIN_TOP_MARGIN=0,this.DRAG_DISTANCE_AT_TOP=0,this.DRAG_DISTANCE_MIN=0,this.dragDistanceY=0,this.dragDistanceYBeforeStart=0,this.latestVelocityY=0,this.latestPanEventTimestamp=0,this.draggedToFullSize=!1,this.scrollEnabled=!1,this.panEnabled=!1,this.marginTop=0,this.scrollTop=0,this.isDragStartEmittedForScroll=!1,this.scrollWithPan=!1}handleDragDisable(e){e?this.removePanListener():this.addPanListener()}handleResize(e){e?(this.resetElement("full","slow"),setTimeout(()=>{document.documentElement.scrollTop=0},100),this.removePanListener()):(this.resetElement("top","slow"),this.addPanListener())}updateElement(){this.$nextTick(()=>{const e=this.$refs.modalContainer;e&&(this.marginTop=this.MAX_TOP_MARGIN+this.dragDistanceY,this.marginTop==this.MIN_TOP_MARGIN?this.draggedToFullSize=!0:this.draggedToFullSize=!1,e.style.marginTop=this.marginTop+"px")})}addTransition(e="slow"){const t=this.$refs.modalContainer;t&&(t.style.transition="slow"==e?"margin 150ms cubic-bezier(0.4, 0, 0.2, 1)":"margin 50ms cubic-bezier(0.4, 0, 0.2, 1)",setTimeout(()=>{t.style.transition=""},"slow"==e?150:100))}resetElement(e="bottom",t="slow"){this.addTransition(t),"bottom"==e?(this.dragDistanceY=0,this.disableScroll()):"top"==e?(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll()):"full"==e?(this.dragDistanceY=-this.MAX_TOP_MARGIN,this.enableScroll()):"out"===e&&(this.dragDistanceY=this.windowHeight),this.updateElement()}computeEndVelocity({endEvent:e,lastPanEvent:t}){const o=(e.velocity+t.velocity)/Math.abs(e.velocity+t.velocity);return e.timestamp-t.timestamp>60?o*Math.max(Math.abs(t.velocity),e.velocity)*1e3:o*Math.abs(e.velocity)*1e3}get isScrollingWholeModal(){return"whole"==this.scrollType}get scrollingElement(){return this.isScrollingWholeModal?this.$refs.modalContainerInnerWrapper:this.$refs.modalBody}handleTrayScrollStart(e){this.touchStartY=e.touches[0].clientY,this.isDragStartEmittedForScroll=!1}handleTrayScroll(e){if(!this.scrollEnabled)return void(e.cancelable&&e.preventDefault());this.isDragStartEmittedForScroll||(this.isDragStartEmittedForScroll=!0,this.$emit("dragstart"));const t=this.scrollingElement;t&&(this.panEnabled&&t.scrollTop<0?e.preventDefault():this.panEnabled&&0==t.scrollTop&&(this.touchStartY&&this.touchStartY>e.changedTouches[0].clientY+5||this.touchStartY&&this.touchStartY<e.changedTouches[0].clientY-5&&e.cancelable&&e.preventDefault()),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=void 0),this.scrollTimeout=setTimeout(()=>{this.scrollTop=t.scrollTop;this.scrollTop<=5?this.addPanListener():this.removePanListener()},250))}enableScroll(){this.scrollEnabled=!0,this.scrollingElement.style.overflow="auto"}disableScroll(){this.scrollEnabled=!1,this.scrollingElement.style.overflow="visible"}handleStartPan(){this.dragDistanceYBeforeStart=this.dragDistanceY;const e=this.scrollingElement;this.scrollEnabled&&0==e.scrollTop&&(this.scrollWithPan=!0),this.$emit("dragstart")}handlePanMove(e,t,o){if(this.scrollWithPan&&e<0){this.scrollingElement.scrollTop=-e,this.scrollWithPan=!1}else this.dragDistanceY=Math.max(this.dragDistanceYBeforeStart+e,this.DRAG_DISTANCE_AT_TOP),this.updateElement(),this.latestVelocityY=t,this.latestPanEventTimestamp=o,this.$emit("dragging",e)}handlePanEnd(e,t){const o=this.computeEndVelocity({endEvent:{velocity:e,timestamp:t},lastPanEvent:{velocity:this.latestVelocityY,timestamp:this.latestPanEventTimestamp}});this.dragDistanceY<=this.DRAG_DISTANCE_AT_TOP&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP,this.enableScroll());const i=this.dragDistanceYBeforeStart<=this.DRAG_DISTANCE_AT_TOP;o>300?(this.$emit("swipedown",{isAtTopBeforeDragging:i}),this.latestVelocityY+e>0?this.resetElement("bottom","fast"):this.resetElement("top","fast")):o<-300?(this.$emit("swipeup",{isAtTopBeforeDragging:i}),this.latestVelocityY+e<0?this.resetElement("top","fast"):this.resetElement("bottom","fast")):this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP/2?this.resetElement("bottom","slow"):this.DRAG_DISTANCE_AT_TOP/2>this.dragDistanceY&&this.dragDistanceY>this.DRAG_DISTANCE_AT_TOP&&this.resetElement("top","slow"),this.$emit("dragend",this.dragDistanceY)}addPanListener(){if(!this.fullSize)if(this.disableDrag)this.enableScroll();else{if(!this.hammer){const e=this.$refs.modalContainerInner;this.hammer=new a.a(e)}this.hammer.get("pan").set({direction:a.a.DIRECTION_VERTICAL}),this.hammer.on("panstart",e=>{this.handleStartPan()}),this.hammer.on("panmove",e=>{this.handlePanMove(e.deltaY,e.velocityY,e.timeStamp)}),this.hammer.on("panend",e=>{this.handlePanEnd(e.velocityY,e.timeStamp)}),this.panEnabled=!0}}removePanListener(){this.hammer&&(this.hammer.off("panstart panmove panend"),this.panEnabled=!1)}computePrecalculatedMeasurement(){this.MAX_TOP_MARGIN=this.preferredTrayStartHeight?this.windowHeight-this.preferredTrayStartHeight:this.windowHeight/4,this.MIN_TOP_MARGIN=(()=>{var e;if(this.shouldFullSizeCoverScreen)return this.minTopMargin;const t=this.$refs.modalBodyContent;if(t){const o=this.windowHeight-t.clientHeight-(null===(e=this.$refs.header)||void 0===e?void 0:e.clientHeight);return o>this.MAX_TOP_MARGIN||o<0?this.minTopMargin:o}return this.minTopMargin})(),this.DRAG_DISTANCE_AT_TOP=-this.MAX_TOP_MARGIN+Math.max(0,this.MIN_TOP_MARGIN),this.DRAG_DISTANCE_MIN=-this.MAX_TOP_MARGIN+this.MIN_TOP_MARGIN}setStartingTopMargin(){this.marginTop=this.MAX_TOP_MARGIN,(this.fullSize||this.draggedToFullSize)&&(this.dragDistanceY=this.DRAG_DISTANCE_AT_TOP),this.updateElement()}recalculateMeasurement(){this.$nextTick(()=>{this.computePrecalculatedMeasurement(),this.setStartingTopMargin()})}mounted(){this.computePrecalculatedMeasurement(),this.setStartingTopMargin(),this.addPanListener()}scrimClick(){this.$emit("scrim-click")}scrimEsc(){this.$emit("scrim-esc")}};s([Object(i.e)({default:!0}),l("design:type",Boolean)],c.prototype,"xHeader",void 0),s([Object(i.e)({required:!0}),l("design:type",Number)],c.prototype,"windowHeight",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"xDrawerHandle",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"fullSize",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"disableDrag",void 0),s([Object(i.e)({default:"body"}),l("design:type",String)],c.prototype,"scrollType",void 0),s([Object(i.e)({default:"auto"}),l("design:type",Object)],c.prototype,"darkMode",void 0),s([Object(i.e)({default:void 0}),l("design:type",Number)],c.prototype,"preferredTrayStartHeight",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"shouldFullSizeCoverScreen",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"xScrim",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"isScrimSpectral",void 0),s([Object(i.e)({default:!0}),l("design:type",Boolean)],c.prototype,"shouldFadeIn",void 0),s([Object(i.e)({default:0}),l("design:type",Number)],c.prototype,"minTopMargin",void 0),s([Object(i.g)("disableDrag"),l("design:type",Function),l("design:paramtypes",[Boolean]),l("design:returntype",void 0)],c.prototype,"handleDragDisable",null),s([Object(i.g)("fullSize"),l("design:type",Function),l("design:paramtypes",[Boolean]),l("design:returntype",void 0)],c.prototype,"handleResize",null),s([Object(i.g)("preferredTrayStartHeight"),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],c.prototype,"recalculateMeasurement",null),c=s([Object(i.a)({components:{OzOverlay:n.a}})],c);var d=c,u=(o(659),o(5)),p=Object(u.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{"leave-active-class":"out"}},[o("OzOverlay",{class:["overflow-hidden","flex","flex-col","justify-end","items-center","font-sans"],attrs:{"is-spectral":e.isScrimSpectral,scrim:e.xScrim?"modal":null,"should-fade-in":e.shouldFadeIn},on:{"scrim-click":e.scrimClick,"scrim-esc":e.scrimEsc}},[o("div",{ref:"modalContainer",class:[{"mt-96 min-h-auto w-full":!0,"h-full":e.shouldFullSizeCoverScreen,"overflow-auto flex flex-col":!0,"modal-container":!0,"shadow-elevation-5":!e.fullSize&&!e.draggedToFullSize,"rounded-none":(e.fullSize||e.draggedToFullSize)&&e.MIN_TOP_MARGIN===e.minTopMargin,"rounded-3xl rounded-br-none rounded-bl-none":!e.fullSize&&!e.draggedToFullSize||e.MIN_TOP_MARGIN>e.minTopMargin,"full-size":e.fullSize||e.draggedToFullSize,"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"pb-safe-inset-bottom":!0}]},[o("div",{ref:"modalContainerInner",class:[{"bg-light-ui-100 dark:bg-dark-ui-100":"auto"===e.darkMode,"bg-light-ui-100 ":!1===e.darkMode,"bg-dark-ui-100":!0===e.darkMode,"min-h-full flex flex-grow flex-col overflow-hidden":!0}]},[o("div",{ref:"modalContainerInnerWrapper",class:[e.isScrollingWholeModal?"block":"contents","pb-0"]},[e.xHeader?o("header",{ref:"header"},[e.xDrawerHandle?o("div",{staticClass:"flex justify-center mb-2 pt-1",attrs:{id:"tray-expander-controller"}},[o("div",{staticClass:"rounded w-7 h-1 bg-highway-disabled dark:bg-white-disabled"})]):e._e(),e._v(" "),e._t("header")],2):e._e(),e._v(" "),o("div",{ref:"modalBody",class:{"h-auto flex flex-grow flex-col p-0 overflow-hidden":!0,"overflow-y-auto":e.fullSize||e.draggedToFullSize},on:{touchstart:e.handleTrayScrollStart,touchmove:e.handleTrayScroll,touchend:function(t){return e.$emit("dragend",e.dragDistanceY)}}},[o("div",{ref:"modalBodyContent"},[e._t("body")],2)])])])])])],1)}),[],!1,null,"53b37445",null);t.a=p.exports},659:function(e,t,o){"use strict";var i=o(393);o.n(i).a},660:function(e,t,o){(e.exports=o(77)(!1)).push([e.i,".modal-container[data-v-53b37445] {\n  max-height: none;\n  animation-name: modal-slide-up-data-v-53b37445;\n  animation-duration: 0.2s;\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.modal-container.full-size[data-v-53b37445] {\n    animation-duration: 0.4s;\n}\n.out .modal-container[data-v-53b37445] {\n    animation-name: modal-slide-down-data-v-53b37445;\n    animation-duration: 0.15s;\n    animation-timing-function: cubic-bezier(0.4, 0, 1, 1);\n    animation-fill-mode: forwards;\n}\n@keyframes modal-slide-up-data-v-53b37445 {\n0% {\n    transform: translateY(100%);\n}\n100% {\n    transform: translateY(0);\n}\n}\n@keyframes modal-slide-down-data-v-53b37445 {\n0% {\n    transform: translateY(0);\n}\n100% {\n    transform: translateY(100%);\n}\n}\n",""])},685:function(e,t,o){"use strict";var i=o(2),r=o(183),a=o(446),n=o(192),s=function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},l=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends i.f{};s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"isPhone",void 0),s([Object(i.e)({default:!1}),l("design:type",Boolean)],c.prototype,"isDraggableDrawer",void 0),c=s([Object(i.a)({components:{OzDrawerStatic:r.a,OzDrawerDraggable:a.a,OzPopoverModal:n.b}})],c);var d=c,u=o(5),p=Object(u.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.isPhone&&!e.isDraggableDrawer?o("OzDrawerStatic",e._b({on:{"scrim-click":function(t){return e.$emit("scrim-click")},"scrim-esc":function(t){return e.$emit("scrim-esc")}}},"OzDrawerStatic",Object.assign({},e.$props,e.$attrs),!1),[e._l(e.$slots,(function(t,o){return e._t(o,null,{slot:o})}))],2):e.isPhone&&e.isDraggableDrawer?o("OzDrawerDraggable",e._b({on:{"scrim-click":function(t){return e.$emit("scrim-click")},"scrim-esc":function(t){return e.$emit("scrim-esc")},swipedown:function(t){return e.$emit("swipedown",t)},swipeup:function(t){return e.$emit("swipeup",t)}}},"OzDrawerDraggable",Object.assign({},e.$props,e.$attrs),!1),[e._l(e.$slots,(function(t,o){return e._t(o,null,{slot:o})}))],2):o("OzPopoverModal",e._b({on:{"trigger-anchor-update":function(t){return e.$emit("trigger-anchor-update")},"scrim-click":function(t){return e.$emit("scrim-click")},"scrim-esc":function(t){return e.$emit("scrim-esc")}}},"OzPopoverModal",Object.assign({},e.$props,e.$attrs),!1),[e._l(e.$slots,(function(t,o){return e._t(o,null,{slot:o})}))],2)}),[],!1,null,null,null);t.a=p.exports}}]);
//# sourceMappingURL=162-e8c2f4e857dde48acc88.chunk.js.map